/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
function Silverlight_OnPluginErrorHandler(n,t){Silverlight_GeneralErrorHandler(n,t,"Silverlight Plugin Error: \n\n")}function Silverlight_GeneralErrorHandler(n,t,i){i+="Error Type:    "+t.get_error().errorType+"\n";i+="Error Message: "+t.get_error().errorMessage+"\n";i+="Error Code:    "+t.get_error().errorCode+"\n";alert(i)}function Silverlight_OnPluginSourceDownloadProgressChangedHandler(n,t){var i=n.get_element().content,r=Math.round(t.get_progress()*100);i.findName("ProgressText").Text=r+"%"}function ForceSubmit(n,t){__doPostBack(n,t)}function moveArrayElement(n,t,i){if(i>=n.length)for(var r=i-this.length;r--+1;)n.push(undefinied);n.splice(i,0,n.splice(t,1)[0])}function getTextFromSelect(n){return $("option:selected",n).text()}function getAttributeFromOption(n,t){return $("option:selected",t).attr(n)}function getPropertyFromOption(n,t){return $(t).select2("data")[0][n]}function isRunningOnElectron(){return window.location.href.indexOf("host=electron")>0}function getQueryStringParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function loadTables(n){var u=repository.getTables(),t,r;let i=[];for(i.push({id:0,text:textoPadraoSelecao}),t=0;t<u.length;t++)r=u[t],i.push({id:r.Handle,text:r.Name});$(n).select2({data:i})}function loadFieldsFromTable(n,t){var u=repository.getFieldsFromTable(n),r,i;let f=[];if(f.push({id:0,text:textoPadraoSelecao}),u!=undefined)for(r=0;r<u.length;r++)i=u[r],f.push({id:i.Handle,table:i.SearchTable,tableName:i.TableName,fieldClass:i.FieldClass,text:i.Name});$(t).select2().empty();$(t).select2({data:f})}function loadLookupFields(n,t){var u=(new Date).getTime()+"c",i=(new Date).getTime()+"s",r='<div class="col-md-3 campo" id="'+u+'"><div class="form-group"><label class="control-label">&nbsp;<\/label>';r+='<select class="form-control select2me" data-lookuplevel='+(lookupFieldLevel+1)+' data-placeholder="Selecione..." id="'+i+'"><\/select>';r+="<\/div/><\/div>";$(n).attr("class","col-md-3 campo").after(r);$(".select2me",n).attr("data-lookuplevel",lookupFieldLevel);loadFieldsFromTable(t,$("#"+i));$(".select2-container",$("#fieldsDiv")).css("width","100%");$("#"+i).on("change",function(){selectedFieldFromSelect($(this))});lookupFieldLevel=$(".select2me",n).data("lookuplevel")+1;$("#"+i).select2("open")}function addTemporaryField(n){var t={table:getPropertyFromOption("tableName",n),name:getTextFromSelect(n),fieldClass:getPropertyFromOption("fieldClass",n),isTableField:!0,lookuplevel:n.data("lookuplevel")};let i=_.filter(temporarySelectedFields,function(n){return n.lookuplevel<t.lookuplevel});temporarySelectedFields=i;temporarySelectedFields.push(t)}function selectedFieldFromSelect(n){var t,i,r;if(n.select2("data")[0].text!=textoPadraoSelecao)if(addTemporaryField(n),t=getFieldFromTemporaryFields(),t.FieldClass!=Lookup){if(addSelectedField(t,!0),dataSource.Fields.push(t),lookupFieldLevel>0){let t=n.data("lookuplevel");if(t<lookupFieldLevel)for(i=t;i<lookupFieldLevel;i++)$("[data-lookuplevel="+(i+1)+"]").parent().parent().remove();lookupFieldLevel=t;lookupFieldLevel==0&&$("#fieldsDiv").attr("class","col-md-12 campo")}}else t.FieldClass==Lookup&&(r=$(n).closest("div.campo"),loadLookupFields(r,getPropertyFromOption("table",n)))}function getFieldPathFromTemporaryFields(){for(var n,i="",t=0;t<temporarySelectedFields.length;t++)n=temporarySelectedFields[t],i+=n.table==getTextFromSelect($("#tabelas"))?n.name:n.table+"."+n.name,t!=temporarySelectedFields.length-1&&(i+=">");return i}function getFieldAliasFromTemporaryFields(){return temporarySelectedFields.length==1?temporarySelectedFields[0].name:temporarySelectedFields[temporarySelectedFields.length-1].name+temporarySelectedFields[temporarySelectedFields.length-2].name}function getFieldClassFromTemporaryFields(){return temporarySelectedFields.length==1?temporarySelectedFields[0].fieldClass:temporarySelectedFields[temporarySelectedFields.length-1].fieldClass}function getFieldFromTemporaryFields(){return{Handle:(new Date).getTime(),Alias:getFieldAliasFromTemporaryFields(),Path:getFieldPathFromTemporaryFields(),Description:"",FieldClass:getFieldClassFromTemporaryFields(),IsTableField:!0}}function addSelectedField(n,t){var r=(new Date).getTime(),i;n.Handle==0&&(n.Handle=r);i='<li class="dd-item dd3-item" data-id="'+n.Handle+'">';t&&(i+='<div class="dd-handle dd3-handle"><\/div>');i+='<div class="dd3-content">';t&&(i+='<a class="delete-field btn btn-xs btn-circle red pull-right"><i class="fa fa-minus" style="width: 10px;"><\/i><\/a>');i+='<div class="fieldPath">'+n.Path+"<\/div>";i+="<\/li>";$("#lista-campos-selecionados").append(i);temporarySelectedFields=[]}function setNewDataSourcePageBehavior(){$("#lblDataSourceType_table").remove();initAceEditor()}function getDataSource(n){var r,t,i;if(dataSource=repository.getDataSource(n),$("#Identificacao").val(dataSource.Identifier),$("#Nome").val(dataSource.Name),dataSource.FromSql!=null)for($("#lblDataSourceType_table").remove(),initAceEditor(),$("#alias").attr("readonly",!0),t=0;t<dataSource.Fields.length;t++)i=dataSource.Fields[t],i.Handle=(new Date).getTime()+t,addSelectedField(i,!1);else if(dataSource.FromTable!=null){for($("#lblDataSourceType_query").remove(),$("#dataSourceType_table").click(),toggleActiveRadio("table"),$("#lblDataSourceType_query").remove(),r=_.findWhere(tables,{Name:dataSource.FromTable.Name}).Handle,loadFieldsFromTable(r,$("#campos")),$("#tabelas").val(r).change(),t=0;t<dataSource.Fields.length;t++)i=dataSource.Fields[t],i.Handle=(new Date).getTime()+t,addSelectedField(i,!0);$("#campos-selecionados").nestable({group:1,dropCallback:function(n){var t=_.findWhere(dataSource.Fields,{Handle:n.sourceId});$("#path").val(t.Path);$("#alias").val(t.Alias)}}).on("change",function(){for(var i,r=$("#campos-selecionados").nestable("serialize"),t=dataSource.Fields,n=0;n<r.length;n++)(i=_.findIndex(t,{Handle:r[n].id}),n!=i)&&moveArrayElement(t,i,n);dataSource.Fields=t});$(".fieldPathTitle").css("margin-left","35px");$(".fieldPath").css("margin-left","30px");$("#filter").val(dataSource.Filter)}dataSource.Handle!=0&&$("input[type=radio][name=dataSourceType]").attr("disabled","disabled")}function initAceEditor(){aceEditor=ace.edit("selectCommand");aceEditor.setTheme("ace/theme/chrome");aceEditor.getSession().setMode("ace/mode/sql");aceEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0});dataSource.FromSql!=null&&dataSource.FromSql.SelectCommand!=undefined&&dataSource.FromSql.SelectCommand!=""&&aceEditor.setValue(dataSource.FromSql.SelectCommand);$("#selectCommand").keyup(function(n){n.keyCode==27&&n.stopPropagation()})}function clearFields(n){$("#datasources-content .custom-alerts").remove();$("#lista-campos-selecionados").html("");dataSource.Fields=[];n&&(dataSource.FromTable!=null&&dataSource.FromTable.Name!=""&&$("#tabelas").val(0).change(),$(".select2-container").css("width","100%"),aceEditor!=undefined&&aceEditor.setValue(""))}function toggleActiveRadio(n){$(".dataSourceType_fields").addClass("hidden");$("#"+n+"Fields").toggleClass("hidden");$("#getColumnsDiv").toggleClass("hidden");$("#fieldsDiv").toggleClass("hidden");$(".select2-container").css("width","100%")}function changeSelectedTable(n){dataSource.FromTable.Name=n.text();clearFields();loadFieldsFromTable($(n).val(),$("#campos"))}function keepPreviousTableSelected(){let n=_.findWhere(tables,{Name:dataSource.FromTable.Name}).Handle;$("#tabelas").val(n).change();$(".select2-container").css("width","100%")}function updateDataSourceDefinition(n){dataSource.Handle=n.Handle;dataSource.Identifier=n.Identifier;$("#Identificacao").val(dataSource.Identifier);dataSource.Name=n.Name;$("#Nome").val(dataSource.Name);dataSource.Fields=n.Fields;$("#lista-campos-selecionados").html("");$.each(n.Fields,function(){addSelectedField(this,n.FromTable!=null&&n.FromTable.Name!=null)})}function updateBreadCrumb(){$("li:last",$(".page-breadcrumb"))[0].childNodes[0].text=dataSource.Name}function showMessage(n,t){App.alert({type:n,message:t,container:$("#datasources-content"),place:"prepend"});Benner.Control.restoreFocus()}var Handlebars,App,Layout,QuickSidebar,BennerSearcher,isIE11,WebTour;!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ii(n){var t=!!n&&"length"in n&&n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function ri(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(pe.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return i.inArray(n,t)>-1!==r})}function kr(n,t){do n=n[t];while(n&&1!==n.nodeType);return n}function we(n){var t={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function dr(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",v),n.removeEventListener("load",v)):(u.detachEvent("onreadystatechange",v),n.detachEvent("onload",v))}function v(){(u.addEventListener||"load"===n.event.type||"complete"===u.readyState)&&(dr(),i.ready())}function nu(n,t,r){if(void 0===r&&1===n.nodeType){var u="data-"+t.replace(ke,"-$1").toLowerCase();if(r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:be.test(r)?i.parseJSON(r):r}catch(f){}i.data(n,t,r)}else r=void 0}return r}function fi(n){for(var t in n)if(("data"!==t||!i.isEmptyObject(n[t]))&&"toJSON"!==t)return!1;return!0}function tu(n,t,r,u){if(ot(n)){var s,e,h=i.expando,l=n.nodeType,o=l?i.cache:n,f=l?n[h]:n[h]&&h;if(f&&o[f]&&(u||o[f].data)||void 0!==r||"string"!=typeof t)return f||(f=l?n[h]=c.pop()||i.guid++:h),o[f]||(o[f]=l?{}:{toJSON:i.noop}),"object"!=typeof t&&"function"!=typeof t||(u?o[f]=i.extend(o[f],t):o[f].data=i.extend(o[f].data,t)),e=o[f],u||(e.data||(e.data={}),e=e.data),void 0!==r&&(e[i.camelCase(t)]=r),"string"==typeof t?(s=e[t],null==s&&(s=e[i.camelCase(t)])):s=e,s}}function iu(n,t,u){if(ot(n)){var o,s,h=n.nodeType,f=h?i.cache:n,e=h?n[i.expando]:i.expando;if(f[e]){if(t&&(o=u?f[e]:f[e].data)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in o)?t=[t]:(t=i.camelCase(t),t=(t in o)?[t]:t.split(" ")),s=t.length;s--;)delete o[t[s]];if(u?!fi(o):!i.isEmptyObject(o))return}(u||(delete f[e].data,fi(f[e])))&&(h?i.cleanData([n],!0):r.deleteExpando||f!=f.window?delete f[e]:f[e]=void 0)}}}function ru(n,t,r,u){var h,e=1,l=20,c=u?function(){return u.cur()}:function(){return i.css(n,t,"")},s=c(),o=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==o&&+s)&&oi.exec(i.css(n,t));if(f&&f[3]!==o){o=o||f[3];r=r||[];f=+s||1;do e=e||".5",f/=e,i.style(n,t,f+o);while(e!==(e=c()/s)&&1!==e&&--l)}return r&&(f=+f||+s||0,h=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=o,u.start=f,u.end=h)),h}function ou(n){var i=eu.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function f(n,t){var e,u,o=0,r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],e=n.childNodes||n;null!=(u=e[o]);o++)!t||i.nodeName(u,t)?r.push(u):i.merge(r,f(u,t));return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function ci(n,t){for(var u,r=0;null!=(u=n[r]);r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function de(n){si.test(n.type)&&(n.defaultChecked=n.checked)}function hu(n,t,u,e,s){for(var l,h,k,c,w,b,v,d=n.length,y=ou(t),a=[],p=0;d>p;p++)if(h=n[p],h||0===h)if("object"===i.type(h))i.merge(a,h.nodeType?[h]:h);else if(su.test(h)){for(c=c||y.appendChild(t.createElement("div")),w=(uu.exec(h)||["",""])[1].toLowerCase(),v=o[w]||o._default,c.innerHTML=v[1]+i.htmlPrefilter(h)+v[2],l=v[0];l--;)c=c.lastChild;if(!r.leadingWhitespace&&hi.test(h)&&a.push(t.createTextNode(hi.exec(h)[0])),!r.tbody)for(h="table"!==w||li.test(h)?"<table>"!==v[1]||li.test(h)?0:c:c.firstChild,l=h&&h.childNodes.length;l--;)i.nodeName(b=h.childNodes[l],"tbody")&&!b.childNodes.length&&h.removeChild(b);for(i.merge(a,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=y.lastChild}else a.push(t.createTextNode(h));for(c&&y.removeChild(c),r.appendChecked||i.grep(f(a,"input"),de),p=0;h=a[p++];)if(e&&i.inArray(h,e)>-1)s&&s.push(h);else if(k=i.contains(h.ownerDocument,h),c=f(y.appendChild(h),"script"),k&&ci(c),u)for(l=0;h=c[l++];)fu.test(h.type||"")&&u.push(h);return c=null,y}function vt(){return!0}function rt(){return!1}function au(){try{return u.activeElement}catch(n){}}function vi(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)vi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),f===!1)f=rt;else if(!f)return n;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function yu(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function pu(n){return n.type=(null!==i.find.attr(n,"type"))+"/"+n.type,n}function wu(n){var t=fo.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function bu(n,t){if(1===t.nodeType&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;o>f;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function so(n,t){var u,e,f;if(1===t.nodeType){if(u=t.nodeName.toLowerCase(),!r.noCloneEvent&&t[i.expando]){f=i._data(t);for(e in f.events)i.removeEvent(t,e,f.handle);t.removeAttribute(i.expando)}"script"===u&&t.text!==n.text?(pu(t).text=n.text,wu(t)):"object"===u?(t.parentNode&&(t.outerHTML=n.outerHTML),r.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):"input"===u&&si.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):"option"===u?t.defaultSelected=t.selected=n.defaultSelected:"input"!==u&&"textarea"!==u||(t.defaultValue=n.defaultValue)}}function k(n,t,u,e){t=sr.apply([],t);var l,o,a,h,p,c,s=0,v=n.length,b=v-1,y=t[0],w=i.isFunction(y);if(w||v>1&&"string"==typeof y&&!r.checkClone&&uo.test(y))return n.each(function(i){var r=n.eq(i);w&&(t[0]=y.call(this,i,r.html()));k(r,t,u,e)});if(v&&(c=hu(t,n[0].ownerDocument,!1,n,e),l=c.firstChild,1===c.childNodes.length&&(c=l),l||e)){for(h=i.map(f(c,"script"),pu),a=h.length;v>s;s++)o=c,s!==b&&(o=i.clone(o,!0,!0),a&&i.merge(h,f(o,"script"))),u.call(n[s],o,s);if(a)for(p=h[h.length-1].ownerDocument,i.map(h,wu),s=0;a>s;s++)o=h[s],fu.test(o.type||"")&&!i._data(o,"globalEval")&&i.contains(p,o)&&(o.src?i._evalUrl&&i._evalUrl(o.src):i.globalEval((o.text||o.textContent||o.innerHTML||"").replace(eo,"")));c=l=null}return n}function ku(n,t,r){for(var u,o=t?i.filter(t,n):n,e=0;null!=(u=o[e]);e++)r||1!==u.nodeType||i.cleanData(f(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&ci(f(u,"script")),u.parentNode.removeChild(u));return n}function du(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.detach(),u}function yt(n){var r=u,t=pi[n];return t||(t=du(n,r),"none"!==t&&t||(ht=(ht||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=(ht[0].contentWindow||ht[0].contentDocument).document,r.write(),r.close(),t=du(n,r),ht.detach()),pi[n]=t),t}function bi(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function ef(n){if(n in ff)return n;for(var i=n.charAt(0).toUpperCase()+n.slice(1),t=uf.length;t--;)if(n=uf[t]+i,n in ff)return n}function of(n,t){for(var f,r,o,e=[],u=0,s=n.length;s>u;u++)r=n[u],r.style&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||"none"!==f||(r.style.display=""),""===r.style.display&&st(r)&&(e[u]=i._data(r,"olddisplay",yt(r.nodeName)))):(o=st(r),(f&&"none"!==f||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;s>u;u++)r=n[u],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?e[u]||"":"none"));return n}function sf(n,t,i){var r=lo.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function hf(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+b[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+b[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+b[e]+"Width",!0,f))):(o+=i.css(n,"padding"+b[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+b[e]+"Width",!0,f)));return o}function cf(n,t,u){var o=!0,f="width"===t?n.offsetWidth:n.offsetHeight,e=d(n),s=r.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,e);if(0>=f||null==f){if(f=p(n,t,e),(0>f||null==f)&&(f=n.style[t]),pt.test(f))return f;o=s&&(r.boxSizingReliable()||f===n.style[t]);f=parseFloat(f)||0}return f+hf(n,t,u||(s?"border":"content"),o,e)+"px"}function e(n,t,i,r,u){return new e.prototype.init(n,t,i,r,u)}function vf(){return n.setTimeout(function(){ut=void 0}),ut=i.now()}function bt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=b[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function yf(n,t,i){for(var u,f=(h.tweeners[t]||[]).concat(h.tweeners["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function vo(n,t,u){var f,a,p,v,s,w,h,b,l=this,y={},o=n.style,c=n.nodeType&&st(n),e=i._data(n,"fxshow");u.queue||(s=i._queueHooks(n,"fx"),null==s.unqueued&&(s.unqueued=0,w=s.empty.fire,s.empty.fire=function(){s.unqueued||w()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--;i.queue(n,"fx").length||s.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[o.overflow,o.overflowX,o.overflowY],h=i.css(n,"display"),b="none"===h?i._data(n,"olddisplay")||yt(n.nodeName):h,"inline"===b&&"none"===i.css(n,"float")&&(r.inlineBlockNeedsLayout&&"inline"!==yt(n.nodeName)?o.zoom=1:o.display="inline-block"));u.overflow&&(o.overflow="hidden",r.shrinkWrapBlocks()||l.always(function(){o.overflow=u.overflow[0];o.overflowX=u.overflow[1];o.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],lf.exec(a)){if(delete t[f],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!e||void 0===e[f])continue;c=!0}y[f]=e&&e[f]||i.style(n,f)}else h=void 0;if(i.isEmptyObject(y))"inline"===("none"===h?yt(n.nodeName):h)&&(o.display=h);else{e?"hidden"in e&&(c=e.hidden):e=i._data(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;i._removeData(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=yf(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start="width"===f||"height"===f?1:0))}}function yo(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function h(n,t,r){var e,o,s=0,a=h.prefilters.length,f=i.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var s=ut||vf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;e>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:ut||vf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),c=u.props;for(yo(c,u.opts.specialEasing);a>s;s++)if(e=h.prefilters[s].call(u,n,c,u.opts))return i.isFunction(e.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=i.proxy(e.stop,e)),e;return i.map(c,yf,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(l,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function nt(n){return i.attr(n,"class")||""}function re(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])"+"===u.charAt(0)?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function ue(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===tr;return e(t.dataTypes[0])||!f["*"]&&e("*")}function rr(n,t){var u,r,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ts(n,t,i){for(var o,e,u,f,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(f in s)if(s[f]&&s[f].test(e)){r.unshift(f);break}if(r[0]in i)u=r[0];else{for(f in i){if(!r[0]||n.converters[f+" "+r[0]]){u=f;break}o||(o=f)}u=u||o}if(u)return(u!==r[0]&&r.unshift(u),i[u])}function is(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function rs(n){return n.style&&n.style.display||i.css(n,"display")}function us(n){if(!i.contains(n.ownerDocument||u,n))return!0;while(n&&1===n.nodeType){if("none"===rs(n)||"hidden"===n.type)return!0;n=n.parentNode}return!1}function ur(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||es.test(n)?u(n,i):ur(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ur(n+"["+f+"]",t[f],r,u)}function fr(){try{return new n.XMLHttpRequest}catch(t){}}function ee(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function oe(n){return i.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var c=[],u=n.document,a=c.slice,sr=c.concat,ti=c.push,hr=c.indexOf,lt={},ce=lt.toString,tt=lt.hasOwnProperty,r={},cr="1.12.4",i=function(n,t){return new i.fn.init(n,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ve=/-([\da-z])/gi,ye=function(n,t){return t.toUpperCase()},w,ui,yr,pr,wr,br,s,at,gr,o,su,li,ht,pi,d,p,tf,ut,wt,lf,af,pf,wf,kf,df,dt,er,ni,or,se,he;i.fn=i.prototype={jquery:cr,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ti,sort:c.sort,splice:c.splice};i.extend=i.fn.extend=function(){var r,e,t,f,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(f in o)r=n[f],t=o[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(e=i.isArray(t)))?(e?(e=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(cr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray||function(n){return"array"===i.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){var t=n&&n.toString();return!i.isArray(n)&&t-parseFloat(t)+1>=0},isEmptyObject:function(n){for(var t in n)return!1;return!0},isPlainObject:function(n){var t;if(!n||"object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!tt.call(n,"constructor")&&!tt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}if(!r.ownFirst)for(t in n)return tt.call(n,t);for(t in n);return void 0===t||tt.call(n,t)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?lt[ce.call(n)]||"object":typeof n},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ae,"ms-").replace(ve,ye)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t){var r,i=0;if(ii(n)){for(r=n.length;r>i;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(le,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ii(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ti.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(hr)return hr.call(t,n,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,t){for(var r=+t.length,i=0,u=n.length;r>i;)n[u++]=t[i++];if(r!==r)while(void 0!==t[i])n[u++]=t[i++];return n.length=u,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ii(n))for(e=n.length;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return sr.apply([],f)},guid:1,proxy:function(n,t){var u,r,f;return"string"==typeof t&&(f=n[t],t=n,n=f),i.isFunction(n)?(u=a.call(arguments,2),r=function(){return n.apply(t||this,u.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:function(){return+new Date},support:r});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=c[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){lt["[object "+t+"]"]=t.toLowerCase()});w=function(n){function u(n,t,r,u){var l,w,a,s,nt,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(d=sr.exec(n)))if(l=d[1]){if(9===v){if(!(a=t.getElementById(l)))return r;if(a.id===l)return r.push(a),r}else if(p&&(a=p.getElementById(l))&&et(t,a)&&a.id===l)return r.push(a),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((l=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(l)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)p=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(hr,"\\$&"):t.setAttribute("id",s=e),y=ft(n),w=y.length,nt=yi.test(s)?"#"+s:"[id='"+s+"']";w--;)y[w]=nt+" "+yt(y[w]);g=y.join(",");p=gt.test(n)&&ii(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(tt){}finally{s===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("div");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function bi(){}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=ki++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c,l=[v,f];if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u){if(c=t[e]||(t[e]={}),h=c[t.uniqueID]||(c[t.uniqueID]={}),(s=h[r])&&s[0]===v&&s[1]===f)return l[2]=s[2];if(h[r]=l,l[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function ar(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,f){return r&&!r[e]&&(r=fi(r)),u&&!u[e]&&(u=fi(u,f)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||ar(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:pt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===o},c,!0),a=ri(function(n){return nt(o,n)>-1},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];s>i;i++)if(u=t.relative[n[i].type])f=[ri(ui(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;s>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(f),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,r>i&&ei(n.slice(i,r)),s>r&&ei(n=n.slice(r)),s>r&&yt(n))}f.push(u)}return ui(f)}function vr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=gi.call(l));w=pt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,f,t,st,oi,ft,wt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,ki=0,hi=ni(),ci=ni(),lt=ni(),bt=function(n,t){return n===t&&(ut=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",dt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",tr=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),ir=new RegExp("^"+r+"*,"+r+"*"),rr=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),ur=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),fr=new RegExp(dt),yi=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},er=/^(?:input|select|textarea|button)$/i,or=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,hr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},pi=function(){b()};try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(yr){k={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}f=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+kt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]")}),a(function(n){var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&r||!f.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(ur,"='$1']"),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(e){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&di.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):void 0;return void 0!==u?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(bt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(1===c.nodeType&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&(y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):r.length>1?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=wt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return yi.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return or.test(n.nodeName)},input:function(n){return er.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[0>i?i+t:i]}),even:it(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=cr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=lr(rt);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=ir.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=rr.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},wt=u.compile=function(n,t){var r,u=[],f=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[e]?u.push(i):f.push(i);i=lt(n,vr(f,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var s,e,o,a,v,l="function"==typeof n&&n,c=!u&&ft(n=l.selector||n);if(r=r||[],1===c.length){if(e=c[0]=c[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&f.getById&&9===i.nodeType&&h&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],!i)return r;l&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(u=v(o.matches[0].replace(y,p),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=u.length&&yt(e),!n)return k.apply(r,u),r;break}}}return(l||wt(n,c))(u,i,!h,r,!i||gt.test(n)&&ii(i.parentNode)||i),r},f.sortStable=e.split("").sort(bt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("div"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ti("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=w;i.expr=w.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=w.uniqueSort;i.text=w.getText;i.isXMLDoc=w.isXML;i.contains=w.contains;var it=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},lr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},ar=i.expr.match.needsContext,vr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;f>t;t++)if(i.contains(u[t],this))return!0}));for(t=0;f>t;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ri(this,n||[],!1))},not:function(n){return this.pushStack(ri(this,n||[],!0))},is:function(n){return!!ri(this,"string"==typeof n&&ar.test(n)?i(n):n||[],!1).length}});yr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;pr=i.fn.init=function(n,t,r){var f,e;if(!n)return this;if(r=r||ui,"string"==typeof n){if(f="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:yr.exec(n),!f||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),vr.test(f[1])&&i.isPlainObject(t))for(f in t)i.isFunction(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}if(e=u.getElementById(f[2]),e&&e.parentNode){if(e.id!==f[2])return ui.find(n);this.length=1;this[0]=e}return this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?"undefined"!=typeof r.ready?r.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};pr.prototype=i.fn;ui=i(u);wr=/^(?:parents|prev(?:Until|All))/;br={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;u>t;t++)if(i.contains(this,r[t]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=ar.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return it(n,"parentNode")},parentsUntil:function(n,t,i){return it(n,"parentNode",i)},next:function(n){return kr(n,"nextSibling")},prev:function(n){return kr(n,"previousSibling")},nextAll:function(n){return it(n,"nextSibling")},prevAll:function(n){return it(n,"previousSibling")},nextUntil:function(n,t,i){return it(n,"nextSibling",i)},prevUntil:function(n,t,i){return it(n,"previousSibling",i)},siblings:function(n){return lr((n.parentNode||{}).firstChild,n)},children:function(n){return lr(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(br[n]||(f=i.uniqueSort(f)),wr.test(n)&&(f=f.reverse())),this.pushStack(f)}});s=/\S+/g;i.Callbacks=function(n){n="string"==typeof n?we(n):i.extend({},n);var e,r,h,f,t=[],o=[],u=-1,c=function(){for(f=n.once,h=e=!0;o.length;u=-1)for(r=o.shift();++u<t.length;)t[u].apply(r[0],r[1])===!1&&n.stopOnFalse&&(u=t.length,r=!1);n.memory||(r=!1);e=!1;f&&(t=r?[]:"")},s={add:function(){return t&&(r&&!e&&(u=t.length-1,o.push(r)),function f(r){i.each(r,function(r,u){i.isFunction(u)?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==i.type(u)&&f(u)})}(arguments),r&&!e&&c()),this},remove:function(){return i.each(arguments,function(n,r){for(var f;(f=i.inArray(r,t,f))>-1;)t.splice(f,1),u>=f&&u--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=o=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=!0,r||s.disable(),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],o.push(t),e||c()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().progress(h(t,c,o)).done(h(t,s,u)).fail(f.reject):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(at.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready"))))}});i.ready.promise=function(t){if(!at)if(at=i.Deferred(),"complete"!==u.readyState&&("loading"===u.readyState||u.documentElement.doScroll))if(u.addEventListener)u.addEventListener("DOMContentLoaded",v),n.addEventListener("load",v);else{u.attachEvent("onreadystatechange",v);n.attachEvent("onload",v);var r=!1;try{r=null==n.frameElement&&u.documentElement}catch(e){}r&&r.doScroll&&!function f(){if(!i.isReady){try{r.doScroll("left")}catch(t){return n.setTimeout(f,50)}dr();i.ready()}}()}else n.setTimeout(i.ready);return at.promise(t)};i.ready.promise();for(gr in i(r))break;r.ownFirst="0"===gr;r.inlineBlockNeedsLayout=!1;i(function(){var f,t,n,i;n=u.getElementsByTagName("body")[0];n&&n.style&&(t=u.createElement("div"),i=u.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",r.inlineBlockNeedsLayout=f=3===t.offsetWidth,f&&(n.style.zoom=1)),n.removeChild(i))}),function(){var n=u.createElement("div");r.deleteExpando=!0;try{delete n.test}catch(t){r.deleteExpando=!1}n=null}();var ot=function(n){var t=i.noData[(n.nodeName+" ").toLowerCase()],r=+n.nodeType||1;return 1!==r&&9!==r?!1:!t||t!==!0&&n.getAttribute("classid")===t},be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/([A-Z])/g;i.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!fi(n)},data:function(n,t,i){return tu(n,t,i)},removeData:function(n,t){return iu(n,t)},_data:function(n,t,i){return tu(n,t,i,!0)},_removeData:function(n,t){return iu(n,t,!0)}});i.fn.extend({data:function(n,t){var f,u,e,r=this[0],o=r&&r.attributes;if(void 0===n){if(this.length&&(e=i.data(r),1===r.nodeType&&!i._data(r,"parsedAttrs"))){for(f=o.length;f--;)o[f]&&(u=o[f].name,0===u.indexOf("data-")&&(u=i.camelCase(u.slice(5)),nu(r,u,e[u])));i._data(r,"parsedAttrs",!0)}return e}return"object"==typeof n?this.each(function(){i.data(this,n)}):arguments.length>1?this.each(function(){i.data(this,n,t)}):r?nu(r,n,i.data(r,n)):void 0},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,t,r){var u;if(n)return(t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var r,f=1,e=i.Deferred(),u=this,o=this.length,s=function(){--f||e.resolveWith(u,[u])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";o--;)r=i._data(u[o],n+"queueHooks"),r&&r.empty&&(f++,r.empty.add(s));return s(),e.promise(t)}}),function(){var n;r.shrinkWrapBlocks=function(){if(null!=n)return n;n=!1;var t,i,r;return i=u.getElementsByTagName("body")[0],i&&i.style?(t=u.createElement("div"),r=u.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(u.createElement("div")).style.width="5px",n=3!==t.offsetWidth),i.removeChild(r),n):void 0}}();var ei=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oi=new RegExp("^(?:([+-])=|)("+ei+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],st=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)};var y=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)y(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e},si=/^(?:checkbox|radio)$/i,uu=/<([\w:-]+)/,fu=/^$|\/(?:java|ecma)script/i,hi=/^\s+/,eu="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var n=u.createElement("div"),f=u.createDocumentFragment(),t=u.createElement("input");n.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";r.leadingWhitespace=3===n.firstChild.nodeType;r.tbody=!n.getElementsByTagName("tbody").length;r.htmlSerialize=!!n.getElementsByTagName("link").length;r.html5Clone="<:nav><\/:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML;t.type="checkbox";t.checked=!0;f.appendChild(t);r.appendChecked=t.checked;n.innerHTML="<textarea>x<\/textarea>";r.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue;f.appendChild(n);t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);r.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;r.noCloneEvent=!!n.addEventListener;n[i.expando]=1;r.attributes=!n.getAttribute(i.expando)}();o={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:r.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]};o.optgroup=o.option;o.tbody=o.tfoot=o.colgroup=o.caption=o.thead;o.th=o.td;su=/<|&#?\w+;/;li=/<tbody/i;!function(){var t,i,f=u.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(r[t]=i in n)||(f.setAttribute(i,"t"),r[t]=f.attributes[i].expando===!1);f=null}();var ai=/^(?:input|select|textarea)$/i,ge=/^key/,no=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,cu=/^(?:focusinfocus|focusoutblur)$/,lu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,r,u,f){var p,v,w,y,o,h,c,l,e,b,k,a=i._data(n);if(a){for(r.handler&&(y=r,r=y.handler,f=y.selector),r.guid||(r.guid=i.guid++),(v=a.events)||(v=a.events={}),(h=a.handle)||(h=a.handle=function(n){if("undefined"!=typeof i&&(!n||i.event.triggered!==n.type))return i.event.dispatch.apply(h.elem,arguments)},h.elem=n),t=(t||"").match(s)||[""],w=t.length;w--;)p=lu.exec(t[w])||[],e=k=p[1],b=(p[2]||"").split(".").sort(),e&&(o=i.event.special[e]||{},e=(f?o.delegateType:o.bindType)||e,o=i.event.special[e]||{},c=i.extend({type:e,origType:k,data:u,handler:r,guid:r.guid,selector:f,needsContext:f&&i.expr.match.needsContext.test(f),namespace:b.join(".")},y),(l=v[e])||(l=v[e]=[],l.delegateCount=0,o.setup&&o.setup.call(n,u,b,h)!==!1||(n.addEventListener?n.addEventListener(e,h,!1):n.attachEvent&&n.attachEvent("on"+e,h))),o.add&&(o.add.call(n,c),c.handler.guid||(c.handler.guid=r.guid)),f?l.splice(l.delegateCount++,0,c):l.push(c),i.event.global[e]=!0);n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;)if(h=lu.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),e){for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],!f&&k!==o.origType||r&&r.guid!==o.guid||h&&!h.test(o.namespace)||u&&u!==o.selector&&("**"!==u||!o.selector)||(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}else for(e in a)i.event.remove(n,e+t[p],r,u,!0);i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(t,r,f,e){var l,a,o,p,c,h,w,y=[f||u],s=tt.call(t,"type")?t.type:t,v=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=h=f=f||u,3!==f.nodeType&&8!==f.nodeType&&!cu.test(s+i.event.triggered)&&(s.indexOf(".")>-1&&(v=s.split("."),s=v.shift(),v.sort()),a=s.indexOf(":")<0&&"on"+s,t=t[i.expando]?t:new i.Event(s,"object"==typeof t&&t),t.isTrigger=e?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=f),r=null==r?[t]:i.makeArray(r,[t]),c=i.event.special[s]||{},e||!c.trigger||c.trigger.apply(f,r)!==!1)){if(!e&&!c.noBubble&&!i.isWindow(f)){for(p=c.delegateType||s,cu.test(p+s)||(o=o.parentNode);o;o=o.parentNode)y.push(o),h=o;h===(f.ownerDocument||u)&&y.push(h.defaultView||h.parentWindow||n)}for(w=0;(o=y[w++])&&!t.isPropagationStopped();)t.type=w>1?p:c.bindType||s,l=(i._data(o,"events")||{})[t.type]&&i._data(o,"handle"),l&&l.apply(o,r),l=a&&o[a],l&&l.apply&&ot(o)&&(t.result=l.apply(o,r),t.result===!1&&t.preventDefault());if(t.type=s,!e&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(y.pop(),r)===!1)&&ot(f)&&a&&f[s]&&!i.isWindow(f)){h=f[a];h&&(f[a]=null);i.event.triggered=s;try{f[s]()}catch(b){}i.event.triggered=void 0;h&&(f[a]=h)}return t.result}},dispatch:function(n){n=i.event.fix(n);var e,o,f,r,t,s=[],h=a.call(arguments),c=(i._data(this,"events")||{})[n.type]||[],u=i.event.special[n.type]||{};if(h[0]=n,n.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,n)!==!1){for(s=i.event.handlers.call(this,n,c),e=0;(r=s[e++])&&!n.isPropagationStopped();)for(n.currentTarget=r.elem,o=0;(t=r.handlers[o++])&&!n.isImmediatePropagationStopped();)n.rnamespace&&!n.rnamespace.test(t.namespace)||(n.handleObj=t,n.data=t.data,f=((i.event.special[t.origType]||{}).handle||t.handler).apply(r.elem,h),void 0!==f&&(n.result=f)===!1&&(n.preventDefault(),n.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&("click"!==n.type||isNaN(n.button)||n.button<1))for(;r!=this;r=r.parentNode||this)if(1===r.nodeType&&(r.disabled!==!0||"click"!==n.type)){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>-1:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},fix:function(n){if(n[i.expando])return n;var e,o,s,r=n.type,f=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=no.test(r)?this.mouseHooks:ge.test(r)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||u),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var i,e,r,f=t.button,o=t.fromElement;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,r=e.documentElement,i=e.body,n.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),n.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!n.relatedTarget&&o&&(n.relatedTarget=o===n.target?t.toElement:o),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==au()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){if(this===au()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if(i.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t);u.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=u.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)}:function(n,t,i){var r="on"+t;n.detachEvent&&("undefined"==typeof n[r]&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?vt:rt):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={constructor:i.Event,isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=vt;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=vt;n&&!this.isSimulated&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=vt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});r.submit||(i.event.special.submit={setup:function(){return i.nodeName(this,"form")?!1:void i.event.add(this,"click._submit keypress._submit",function(n){var r=n.target,t=i.nodeName(r,"input")||i.nodeName(r,"button")?i.prop(r,"form"):void 0;t&&!i._data(t,"submit")&&(i.event.add(t,"submit._submit",function(n){n._submitBubble=!0}),i._data(t,"submit",!0))})},postDispatch:function(n){n._submitBubble&&(delete n._submitBubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n))},teardown:function(){return i.nodeName(this,"form")?!1:void i.event.remove(this,"._submit")}});r.change||(i.event.special.change={setup:function(){return ai.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(i.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._justChanged=!0)}),i.event.add(this,"click._change",function(n){this._justChanged&&!n.isTrigger&&(this._justChanged=!1);i.event.simulate("change",this,n)})),!1):void i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ai.test(t.nodeName)&&!i._data(t,"change")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n)}),i._data(t,"change",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!ai.test(this.nodeName)}});r.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var r=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var u=this.ownerDocument||this,f=i._data(u,t);f||u.addEventListener(n,r,!0);i._data(u,t,(f||0)+1)},teardown:function(){var u=this.ownerDocument||this,f=i._data(u,t)-1;f?i._data(u,t,f):(u.removeEventListener(n,r,!0),i._removeData(u,t))}}});i.fn.extend({on:function(n,t,i,r){return vi(this,n,t,i,r)},one:function(n,t,i,r){return vi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=rt),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var to=/ jQuery\d+="(?:null|\d+)"/g,vu=new RegExp("<(?:"+eu+")[\\s/>]","i"),io=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ro=/<script|<style|<link/i,uo=/checked\s*(?:[^=]|=\s*.checked.)/i,fo=/^true\/(.*)/,eo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oo=ou(u),yi=oo.appendChild(u.createElement("div"));i.extend({htmlPrefilter:function(n){return n.replace(io,"<$1><\/$2>")},clone:function(n,t,u){var e,c,s,o,h,l=i.contains(n.ownerDocument,n);if(r.html5Clone||i.isXMLDoc(n)||!vu.test("<"+n.nodeName+">")?s=n.cloneNode(!0):(yi.innerHTML=n.outerHTML,yi.removeChild(s=yi.firstChild)),!(r.noCloneEvent&&r.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=f(s),h=f(n),o=0;null!=(c=h[o]);++o)e[o]&&so(c,e[o]);if(t)if(u)for(h=h||f(n),e=e||f(s),o=0;null!=(c=h[o]);o++)bu(c,e[o]);else bu(n,s);return e=f(s,"script"),e.length>0&&ci(e,!l&&f(n,"script")),e=h=c=null,s},cleanData:function(n,t){for(var u,e,f,o,l=0,s=i.expando,h=i.cache,a=r.attributes,v=i.event.special;null!=(u=n[l]);l++)if((t||ot(u))&&(f=u[s],o=f&&h[f])){if(o.events)for(e in o.events)v[e]?i.event.remove(u,e):i.removeEvent(u,e,o.handle);h[f]&&(delete h[f],a||"undefined"==typeof u.removeAttribute?u[s]=void 0:u.removeAttribute(s),c.push(f))}}});i.fn.extend({domManip:k,detach:function(n){return ku(this,n,!0)},remove:function(n){return ku(this,n)},text:function(n){return y(this,function(n){return void 0===n?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(n))},null,n,arguments.length)},append:function(){return k(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=yu(this,n);t.appendChild(n)}})},prepend:function(){return k(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=yu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return k(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return k(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++){for(1===n.nodeType&&i.cleanData(f(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return y(this,function(n){var t=this[0]||{},u=0,e=this.length;if(void 0===n)return 1===t.nodeType?t.innerHTML.replace(to,""):void 0;if("string"==typeof n&&!ro.test(n)&&(r.htmlSerialize||!vu.test(n))&&(r.leadingWhitespace||!hi.test(n))&&!o[(uu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;e>u;u++)t=this[u]||{},1===t.nodeType&&(i.cleanData(f(t,!1)),t.innerHTML=n);t=0}catch(s){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(f(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ti.apply(f,u.get());return this.pushStack(f)}});pi={HTML:"block",BODY:"block"};var gu=/^margin/,pt=new RegExp("^("+ei+")(?!px)[a-z%]+$","i"),wi=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f},nf=u.documentElement;!function(){var f,s,h,e,c,l,o=u.createElement("div"),t=u.createElement("div");if(t.style){t.style.cssText="float:left;opacity:.5";r.opacity="0.5"===t.style.opacity;r.cssFloat=!!t.style.cssFloat;t.style.backgroundClip="content-box";t.cloneNode(!0).style.backgroundClip="";r.clearCloneStyle="content-box"===t.style.backgroundClip;o=u.createElement("div");o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";t.innerHTML="";o.appendChild(t);r.boxSizing=""===t.style.boxSizing||""===t.style.MozBoxSizing||""===t.style.WebkitBoxSizing;i.extend(r,{reliableHiddenOffsets:function(){return null==f&&a(),e},boxSizingReliable:function(){return null==f&&a(),h},pixelMarginRight:function(){return null==f&&a(),s},pixelPosition:function(){return null==f&&a(),f},reliableMarginRight:function(){return null==f&&a(),c},reliableMarginLeft:function(){return null==f&&a(),l}});function a(){var i,r,a=u.documentElement;a.appendChild(o);t.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";f=h=l=!1;s=c=!0;n.getComputedStyle&&(r=n.getComputedStyle(t),f="1%"!==(r||{}).top,l="2px"===(r||{}).marginLeft,h="4px"===(r||{width:"4px"}).width,t.style.marginRight="50%",s="4px"===(r||{marginRight:"4px"}).marginRight,i=t.appendChild(u.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",c=!parseFloat((n.getComputedStyle(i)||{}).marginRight),t.removeChild(i));t.style.display="none";e=0===t.getClientRects().length;e&&(t.style.display="",t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",t.childNodes[0].style.borderCollapse="separate",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",e=0===i[0].offsetHeight,e&&(i[0].style.display="",i[1].style.display="none",e=0===i[0].offsetHeight));a.removeChild(o)}}}();tf=/^(top|right|bottom|left)$/;n.getComputedStyle?(d=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},p=function(n,t,u){var o,s,h,f,e=n.style;return u=u||d(n),f=u?u.getPropertyValue(t)||u[t]:void 0,""!==f&&void 0!==f||i.contains(n.ownerDocument,n)||(f=i.style(n,t)),u&&!r.pixelMarginRight()&&pt.test(f)&&gu.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=f,f=u.width,e.width=o,e.minWidth=s,e.maxWidth=h),void 0===f?f:f+""}):nf.currentStyle&&(d=function(n){return n.currentStyle},p=function(n,t,i){var o,f,e,r,u=n.style;return i=i||d(n),r=i?i[t]:void 0,null==r&&u&&u[t]&&(r=u[t]),pt.test(r)&&!tf.test(t)&&(o=u.left,f=n.runtimeStyle,e=f&&f.left,e&&(f.left=n.currentStyle.left),u.left="fontSize"===t?"1em":r,r=u.pixelLeft+"px",u.left=o,e&&(f.left=e)),void 0===r?r:r+""||"auto"});var ki=/alpha\([^)]*\)/i,ho=/opacity\s*=\s*([^)]*)/i,co=/^(none|table(?!-c[ea]).+)/,lo=new RegExp("^("+ei+")(.*)$","i"),ao={position:"absolute",visibility:"hidden",display:"block"},rf={letterSpacing:"0",fontWeight:"400"},uf=["Webkit","O","Moz","ms"],ff=u.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=p(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:r.cssFloat?"cssFloat":"styleFloat"},style:function(n,t,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,h,o,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=ef(s)||s),o=i.cssHooks[t]||i.cssHooks[s],void 0===u)return o&&"get"in o&&void 0!==(e=o.get(n,!1,f))?e:c[t];if(h=typeof u,"string"===h&&(e=oi.exec(u))&&e[1]&&(u=ru(n,t,e),h="number"),null!=u&&u===u&&("number"===h&&(u+=e&&e[3]||(i.cssNumber[s]?"":"px")),r.clearCloneStyle||""!==u||0!==t.indexOf("background")||(c[t]="inherit"),!(o&&"set"in o&&void 0===(u=o.set(n,u,f)))))try{c[t]=u}catch(l){}}},css:function(n,t,r,u){var s,f,o,e=i.camelCase(t);return t=i.cssProps[e]||(i.cssProps[e]=ef(e)||e),o=i.cssHooks[t]||i.cssHooks[e],o&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=p(n,t,u)),"normal"===f&&t in rf&&(f=rf[t]),""===r||r?(s=parseFloat(f),r===!0||isFinite(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return co.test(i.css(n,"display"))&&0===n.offsetWidth?wi(n,ao,function(){return cf(n,t,u)}):cf(n,t,u)},set:function(n,u,f){var e=f&&d(n);return sf(n,u,f?hf(n,t,f,r.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,e),e):0)}}});r.opacity||(i.cssHooks.opacity={get:function(n,t){return ho.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+100*t+")":"",f=u&&u.filter||r.filter||"";r.zoom=1;(t>=1||""===t)&&""===i.trim(f.replace(ki,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||u&&!u.filter)||(r.filter=ki.test(f)?f.replace(ki,e):f+" "+e)}});i.cssHooks.marginRight=bi(r.reliableMarginRight,function(n,t){if(t)return wi(n,{display:"inline-block"},p,[n,"marginRight"])});i.cssHooks.marginLeft=bi(r.reliableMarginLeft,function(n,t){if(t)return(parseFloat(p(n,"marginLeft"))||(i.contains(n.ownerDocument,n)?n.getBoundingClientRect().left-wi(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}):0))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};gu.test(n)||(i.cssHooks[n+t].set=sf)});i.fn.extend({css:function(n,t){return y(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=d(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return of(this,!0)},hide:function(){return of(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){st(this)?i(this).show():i(this).hide()})}});i.Tween=e;e.prototype={constructor:e,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=e.propHooks[this.prop];return n&&n.get?n.get(this):e.propHooks._default.get(this)},run:function(n){var t,r=e.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}};e.prototype.init.prototype=e.prototype;e.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=e.prototype.init;i.fx.step={};lf=/^(?:toggle|show|hide)$/;af=/queueHooks$/;i.Animation=i.extend(h,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return ru(i.elem,n,oi.exec(t),i),i}]},tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.match(s);for(var r,u=0,f=n.length;f>u;u++)r=n[u],h.tweeners[r]=h.tweeners[r]||[],h.tweeners[r].unshift(t)},prefilters:[vo],prefilter:function(n,t){t?h.prefilters.unshift(n):h.prefilters.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,null!=u.queue&&u.queue!==!0||(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=h(this,i.extend({},n),e);(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,t,r){var u=function(n){var t=n.stop;delete n.stop;t(r)};return"string"!=typeof n&&(r=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=null!=n&&n+"queueHooks",e=i.timers,f=i._data(this);if(t)f[t]&&f[t].stop&&u(f[t]);else for(t in f)f[t]&&f[t].stop&&af.test(t)&&u(f[t]);for(t=e.length;t--;)e[t].elem!==this||null!=n&&e[t].queue!==n||(e[t].anim.stop(r),o=!1,e.splice(t,1));!o&&r||i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.stop&&e.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(bt(t,!0),n,i,u)}});i.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=i.timers,t=0;for(ut=i.now();t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop();ut=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){wt||(wt=n.setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){n.clearInterval(wt);wt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var i,n=u.createElement("input"),t=u.createElement("div"),f=u.createElement("select"),e=f.appendChild(u.createElement("option"));t=u.createElement("div");t.setAttribute("className","t");t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";i=t.getElementsByTagName("a")[0];n.setAttribute("type","checkbox");t.appendChild(n);i=t.getElementsByTagName("a")[0];i.style.cssText="top:1px";r.getSetAttribute="t"!==t.className;r.style=/top/.test(i.getAttribute("style"));r.hrefNormalized="/a"===i.getAttribute("href");r.checkOn=!!n.value;r.optSelected=e.selected;r.enctype=!!u.createElement("form").enctype;f.disabled=!0;r.optDisabled=!e.disabled;n=u.createElement("input");n.setAttribute("value","");r.input=""===n.getAttribute("value");n.value="t";n.setAttribute("type","radio");r.radioValue="t"===n.value}();pf=/\r/g;wf=/[\x20\t\r\n\f]+/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(pf,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:i.trim(i.text(n)).replace(wf," ")}},select:{get:function(n){for(var o,t,s=n.options,u=n.selectedIndex,f="select-one"===n.type||0>u,h=f?null:[],c=f?u+1:s.length,e=0>u?c:f?u:0;c>e;e++)if(t=s[e],(t.selected||e===u)&&(r.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),f)return o;h.push(o)}return h},set:function(n,t){for(var f,r,u=n.options,o=i.makeArray(t),e=u.length;e--;)if(r=u[e],i.inArray(i.valHooks.option.get(r),o)>-1)try{r.selected=f=!0}catch(s){r.scrollHeight}else r.selected=!1;return f||(n.selectedIndex=-1),u}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};r.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var ft,bf,l=i.expr.attrHandle,di=/^(?:checked|selected)$/i,g=r.getSetAttribute,kt=r.input;i.fn.extend({attr:function(n,t){return y(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),f=i.attrHooks[t]||(i.expr.match.bool.test(t)?bf:ft)),void 0!==r?null===r?void i.removeAttr(n,t):f&&"set"in f&&void 0!==(u=f.set(n,r,t))?u:(n.setAttribute(t,r+""),r):f&&"get"in f&&null!==(u=f.get(n,t))?u:(u=i.find.attr(n,t),null==u?void 0:u))},attrHooks:{type:{set:function(n,t){if(!r.radioValue&&"radio"===t&&i.nodeName(n,"input")){var u=n.value;return n.setAttribute("type",t),u&&(n.value=u),t}}}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)?kt&&g||!di.test(r)?n[u]=!1:n[i.camelCase("default-"+r)]=n[u]=!1:i.attr(n,r,""),n.removeAttribute(g?r:u)}});bf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):kt&&g||!di.test(r)?n.setAttribute(!g&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=l[t]||i.find.attr;l[t]=kt&&g||!di.test(t)?function(n,t,i){var u,f;return i||(f=l[t],l[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,l[t]=f),u}:function(n,t,r){if(!r)return n[i.camelCase("default-"+t)]?t.toLowerCase():null}});kt&&g||(i.attrHooks.value={set:function(n,t,r){return i.nodeName(n,"input")?void(n.defaultValue=t):ft&&ft.set(n,t,r)}});g||(ft={set:function(n,t,i){var r=n.getAttributeNode(i);return r||n.setAttributeNode(r=n.ownerDocument.createAttribute(i)),r.value=t+="","value"===i||t===n.getAttribute(i)?t:void 0}},l.id=l.name=l.coords=function(n,t,i){var r;if(!i)return(r=n.getAttributeNode(t))&&""!==r.value?r.value:null},i.valHooks.button={get:function(n,t){var i=n.getAttributeNode(t);if(i&&i.specified)return i.value},set:ft.set},i.attrHooks.contenteditable={set:function(n,t,i){ft.set(n,""===t?!1:t,i)}},i.each(["width","height"],function(n,t){i.attrHooks[t]={set:function(n,i){if(""===i)return(n.setAttribute(t,"auto"),i)}}}));r.style||(i.attrHooks.style={get:function(n){return n.style.cssText||void 0},set:function(n,t){return n.style.cssText=t+""}});kf=/^(?:input|select|textarea|button|object)$/i;df=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return y(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=void 0;delete this[n]}catch(t){}})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):kf.test(n.nodeName)||df.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});r.hrefNormalized||i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}});r.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});r.enctype||(i.propFix.enctype="encoding");dt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,f,h,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if("string"==typeof n&&n)for(o=n.match(s)||[];t=this[c++];)if(u=nt(t),r=1===t.nodeType&&(" "+u+" ").replace(dt," ")){for(h=0;f=o[h++];)r.indexOf(" "+f+" ")<0&&(r+=f+" ");e=i.trim(r);u!==e&&i.attr(t,"class",e)}return this},removeClass:function(n){var o,r,t,u,f,h,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(s)||[];r=this[c++];)if(u=nt(r),t=1===r.nodeType&&(" "+u+" ").replace(dt," ")){for(h=0;f=o[h++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=i.trim(t);u!==e&&i.attr(r,"class",e)}return this},toggleClass:function(n,t){var r=typeof n;return"boolean"==typeof t&&"string"===r?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,f,u,e;if("string"===r)for(f=0,u=i(this),e=n.match(s)||[];t=e[f++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==r||(t=nt(this),t&&i._data(this,"__className__",t),i.attr(this,"class",t||n===!1?"":i._data(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+nt(t)+" ").replace(dt," ").indexOf(i)>-1)return!0;return!1}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});var po=n.location,gi=i.now(),nr=/\?/,wo=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;i.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var f,r=null,u=i.trim(t+"");return u&&!i.trim(u.replace(wo,function(n,t,i,u){return f&&t&&(r=0),0===r?n:(f=i||t,r+=!u-!i,"")}))?Function("return "+u)():i.error("Invalid JSON: "+t)};i.parseXML=function(t){var r,u;if(!t||"string"!=typeof t)return null;try{n.DOMParser?(u=new n.DOMParser,r=u.parseFromString(t,"text/xml")):(r=new n.ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(t))}catch(f){r=void 0}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var bo=/#.*$/,gf=/([?&])_=[^&]*/,ko=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,go=/^(?:GET|HEAD)$/,ns=/^\/\//,ne=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,te={},tr={},ie="*/".concat("*"),ir=po.href,et=ne.exec(ir.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ir,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?rr(rr(n,i.ajaxSettings),t):rr(i.ajaxSettings,n)},ajaxPrefilter:re(te),ajaxTransport:re(tr),ajax:function(t,r){function w(t,r,s,c){var y,rt,it,w,tt,l=r;2!==o&&(o=2,k&&n.clearTimeout(k),v=void 0,b=c||"",f.readyState=t>0?4:0,y=t>=200&&300>t||304===t,s&&(w=ts(u,f,s)),w=is(u,w,f,y),y?(u.ifModified&&(tt=f.getResponseHeader("Last-Modified"),tt&&(i.lastModified[e]=tt),tt=f.getResponseHeader("etag"),tt&&(i.etag[e]=tt)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=w.state,rt=w.data,it=w.error,y=!it)):(it=l,!t&&l||(l="error",0>t&&(t=0))),f.status=t,f.statusText=(r||l)+"",y?g.resolveWith(h,[rt,l,f]):g.rejectWith(h,[f,l,it]),f.statusCode(p),p=void 0,a&&d.trigger(y?"ajaxSuccess":"ajaxError",[f,u,y?rt:it]),nt.fireWith(h,[f,l]),a&&(d.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var c,l,e,b,k,a,v,y,u=i.ajaxSetup({},r),h=u.context||u,d=u.context&&(h.nodeType||h.jquery)?i(h):i.event,g=i.Deferred(),nt=i.Callbacks("once memory"),p=u.statusCode||{},tt={},it={},o=0,rt="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!y)for(y={};t=ko.exec(b);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?b:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)p[t]=[p[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||rt;return v&&v.abort(t),w(0,t),this}};if(g.promise(f).complete=nt.add,f.success=f.done,f.error=f.fail,u.url=((t||u.url||ir)+"").replace(bo,"").replace(ns,et[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],null==u.crossDomain&&(c=ne.exec(u.url.toLowerCase()),u.crossDomain=!(!c||c[1]===et[1]&&c[2]===et[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(et[3]||("http:"===et[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),ue(te,u,r,f),2===o)return f;a=i.event&&u.global;a&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!go.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(nr.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=gf.test(e)?e.replace(gf,"$1_="+gi++):e+(nr.test(e)?"&":"?")+"_="+gi++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ie+"; q=0.01":""):u.accepts["*"]);for(l in u.headers)f.setRequestHeader(l,u.headers[l]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||2===o))return f.abort();rt="abort";for(l in{success:1,error:1,complete:1})f[l](u[l]);if(v=ue(tr,u,r,f)){if(f.readyState=1,a&&d.trigger("ajaxSend",[f,u]),2===o)return f;u.async&&u.timeout>0&&(k=n.setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;v.send(tt,w)}catch(ut){if(!(2>o))throw ut;w(-1,ut)}}else w(-1,"No Transport");return f},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return r.reliableHiddenOffsets()?n.offsetWidth<=0&&n.offsetHeight<=0&&!n.getClientRects().length:us(n)};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var fs=/%20/g,es=/\[\]$/,fe=/\r?\n/g,os=/^(?:submit|button|image|reset|file)$/i,ss=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ur(r,n[r],t,f);return u.join("&").replace(fs,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&ss.test(this.nodeName)&&!os.test(n)&&(this.checked||!si.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(fe,"\r\n")}}):{name:t.name,value:r.replace(fe,"\r\n")}}).get()}});i.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?ee():u.documentMode>8?fr():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fr()||ee()}:fr;var hs=0,gt={},ct=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n](void 0,!0)}),r.cors=!!ct&&"withCredentials"in ct,ct=r.ajax=!!ct,ct&&i.ajaxTransport(function(t){if(!t.crossDomain||r.cors){var u;return{send:function(r,f){var o,e=t.xhr(),s=++hs;if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&e.setRequestHeader(o,r[o]+"");e.send(t.hasContent&&t.data||null);u=function(n,r){var o,c,h;if(u&&(r||4===e.readyState))if(delete gt[s],u=void 0,e.onreadystatechange=i.noop,r)4!==e.readyState&&e.abort();else{h={};o=e.status;"string"==typeof e.responseText&&(h.text=e.responseText);try{c=e.statusText}catch(l){c=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=h.text?200:404}h&&f(o,c,h,e.getAllResponseHeaders())};t.async?4===e.readyState?n.setTimeout(u):e.onreadystatechange=gt[s]=u:u()},abort:function(){u&&u(void 0,!0)}}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)}),i.ajaxTransport("script",function(n){if(n.crossDomain){var t,r=u.head||i("head")[0]||u.documentElement;return{send:function(i,f){t=u.createElement("script");t.async=!0;n.scriptCharset&&(t.charset=n.scriptCharset);t.src=n.url;t.onload=t.onreadystatechange=function(n,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||f(200,"success"))};r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}),er=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=er.pop()||i.expando+"_"+gi++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,e,o,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(nr.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json",e=n[f],n[f]=function(){o=arguments},u.always(function(){void 0===e?i(n).removeProp(f):n[f]=e;t[f]&&(t.jsonpCallback=r.jsonpCallback,er.push(f));o&&i.isFunction(e)&&e(o[0]);o=e=void 0}),"script")}),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=vr.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=hu([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},or=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&or)return or.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>-1&&(u=i.trim(n.slice(e,n.length)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o||"GET",dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).always(r&&function(n,t){f.each(function(){r.apply(this,s||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&i.inArray("auto",[s,c])>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var t,f,u={top:0,left:0},r=this[0],e=r&&r.ownerDocument;if(e)return t=e.documentElement,i.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(u=r.getBoundingClientRect()),f=oe(e),{top:u.top+(f.pageYOffset||t.scrollTop)-(t.clientTop||0),left:u.left+(f.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):u},position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||nf})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r=/Y/.test(t);i.fn[n]=function(u){return y(this,function(n,u,f){var e=oe(n);return void 0===f?e?t in e?e[t]:e.document.documentElement[u]:n[u]:void(e?e.scrollTo(r?i(e).scrollLeft():f,r?f:i(e).scrollTop()):n[u]=f)},n,u,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=bi(r.pixelPosition,function(n,r){if(r)return(r=p(n,t),pt.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return y(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),se=n.jQuery,he=n.$,i.noConflict=function(t){return n.$===i&&(n.$=he),t&&n.jQuery===i&&(n.jQuery=se),i},t||(n.jQuery=n.$=i),i});
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(n,t,i){function r(i){var r=t.console;o[i]||(o[i]=!0,n.migrateWarnings.push(i),r&&r.warn&&!n.migrateMute&&(r.warn("JQMIGRATE: "+i),n.migrateTrace&&r.trace&&r.trace()))}function e(t,u,f,e){if(Object.defineProperty)try{return Object.defineProperty(t,u,{configurable:!0,enumerable:!0,get:function(){return r(e),f},set:function(n){r(e);f=n}}),i}catch(o){}n._definePropertyBroken=!0;t[u]=f}var o={},l,a,v;n.migrateWarnings=[];!n.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active");n.migrateTrace===i&&(n.migrateTrace=!0);n.migrateReset=function(){o={};n.migrateWarnings.length=0};"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var s=n("<input/>",{size:1}).attr("size")&&n.attrFn,h=n.attr,g=n.attrHooks.value&&n.attrHooks.value.get||function(){return null},nt=n.attrHooks.value&&n.attrHooks.value.set||function(){return i},tt=/^(?:input|button)$/i,it=/^[238]$/,rt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ut=/^(?:checked|selected)$/i;e(n,"attrFn",s||{},"jQuery.attrFn is deprecated");n.attr=function(t,u,f,e){var o=u.toLowerCase(),c=t&&t.nodeType;return e&&(4>h.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!it.test(c)&&(s?u in s:n.isFunction(n.fn[u])))?n(t)[u](f):("type"===u&&f!==i&&tt.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!n.attrHooks[o]&&rt.test(o)&&(n.attrHooks[o]={get:function(t,r){var u,f=n.prop(t,r);return f===!0||"boolean"!=typeof f&&(u=t.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():i},set:function(t,i,r){var u;return i===!1?n.removeAttr(t,r):(u=n.propFix[r]||r,u in t&&(t[u]=!0),t.setAttribute(r,r.toLowerCase())),r}},ut.test(o)&&r("jQuery.fn.attr('"+o+"') may use property instead of attribute")),h.call(n,t,u,f))};n.attrHooks.value={get:function(n,t){var i=(n.nodeName||"").toLowerCase();return"button"===i?g.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value') no longer gets properties"),t in n?n.value:null)},set:function(n,t){var u=(n.nodeName||"").toLowerCase();return"button"===u?nt.apply(this,arguments):("input"!==u&&"option"!==u&&r("jQuery.fn.attr('value', val) no longer sets properties"),n.value=t,i)}};var f,u,c=n.fn.init,ft=n.parseJSON,et=/^([^<]*)(<[\w\W]+>)([^>]*)$/;n.fn.init=function(t,i,u){var f;return t&&"string"==typeof t&&!n.isPlainObject(i)&&(f=et.exec(n.trim(t)))&&f[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),f[3]&&r("$(html) HTML text after last tag is ignored"),"#"===f[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),n.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&(i=i.context),n.parseHTML)?c.call(this,n.parseHTML(f[2],i,!0),i,u):c.apply(this,arguments)};n.fn.init.prototype=n.fn;n.parseJSON=function(n){return n||null===n?ft.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)};n.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||0>n.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};n.browser||(f=n.uaMatch(navigator.userAgent),u={},f.browser&&(u[f.browser]=!0,u.version=f.version),u.chrome?u.webkit=!0:u.webkit&&(u.safari=!0),n.browser=u);e(n,"browser",n.browser,"jQuery.browser is deprecated");n.sub=function(){function t(n,i){return new t.fn.init(n,i)}n.extend(!0,t,this);t.superclass=this;t.fn=t.prototype=this();t.fn.constructor=t;t.sub=this.sub;t.fn.init=function(r,u){return u&&u instanceof n&&!(u instanceof t)&&(u=t(u)),n.fn.init.call(this,r,u,i)};t.fn.init.prototype=t.fn;var i=t(document);return r("jQuery.sub() is deprecated"),t};n.ajaxSetup({converters:{"text json":n.parseJSON}});l=n.fn.data;n.fn.data=function(t){var f,u,e=this[0];return!e||"events"!==t||1!==arguments.length||(f=n.data(e,t),u=n._data(e,t),f!==i&&f!==u||u===i)?l.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),u)};a=/\/(java|ecma)script/i;v=n.fn.andSelf||n.fn.addBack;n.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)};n.clean||(n.clean=function(t,u,f,e){u=u||document;u=!u.nodeType&&u[0]||u;u=u.ownerDocument||u;r("jQuery.clean() is deprecated");var s,o,c,l,h=[];if(n.merge(h,n.buildFragment(t,u).childNodes),f)for(c=function(n){return!n.type||a.test(n.type)?e?e.push(n.parentNode?n.parentNode.removeChild(n):n):f.appendChild(n):i},s=0;null!=(o=h[s]);s++)n.nodeName(o,"script")&&c(o)||(f.appendChild(o),o.getElementsByTagName!==i&&(l=n.grep(n.merge([],o.getElementsByTagName("script")),c),h.splice.apply(h,[s+1,0].concat(l)),s+=l.length));return h});var ot=n.event.add,st=n.event.remove,ht=n.event.trigger,ct=n.fn.toggle,y=n.fn.live,p=n.fn.die,w="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",b=RegExp("\\b(?:"+w+")\\b"),k=/(?:^|\s)hover(\.\S+|)\b/,d=function(t){return"string"!=typeof t||n.event.special.hover?t:(k.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(k,"mouseenter$1 mouseleave$1"))};n.event.props&&"attrChange"!==n.event.props[0]&&n.event.props.unshift("attrChange","attrName","relatedNode","srcElement");n.event.dispatch&&e(n.event,"handle",n.event.dispatch,"jQuery.event.handle is undocumented and deprecated");n.event.add=function(n,t,i,u,f){n!==document&&b.test(t)&&r("AJAX events should be attached to document: "+t);ot.call(this,n,d(t||""),i,u,f)};n.event.remove=function(n,t,i,r,u){st.call(this,n,d(t)||"",i,r,u)};n.fn.error=function(){var n=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),n.splice(0,0,"error"),arguments.length?this.bind.apply(this,n):(this.triggerHandler.apply(this,n),this)};n.fn.toggle=function(t,i){if(!n.isFunction(t)||!n.isFunction(i))return ct.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var u=arguments,e=t.guid||n.guid++,f=0,o=function(i){var r=(n._data(this,"lastToggle"+t.guid)||0)%f;return n._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),u[r].apply(this,arguments)||!1};for(o.guid=e;u.length>f;)u[f++].guid=e;return this.click(o)};n.fn.live=function(t,i,u){return r("jQuery.fn.live() is deprecated"),y?y.apply(this,arguments):(n(this.context).on(t,this.selector,i,u),this)};n.fn.die=function(t,i){return r("jQuery.fn.die() is deprecated"),p?p.apply(this,arguments):(n(this.context).off(t,this.selector||"**",i),this)};n.event.trigger=function(n,t,i,u){return i||b.test(n)||r("Global events are undocumented and deprecated"),ht.call(this,n,t,i||document,u)};n.each(w.split("|"),function(t,i){n.event.special[i]={setup:function(){var t=this;return t!==document&&(n.event.add(document,i+"."+n.guid,function(){n.event.trigger(i,null,t,!0)}),n._data(this,i,n.guid++)),!1},teardown:function(){return this!==document&&n.event.remove(document,i+"."+n._data(this,i)),!1}}})}(jQuery,window);
/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(n,t,i,r){var p=i("html"),e=i(n),o=i(t),u=i.fancybox=function(){u.open.apply(this,arguments)},y=navigator.userAgent.match(/msie/i),v=null,s=t.createTouch!==r,a=function(n){return n&&n.hasOwnProperty&&n instanceof i},c=function(n){return n&&"string"===i.type(n)},l=function(n){return c(n)&&0<n.indexOf("%")},f=function(n,t){var i=parseInt(n,10)||0;return t&&l(n)&&(i*=u.getViewport()[t]/100),Math.ceil(i)},h=function(n,t){return f(n,t)+"px"};i.extend(u,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"><\/div><\/div><\/div><\/div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(y?' allowtransparency="true"':"")+"><\/iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.<\/p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"><\/a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span><\/span><\/a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span><\/span><\/a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(n,t){if(n&&(i.isPlainObject(t)||(t={}),!1!==u.close(!0)))return i.isArray(n)||(n=a(n)?i(n).get():[n]),i.each(n,function(f,e){var h={},s,y,l,o,v;"object"===i.type(e)&&(e.nodeType&&(e=i(e)),a(e)?(h={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},i.metadata&&i.extend(!0,h,e.metadata())):h=e);s=t.href||h.href||(c(e)?e:null);y=t.title!==r?t.title:h.title||"";o=(l=t.content||h.content)?"html":t.type||h.type;!o&&h.isDom&&(o=e.data("fancybox-type"),o||(o=(o=e.prop("class").match(/fancybox\.(\w+)/))?o[1]:null));c(s)&&(o||(u.isImage(s)?o="image":u.isSWF(s)?o="swf":"#"===s.charAt(0)?o="inline":c(e)&&(o="html",l=e)),"ajax"===o&&(v=s.split(/\s+/,2),s=v.shift(),v=v.shift()));l||("inline"===o?s?l=i(c(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):h.isDom&&(l=e):"html"===o?l=s:!o&&!s&&h.isDom&&(o="inline",l=e));i.extend(h,{href:s,type:o,content:l,title:y,selector:v});n[f]=h}),u.opts=i.extend(!0,{},u.defaults,t),t.keys!==r&&(u.opts.keys=t.keys?i.extend({},u.defaults.keys,t.keys):!1),u.group=n,u._start(u.opts.index)},cancel:function(){var n=u.coming;n&&!1!==u.trigger("onCancel")&&(u.hideLoading(),u.ajaxLoad&&u.ajaxLoad.abort(),u.ajaxLoad=null,u.imgPreload&&(u.imgPreload.onload=u.imgPreload.onerror=null),n.wrap&&n.wrap.stop(!0,!0).trigger("onReset").remove(),u.coming=null,u.current||u._afterZoomOut(n))},close:function(n){u.cancel();!1!==u.trigger("beforeClose")&&(u.unbindEvents(),u.isActive&&(!u.isOpen||!0===n?(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),u._afterZoomOut()):(u.isOpen=u.isOpened=!1,u.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0,!0).removeClass("fancybox-opened"),u.transitions[u.current.closeMethod]())))},play:function(n){var t=function(){clearTimeout(u.player.timer)},i=function(){t();u.current&&u.player.isActive&&(u.player.timer=setTimeout(u.next,u.current.playSpeed))},r=function(){t();o.unbind(".player");u.player.isActive=!1;u.trigger("onPlayEnd")};!0!==n&&(u.player.isActive||!1===n)?r():u.current&&(u.current.loop||u.current.index<u.group.length-1)&&(u.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":r,"onUpdate.player":i,"beforeLoad.player":t}),i(),u.trigger("onPlayStart"))},next:function(n){var t=u.current;t&&(c(n)||(n=t.direction.next),u.jumpto(t.index+1,n,"next"))},prev:function(n){var t=u.current;t&&(c(n)||(n=t.direction.prev),u.jumpto(t.index-1,n,"prev"))},jumpto:function(n,t,i){var e=u.current;e&&(n=f(n),u.direction=t||e.direction[n>=e.index?"next":"prev"],u.router=i||"jumpto",e.loop&&(0>n&&(n=e.group.length+n%e.group.length),n%=e.group.length),e.group[n]!==r&&(u.cancel(),u._start(n)))},reposition:function(n,t){var f=u.current,e=f?f.wrap:null,r;e&&(r=u._getPosition(t),n&&"scroll"===n.type?(delete r.position,e.stop(!0,!0).animate(r,200)):(e.css(r),f.pos=i.extend({},f.dim,r)))},update:function(n){var t=n&&n.type,i=!t||"orientationchange"===t;i&&(clearTimeout(v),v=null);u.isOpen&&!v&&(v=setTimeout(function(){var r=u.current;r&&!u.isClosing&&(u.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&r.autoResize)&&u._setDimension(),"scroll"===t&&r.canShrink||u.reposition(n),u.trigger("onUpdate"),v=null)},i&&!s?0:300))},toggle:function(n){u.isOpen&&(u.current.fitToView="boolean"===i.type(n)?n:!u.current.fitToView,s&&(u.wrap.removeAttr("style").addClass("fancybox-tmp"),u.trigger("onUpdate")),u.update())},hideLoading:function(){o.unbind(".loading");i("#fancybox-loading").remove()},showLoading:function(){var t,n;u.hideLoading();t=i('<div id="fancybox-loading"><div><\/div><\/div>').click(u.cancel).appendTo("body");o.bind("keydown.loading",function(n){27===(n.which||n.keyCode)&&(n.preventDefault(),u.cancel())});u.defaults.fixed||(n=u.getViewport(),t.css({position:"absolute",top:.5*n.h+n.y,left:.5*n.w+n.x}))},getViewport:function(){var i=u.current&&u.current.locked||!1,t={x:e.scrollLeft(),y:e.scrollTop()};return i?(t.w=i[0].clientWidth,t.h=i[0].clientHeight):(t.w=s&&n.innerWidth?n.innerWidth:e.width(),t.h=s&&n.innerHeight?n.innerHeight:e.height()),t},unbindEvents:function(){u.wrap&&a(u.wrap)&&u.wrap.unbind(".fb");o.unbind(".fb");e.unbind(".fb")},bindEvents:function(){var n=u.current,t;n&&(e.bind("orientationchange.fb"+(s?"":" resize.fb")+(n.autoCenter&&!n.locked?" scroll.fb":""),u.update),(t=n.keys)&&o.bind("keydown.fb",function(f){var e=f.which||f.keyCode,o=f.target||f.srcElement;if(27===e&&u.coming)return!1;f.ctrlKey||f.altKey||f.shiftKey||f.metaKey||o&&(o.type||i(o).is("[contenteditable]"))||i.each(t,function(t,o){return 1<n.group.length&&o[e]!==r?(u[t](o[e]),f.preventDefault(),!1):-1<i.inArray(e,o)?(u[t](),f.preventDefault(),!1):void 0})}),i.fn.mousewheel&&n.mouseWheel&&u.wrap.bind("mousewheel.fb",function(t,r,f,e){for(var o=i(t.target||null),s=!1;o.length&&!s&&!o.is(".fancybox-skin")&&!o.is(".fancybox-wrap");)s=o[0]&&!(o[0].style.overflow&&"hidden"===o[0].style.overflow)&&(o[0].clientWidth&&o[0].scrollWidth>o[0].clientWidth||o[0].clientHeight&&o[0].scrollHeight>o[0].clientHeight),o=i(o).parent();0!==r&&!s&&1<u.group.length&&!n.canShrink&&(0<e||0<f?u.prev(0<e?"down":"left"):(0>e||0>f)&&u.next(0>e?"up":"right"),t.preventDefault())}))},trigger:function(n,t){var f,r=t||u.coming||u.current;if(r){if(i.isFunction(r[n])&&(f=r[n].apply(r,Array.prototype.slice.call(arguments,1))),!1===f)return!1;r.helpers&&i.each(r.helpers,function(t,f){f&&u.helpers[t]&&i.isFunction(u.helpers[t][n])&&u.helpers[t][n](i.extend(!0,{},u.helpers[t].defaults,f),r)});o.trigger(n)}},isImage:function(n){return c(n)&&n.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(n){return c(n)&&n.match(/\.(swf)((\?|#).*)?$/i)},_start:function(n){var t={},e,r;if(n=f(n),e=u.group[n]||null,!e)return!1;if(t=i.extend(!0,{},u.opts,e),e=t.margin,r=t.padding,"number"===i.type(e)&&(t.margin=[e,e,e,e]),"number"===i.type(r)&&(t.padding=[r,r,r,r]),t.modal&&i.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),t.autoSize&&(t.autoWidth=t.autoHeight=!0),"auto"===t.width&&(t.autoWidth=!0),"auto"===t.height&&(t.autoHeight=!0),t.group=u.group,t.index=n,u.coming=t,!1===u.trigger("beforeLoad"))u.coming=null;else{if(r=t.type,e=t.href,!r)return u.coming=null,u.current&&u.router&&"jumpto"!==u.router?(u.current.index=n,u[u.router](u.direction)):!1;if(u.isActive=!0,("image"===r||"swf"===r)&&(t.autoHeight=t.autoWidth=!1,t.scrolling="visible"),"image"===r&&(t.aspectRatio=!0),"iframe"===r&&s&&(t.scrolling="scroll"),t.wrap=i(t.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+r+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body"),i.extend(t,{skin:i(".fancybox-skin",t.wrap),outer:i(".fancybox-outer",t.wrap),inner:i(".fancybox-inner",t.wrap)}),i.each(["Top","Right","Bottom","Left"],function(n,i){t.skin.css("padding"+i,h(t.padding[n]))}),u.trigger("onReady"),"inline"===r||"html"===r){if(!t.content||!t.content.length)return u._error("content")}else if(!e)return u._error("href");"image"===r?u._loadImage():"ajax"===r?u._loadAjax():"iframe"===r?u._loadIframe():u._afterLoad()}},_error:function(n){i.extend(u.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:n,content:u.coming.tpl.error});u._afterLoad()},_loadImage:function(){var n=u.imgPreload=new Image;n.onload=function(){this.onload=this.onerror=null;u.coming.width=this.width/u.opts.pixelRatio;u.coming.height=this.height/u.opts.pixelRatio;u._afterLoad()};n.onerror=function(){this.onload=this.onerror=null;u._error("image")};n.src=u.coming.href;!0!==n.complete&&u.showLoading()},_loadAjax:function(){var n=u.coming;u.showLoading();u.ajaxLoad=i.ajax(i.extend({},n.ajax,{url:n.href,error:function(n,t){u.coming&&"abort"!==t?u._error("ajax",n):u.hideLoading()},success:function(t,i){"success"===i&&(n.content=t,u._afterLoad())}}))},_loadIframe:function(){var n=u.coming,t=i(n.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":n.iframe.scrolling).attr("src",n.href);i(n.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(n){}});n.iframe.preload&&(u.showLoading(),t.one("load",function(){i(this).data("ready",1);s||i(this).bind("load.fb",u.update);i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();u._afterLoad()}));n.content=t.appendTo(n.inner);n.iframe.preload||u._afterLoad()},_preloadImages:function(){for(var r=u.group,i=u.current,f=r.length,e=i.preload?Math.min(i.preload,f-1):0,n,t=1;t<=e;t+=1)n=r[(i.index+t)%f],"image"===n.type&&n.href&&((new Image).src=n.href)},_afterLoad:function(){var n=u.coming,r=u.current,t,s,f,e,o;if(u.hideLoading(),n&&!1!==u.isActive)if(!1===u.trigger("afterLoad",n,r))n.wrap.stop(!0).trigger("onReset").remove(),u.coming=null;else{r&&(u.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());u.unbindEvents();t=n.content;s=n.type;f=n.scrolling;i.extend(u,{wrap:n.wrap,skin:n.skin,outer:n.outer,inner:n.inner,current:n,previous:r});e=n.href;switch(s){case"inline":case"ajax":case"html":n.selector?t=i("<div>").html(t).find(n.selector):a(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",i('<div class="fancybox-placeholder"><\/div>').insertAfter(t).hide()),t=t.show().detach(),n.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=n.tpl.image.replace("{href}",e);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+e+'"><\/param>';o="";i.each(n.swf,function(n,i){t+='<param name="'+n+'" value="'+i+'"><\/param>';o+=" "+n+'="'+i+'"'});t+='<embed src="'+e+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"><\/embed><\/object>"}a(t)&&t.parent().is(n.inner)||n.inner.append(t);u.trigger("beforeShow");n.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);u._setDimension();u.reposition();u.isOpen=!1;u.coming=null;u.bindEvents();u.isOpened?r.prevMethod&&u.transitions[r.prevMethod]():i(".fancybox-wrap").not(n.wrap).stop(!0).trigger("onReset").remove();u.transitions[u.isOpened?n.nextMethod:n.openMethod]();u._preloadImages()}},_setDimension:function(){var o=u.getViewport(),st=0,s=!1,n=!1,s=u.wrap,nt=u.skin,e=u.inner,r=u.current,n=r.width,t=r.height,c=r.minWidth,a=r.minHeight,v=r.maxWidth,y=r.maxHeight,ht=r.scrolling,ft=r.scrollOutside?r.scrollbarWidth:0,p=r.margin,w=f(p[1]+p[3]),tt=f(p[0]+p[2]),et,b,rt,d,k,it,ot,g,ut;if(s.add(nt).add(e).width("auto").height("auto").removeClass("fancybox-tmp"),p=f(nt.outerWidth(!0)-nt.width()),et=f(nt.outerHeight(!0)-nt.height()),b=w+p,rt=tt+et,d=l(n)?(o.w-b)*f(n)/100:n,k=l(t)?(o.h-rt)*f(t)/100:t,"iframe"===r.type){if(ut=r.content,r.autoHeight&&1===ut.data("ready"))try{ut[0].contentWindow.document.location&&(e.width(d).height(9999),it=ut.contents().find("body"),ft&&it.css("overflow-x","hidden"),k=it.outerHeight(!0))}catch(ct){}}else(r.autoWidth||r.autoHeight)&&(e.addClass("fancybox-tmp"),r.autoWidth||e.width(d),r.autoHeight||e.height(k),r.autoWidth&&(d=e.width()),r.autoHeight&&(k=e.height()),e.removeClass("fancybox-tmp"));if(n=f(d),t=f(k),g=d/k,c=f(l(c)?f(c,"w")-b:c),v=f(l(v)?f(v,"w")-b:v),a=f(l(a)?f(a,"h")-rt:a),y=f(l(y)?f(y,"h")-rt:y),it=v,ot=y,r.fitToView&&(v=Math.min(o.w-b,v),y=Math.min(o.h-rt,y)),b=o.w-w,tt=o.h-tt,r.aspectRatio?(n>v&&(n=v,t=f(n/g)),t>y&&(t=y,n=f(t*g)),n<c&&(n=c,t=f(n/g)),t<a&&(t=a,n=f(t*g))):(n=Math.max(c,Math.min(n,v)),r.autoHeight&&"iframe"!==r.type&&(e.width(n),t=e.height()),t=Math.max(a,Math.min(t,y))),r.fitToView)if(e.width(n).height(t),s.width(n+p),o=s.width(),w=s.height(),r.aspectRatio)for(;(o>b||w>tt)&&n>c&&t>a&&!(19<st++);)t=Math.max(a,Math.min(y,t-10)),n=f(t*g),n<c&&(n=c,t=f(n/g)),n>v&&(n=v,t=f(n/g)),e.width(n).height(t),s.width(n+p),o=s.width(),w=s.height();else n=Math.max(c,Math.min(n,n-(o-b))),t=Math.max(a,Math.min(t,t-(w-tt)));ft&&"auto"===ht&&t<k&&n+p+ft<b&&(n+=ft);e.width(n).height(t);s.width(n+p);o=s.width();w=s.height();s=(o>b||w>tt)&&n>c&&t>a;n=r.aspectRatio?n<it&&t<ot&&n<d&&t<k:(n<it||t<ot)&&(n<d||t<k);i.extend(r,{dim:{width:h(o),height:h(w)},origWidth:d,origHeight:k,canShrink:s,canExpand:n,wPadding:p,hPadding:et,wrapSpace:w-nt.outerHeight(!0),skinSpace:nt.height()-t});!ut&&r.autoHeight&&t>a&&t<y&&!n&&e.height("auto")},_getPosition:function(n){var i=u.current,r=u.getViewport(),t=i.margin,f=u.wrap.width()+t[1]+t[3],e=u.wrap.height()+t[0]+t[2],t={position:"absolute",top:t[0],left:t[3]};return i.autoCenter&&i.fixed&&!n&&e<=r.h&&f<=r.w?t.position="fixed":i.locked||(t.top+=r.y,t.left+=r.x),t.top=h(Math.max(t.top,t.top+(r.h-e)*i.topRatio)),t.left=h(Math.max(t.left,t.left+(r.w-f)*i.leftRatio)),t},_afterZoomIn:function(){var n=u.current;n&&(u.isOpen=u.isOpened=!0,u.wrap.css("overflow","visible").addClass("fancybox-opened"),u.update(),(n.closeClick||n.nextClick&&1<u.group.length)&&u.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),u[n.closeClick?"close":"next"]())}),n.closeBtn&&i(n.tpl.closeBtn).appendTo(u.skin).bind("click.fb",function(n){n.preventDefault();u.close()}),n.arrows&&1<u.group.length&&((n.loop||0<n.index)&&i(n.tpl.prev).appendTo(u.outer).bind("click.fb",u.prev),(n.loop||n.index<u.group.length-1)&&i(n.tpl.next).appendTo(u.outer).bind("click.fb",u.next)),u.trigger("afterShow"),!n.loop&&n.index===n.group.length-1?u.play(!1):u.opts.autoPlay&&!u.player.isActive&&(u.opts.autoPlay=!1,u.play()))},_afterZoomOut:function(n){n=n||u.current;i(".fancybox-wrap").trigger("onReset").remove();i.extend(u,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});u.trigger("afterClose",n)}});u.transitions={getOrigPosition:function(){var n=u.current,f=n.element,t=n.orig,i={},e=50,o=50,s=n.hPadding,c=n.wPadding,r=u.getViewport();return!t&&n.isDom&&f.is(":visible")&&(t=f.find("img:first"),t.length||(t=f)),a(t)?(i=t.offset(),t.is("img")&&(e=t.outerWidth(),o=t.outerHeight())):(i.top=r.y+(r.h-o)*n.topRatio,i.left=r.x+(r.w-e)*n.leftRatio),("fixed"===u.wrap.css("position")||n.locked)&&(i.top-=r.y,i.left-=r.x),{top:h(i.top-s*n.topRatio),left:h(i.left-c*n.leftRatio),width:h(e+c),height:h(o+s)}},step:function(n,t){var e,i,r=t.prop,o,s;i=u.current;o=i.wrapSpace;s=i.skinSpace;("width"===r||"height"===r)&&(e=t.end===t.start?1:(n-t.start)/(t.end-t.start),u.isClosing&&(e=1-e),i="width"===r?i.wPadding:i.hPadding,i=n-i,u.skin[r](f("width"===r?i:i-o*e)),u.inner[r](f("width"===r?i:i-o*e-s*e)))},zoomIn:function(){var n=u.current,t=n.pos,r=n.openEffect,f="elastic"===r,e=i.extend({opacity:1},t);delete e.position;f?(t=this.getOrigPosition(),n.openOpacity&&(t.opacity=.1)):"fade"===r&&(t.opacity=.1);u.wrap.css(t).animate(e,{duration:"none"===r?0:n.openSpeed,easing:n.openEasing,step:f?this.step:null,complete:u._afterZoomIn})},zoomOut:function(){var n=u.current,i=n.closeEffect,r="elastic"===i,t={opacity:.1};r&&(t=this.getOrigPosition(),n.closeOpacity&&(t.opacity=.1));u.wrap.animate(t,{duration:"none"===i?0:n.closeSpeed,easing:n.closeEasing,step:r?this.step:null,complete:u._afterZoomOut})},changeIn:function(){var i=u.current,o=i.nextEffect,t=i.pos,e={opacity:1},r=u.direction,n;t.opacity=.1;"elastic"===o&&(n="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(t[n]=h(f(t[n])-200),e[n]="+=200px"):(t[n]=h(f(t[n])+200),e[n]="-=200px"));"none"===o?u._afterZoomIn():u.wrap.css(t).animate(e,{duration:i.nextSpeed,easing:i.nextEasing,complete:u._afterZoomIn})},changeOut:function(){var n=u.previous,r=n.prevEffect,f={opacity:.1},t=u.direction;"elastic"===r&&(f["down"===t||"up"===t?"top":"left"]=("up"===t||"left"===t?"-":"+")+"=200px");n.wrap.animate(f,{duration:"none"===r?0:n.prevSpeed,easing:n.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}};u.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(n){n=i.extend({},this.defaults,n);this.overlay&&this.close();this.overlay=i('<div class="fancybox-overlay"><\/div>').appendTo(u.coming?u.coming.parent:n.parent);this.fixed=!1;n.fixed&&u.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(n){var t=this;n=i.extend({},this.defaults,n);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(n);this.fixed||(e.bind("resize.overlay",i.proxy(this.update,this)),this.update());n.closeClick&&this.overlay.bind("click.overlay",function(n){if(i(n.target).hasClass("fancybox-overlay"))return u.isActive?u.close():t.close(),!1});this.overlay.css(n.css).show()},close:function(){var n,t;e.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),n=e.scrollTop(),t=e.scrollLeft(),this.el.removeClass("fancybox-lock"),e.scrollTop(n).scrollLeft(t));i(".fancybox-overlay").remove().hide();i.extend(this,{overlay:null,fixed:!1})},update:function(){var n="100%",i;this.overlay.width(n).height("100%");y?(i=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>i&&(n=o.width())):o.width()>e.width()&&(n=o.width());this.overlay.width(n).height(o.height())},onReady:function(n,t){var r=this.overlay;i(".fancybox-overlay").stop(!0,!0);r||this.create(n);n.locked&&this.fixed&&t.fixed&&(r||(this.margin=o.height()>e.height()?i("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1);!0===n.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(n,t){var r,u;t.locked&&(!1!==this.margin&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),r=e.scrollTop(),u=e.scrollLeft(),this.el.addClass("fancybox-lock"),e.scrollTop(r).scrollLeft(u));this.open(n)},onUpdate:function(){this.fixed||this.update()},afterClose:function(n){this.overlay&&!u.coming&&this.overlay.fadeOut(n.speedOut,i.proxy(this.close,this))}};u.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(n){var t=u.current,e=t.title,r=n.type;if(i.isFunction(e)&&(e=e.call(t.element,t)),c(e)&&""!==i.trim(e)){t=i('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+e+"<\/div>");switch(r){case"inside":r=u.skin;break;case"outside":r=u.wrap;break;case"over":r=u.inner;break;default:r=u.skin;t.appendTo("body");y&&t.width(t.width());t.wrapInner('<span class="child"><\/span>');u.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t["top"===n.position?"prependTo":"appendTo"](r)}}};i.fn.fancybox=function(n){var r,f=i(this),t=this.selector||"",e=function(e){var o=i(this).blur(),c=r,h,s;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||o.is(".fancybox-wrap")||(h=n.groupAttr||"data-fancybox-group",s=o.attr(h),s||(h="rel",s=o.get(0)[h]),s&&""!==s&&"nofollow"!==s&&(o=t.length?i(t):f,o=o.filter("["+h+'="'+s+'"]'),c=o.index(this)),n.index=c,!1!==u.open(o,n)&&e.preventDefault())};return n=n||{},r=n.index||0,!t||!1===n.live?f.unbind("click.fb-start").bind("click.fb-start",e):o.undelegate(t,"click.fb-start").delegate(t+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this};o.ready(function(){var f,t,e;i.scrollbarWidth===r&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/><\/div>').appendTo("body"),n=t.children(),n=n.innerWidth()-n.height(99).innerWidth();return t.remove(),n});i.support.fixedPosition===r&&(f=i.support,t=i('<div style="position:fixed;top:20px;"><\/div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop,t.remove(),f.fixedPosition=e);i.extend(u.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")});f=i(n).width();p.addClass("fancybox-lock-test");t=i(n).width();p.removeClass("fancybox-lock-test");i("<style type='text/css'>.fancybox-margin{margin-right:"+(t-f)+"px;}<\/style>").appendTo("head")})})(window,document,jQuery);
/*!
 * Thumbnail helper for fancyBox
 * version: 1.0.7 (Mon, 01 Oct 2012)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             thumbs: {
 *                 width  : 50,
 *                 height : 50
 *             }
 *         }
 *     });
 *
 */
(function(n){var t=n.fancybox;t.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(t){var i;return t.element&&(i=n(t.element).find("img").attr("src")),!i&&t.type==="image"&&t.href&&(i=t.href),i}},wrap:null,list:null,width:0,init:function(t,i){for(var o=this,r=t.width,u=t.height,s=t.source,e="",f=0;f<i.group.length;f++)e+='<li><a style="width:'+r+"px;height:"+u+'px;" href="javascript:jQuery.fancybox.jumpto('+f+');"><\/a><\/li>';this.wrap=n('<div id="fancybox-thumbs"><\/div>').addClass(t.position).appendTo("body");this.list=n("<ul>"+e+"<\/ul>").appendTo(this.wrap);n.each(i.group,function(t){var f=s(i.group[t]);f&&n("<img />").load(function(){var i=this.width,f=this.height,e,s,h;o.list&&i&&f&&(e=i/r,s=f/u,h=o.list.children().eq(t).find("a"),e>=1&&s>=1&&(e>s?(i=Math.floor(i/s),f=u):(i=r,f=Math.floor(f/e))),n(this).css({width:i,height:f,top:Math.floor(u/2-f/2),left:Math.floor(r/2-i/2)}),h.width(r).height(u),n(this).hide().appendTo(h).fadeIn(300))}).attr("src",f)});this.width=this.list.children().eq(0).outerWidth(!0);this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(n(window).width()*.5-(i.index*this.width+this.width*.5)))},beforeLoad:function(n,t){if(t.group.length<2){t.helpers.thumbs=!1;return}t.margin[n.position==="top"?0:2]+=n.height+15},afterShow:function(n,t){if(this.list)this.onUpdate(n,t);else this.init(n,t);this.list.children().removeClass("active").eq(t.index).addClass("active")},onUpdate:function(t,i){this.list&&this.list.stop(!0).animate({left:Math.floor(n(window).width()*.5-(i.index*this.width+this.width*.5))},150)},beforeClose:function(){this.wrap&&this.wrap.remove();this.wrap=null;this.list=null;this.width=0}}})(jQuery);
/*! jQuery UI - v1.12.0 - 2016-09-01
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){function b(n){for(var t=n.css("visibility");"inherit"===t;)n=n.parent(),t=n.css("visibility");return"hidden"!==t}function k(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=l(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function l(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){n.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function u(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var v,o,r,f,y,i,w;n.ui=n.ui||{};n.ui.version="1.12.0";v=0;o=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var f,u,o,h={},e=t.split(".")[0],s;return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.isArray(r)&&(r=n.extend.apply(null,[{}].concat(r))),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){function n(){return i.prototype[t].apply(this,arguments)}function u(n){return i.prototype[t].apply(this,n)}return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,f=o.call(arguments,1),u=0,e=f.length;e>u;u++)for(i in f[u])r=f[u][i],f[u].hasOwnProperty(i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var s="string"==typeof u,e=o.call(arguments,1),f=this;return s?this.each(function(){var i,o=n.data(this,r);return"instance"===u?(f=o,!1):o?n.isFunction(o[u])&&"_"!==u.charAt(0)?(i=o[u].apply(o,e),i!==o&&void 0!==i?(f=i&&i.jquery?f.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+u+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):(e.length&&(u=n.widget.extend.apply(null,[u].concat(e))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),f}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=v++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();this.classesElementLookup={};i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var t=this;this._destroy();n.each(this.classesElementLookup,function(n,i){t._removeClass(i,n)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return"classes"===n&&this._setOptionClasses(t),this.options[n]=t,"disabled"===n&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,u,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(u=n(r.get()),this._removeClass(r,i),u.addClass(this._classes({element:u,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(n){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!n);n&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function r(r,f){for(var o,e=0;r.length>e;e++)o=u.classesElementLookup[r[e]]||n(),o=t.add?n(n.unique(o.get().concat(t.element.get()))):n(o.not(t.element).get()),u.classesElementLookup[r[e]]=o,i.push(r[e]),f&&t.classes[r[e]]&&i.push(t.classes[r[e]])}var i=[],u=this;return t=n.extend({element:this.element,classes:this.options.classes||{}},t),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_removeClass:function(n,t,i){return this._toggleClass(n,t,i,!1)},_addClass:function(n,t,i){return this._toggleClass(n,t,i,!0)},_toggleClass:function(n,t,i,r){r="boolean"==typeof r?r:i;var u="string"==typeof n||null===n,f={extra:u?t:i,keys:u?n:t,element:u?this.element:n,add:r};return f.element.toggleClass(this._classes(f),r),this},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.on(h,c,o):i.on(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(i).off(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(n(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(n(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget,function(){function e(n,t,i){return[parseFloat(n[0])*(a.test(n[0])?t/100:1),parseFloat(n[1])*(a.test(n[1])?i/100:1)]}function i(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var u,f,r=Math.max,t=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,y=n.fn.position;f=function(){var t=n("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),i=1.5===t.offset().top;return t.remove(),f=function(){return i},i};n.position={scrollbarWidth:function(){if(void 0!==u)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType,f=!r&&!u;return{element:i,isWindow:r,isDocument:u,offset:f?n(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return y.apply(this,arguments);u=n.extend({},u);var k,a,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=v(nt),nt[0].preventDefault&&(u.at="left top"),a=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var t,i,n=(u[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]);n[0]=s.test(n[0])?n[0]:"center";n[1]=h.test(n[1])?n[1]:"center";t=c.exec(n[0]);i=c.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===d.length&&(d[1]=d[0]),"right"===u.at[0]?w.left+=a:"center"===u.at[0]&&(w.left+=a/2),"bottom"===u.at[1]?w.top+=p:"center"===u.at[1]&&(w.top+=p/2),k=e(tt.at,a,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,h=n(this),c=h.outerWidth(),l=h.outerHeight(),ut=i(this,"marginLeft"),ft=i(this,"marginTop"),et=c+ut+i(this,"marginRight")+rt.width,ot=l+ft+i(this,"marginBottom")+rt.height,s=n.extend({},w),v=e(tt.my,h.outerWidth(),h.outerHeight());"right"===u.my[0]?s.left-=c:"center"===u.my[0]&&(s.left-=c/2);"bottom"===u.my[1]?s.top-=l:"center"===u.my[1]&&(s.top-=l/2);s.left+=v[0];s.top+=v[1];f()||(s.left=o(s.left),s.top=o(s.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](s,{targetWidth:a,targetHeight:p,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:h})});u.using&&(g=function(n){var i=b.left-s.left,o=i+a-c,f=b.top-s.top,v=f+p-l,e={target:{element:nt,left:b.left,top:b.top,width:a,height:p},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:0>o?"left":i>0?"right":"center",vertical:0>v?"top":f>0?"bottom":"middle"};c>a&&a>t(i+o)&&(e.horizontal="center");l>p&&p>t(f+v)&&(e.vertical="middle");e.important=r(t(i),t(o))>r(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});h.offset(n.extend(s,{using:g}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&0>=i?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var h,o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&0>=i?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,i){var o,s,r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-h,v=l+i.collisionWidth-c-h,u="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,e=-2*i.offset[0];0>a?(o=n.left+u+f+e+i.collisionWidth-c-y,(0>o||t(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-i.collisionPosition.marginLeft+u+f+e-h,(s>0||v>t(s))&&(n.left+=u+f+e))},top:function(n,i){var o,s,r=i.within,y=r.offset.top+r.scrollTop,c=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-h,v=l+i.collisionHeight-c-h,p="top"===i.my[1],u=p?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,e=-2*i.offset[1];0>a?(s=n.top+u+f+e+i.collisionHeight-c-y,(0>s||t(a)>s)&&(n.top+=u+f+e)):v>0&&(o=n.top-i.collisionPosition.marginTop+u+f+e-h,(o>0||v>t(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}}}();n.ui.position;n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])}});n.fn.extend({disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});n.ui.focusable=function(t,i){var u,f,e,r,o,s=t.nodeName.toLowerCase();return"area"===s?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']"),e.length>0&&e.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(s)?(r=!t.disabled,r&&(o=n(t).closest("fieldset")[0],o&&(r=!o.disabled))):r="a"===s?t.href||i:i,r&&n(t).is(":visible")&&b(n(t)))};n.extend(n.expr[":"],{focusable:function(t){return n.ui.focusable(t,null!=n.attr(t,"tabindex"))}});n.ui.focusable;n.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):n(this[0].form)};n.ui.formResetMixin={_formResetHandler:function(){var t=n(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");n.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var n=this.form.data("ui-form-reset-instances")||[];n.length||this.form.on("reset.ui-form-reset",this._formResetHandler);n.push(this);this.form.data("ui-form-reset-instances",n)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(n.inArray(this,t),1);t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===n.fn.jquery.substring(0,3)&&(n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}}),n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};n.ui.escapeSelector=function(){var n=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(n,"\\$1")}}();n.fn.labels=function(){var t,r,u,i,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),u=this.attr("id"),u&&(t=this.eq(0).parents().last(),f=t.add(t.length?t.siblings():this.siblings()),r="label[for='"+n.ui.escapeSelector(u)+"']",i=i.add(f.find(r).addBack(r))),this.pushStack(i))};n.fn.scrollParent=function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)};n.extend(n.expr[":"],{tabbable:function(t){var i=n.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&n.ui.focusable(t,r)}});n.fn.extend({uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());r=!1;n(document).on("mouseup",function(){r=!1});n.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).on("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,u=1===t.which,f="string"==typeof this.options.cancel&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);this.ignoreMissingWhich=!1;r=!1;t.preventDefault()},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};n.ui.safeActiveElement=function(n){var t;try{t=n.activeElement}catch(i){t=n.body}return t||(t=n.body),t.nodeName||(t=n.body),t};n.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&n(t).trigger("blur")};n.widget("ui.draggable",n.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=n.ui.safeActiveElement(this.document[0]),r=n(t.target);this._getHandle(t)&&r.closest(i).length||n.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp(new n.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new n.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;n.length>t;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if("scope"===t){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this._addActiveClass();i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this._removeActiveClass();i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&f(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return(u=!0,!1)}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});f=n.ui.intersect=function(){function n(n,t,i){return n>=t&&t+i>n}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return o>=f&&l>=h&&s>=e&&a>=c;case"intersect":return o+t.helperProportions.width/2>f&&l>h-t.helperProportions.width/2&&s+t.helperProportions.height/2>e&&a>c-t.helperProportions.height/2;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&a>=s||c>=e&&a>=c||e>s&&c>a)&&(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&f(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,e,s=f(t,this,this.options.tolerance,i),u=!s&&this.isover?"isout":s&&!this.isover?"isover":null;u&&(this.options.greedy&&(o=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===o}),e.length&&(r=n(e[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};n.uiBackCompat!==!1&&n.widget("ui.droppable",n.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});n.ui.droppable;n.widget("ui.resizable",n.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseFloat(n)||0},_isNumber:function(n){return!isNaN(parseFloat(n))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var r,t=this.options,i=this;this._addClass("ui-resizable");n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,r={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(r),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(r),this._proportionallyResize());this._setupHandles();t.autoHide&&n(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(n,t){switch(this._super(n,t),n){case"handles":this._removeHandles();this._setupHandles()}},_setupHandles:function(){var i,r,u,o,t,f=this.options,e=this;if(this.handles=f.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},r=0;u.length>r;r++)i=n.trim(u[r]),o="ui-resizable-"+i,t=n("<div>"),this._addClass(t,"ui-resizable-handle "+o),t.css({zIndex:f.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.append(t);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){e.resizing||(this.className&&(t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=t&&t[1]?t[1]:"se")});f.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),t.maxWidth>u&&(t.maxWidth=u),t.maxHeight>e&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(u[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("ui-resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");n.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&r>i.maxWidth,w=i.maxHeight&&u>i.maxHeight,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.selectable",n.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t.elementPos=n(t.element[0]).offset();t.selectees=n(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var i=n(this),u=i.offset(),r={left:u.left-t.elementPos.left,top:u.top-t.elementPos.top};n.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=n("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=n(this.element[0]).offset();this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,u?"ui-unselecting":"ui-selected")._addClass(r.$element,u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1)}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,s=this.options,r=this.opos[0],u=this.opos[1],f=t.pageX,e=t.pageY;return r>f&&(o=f,f=r,r=o),u>e&&(o=e,e=u,u=o),this.helper.css({left:r,top:u,width:f-r,height:e-u}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),c=!1,h={};o&&o.element!==i.element[0]&&(h.left=o.left+i.elementPos.left,h.right=o.right+i.elementPos.left,h.top=o.top+i.elementPos.top,h.bottom=o.bottom+i.elementPos.top,"touch"===s.tolerance?c=!(h.left>f||r>h.right||h.top>e||u>h.bottom):"fit"===s.tolerance&&(c=h.left>r&&f>h.right&&h.top>u&&e>h.bottom),c?(o.selected&&(i._removeClass(o.$element,"ui-selected"),o.selected=!1),o.unselecting&&(i._removeClass(o.$element,"ui-unselecting"),o.unselecting=!1),o.selecting||(i._addClass(o.$element,"ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,i._addClass(o.$element,"ui-selected"),o.selected=!0):(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,o.startselected&&(i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(i._removeClass(o.$element,"ui-selected"),o.selected=!1,i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.sortable",n.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");n.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u;return f?(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1)):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",r||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"pageX":"pageY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),c>Math.abs(t[h]-o)&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var i,r,t=this.options.icons;t&&(i=n("<span>"),this._addClass(i,"ui-accordion-header-icon","ui-icon "+t.header),i.prependTo(this.headers),r=this.active.children(".ui-accordion-header-icon"),this._removeClass(r,t.header)._addClass(r,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),void 0)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!n)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),n(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=n(this).is(":visible");i||n(this).show();t=Math.max(t,n(this).css("height","").height());i||n(this).hide()}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var e,o,i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],s=f&&i.collapsible,c=s?n():r.next(),l=u.next(),h={oldHeader:u,oldPanel:l,newHeader:s?n():r,newPanel:c};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=s?!1:this.headers.index(r),this.active=f?n():r,this._toggle(h),this._removeClass(u,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=u.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),f||(this._removeClass(r,"ui-accordion-header-collapsed")._addClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(o=r.children(".ui-accordion-header-icon"),this._removeClass(o,null,i.icons.header)._addClass(o,null,i.icons.activeHeader)),this._addClass(r.next(),"ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.css("box-sizing"),a=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=a&&e.down||e,s=function(){c._toggleComplete(i)};return"number"==typeof f&&(u=f),"string"==typeof f&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}}),void 0):t.animate(this.hideProps,u,r,s):n.animate(this.showProps,u,r,s)},_toggleComplete:function(n){var t=n.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target),r=n(n.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var r=n(t.target).closest(".ui-menu-item"),i=n(t.currentTarget);r[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){var i=!n.contains(this.element[0],n.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();i.children().each(function(){var t=n(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,u,r,f,e=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=!1;u=this.previousFilter||"";r=String.fromCharCode(t.keyCode);f=!1;clearTimeout(this.filterTimer);r===u?f=!0:r=u+r;i=this._filterMenuItems(r);i=f&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}e&&t.preventDefault()},_activate:function(n){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var u,t,f,i,e,r=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);f=o.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev(),u=n("<span>").data("ui-menu-submenu-caret",!0);r._addClass(u,"ui-menu-icon","ui-icon "+s);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front");u=o.add(this.element);t=u.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")});i=t.not(".ui-menu-item, .ui-menu-divider");e=i.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(i,"ui-menu-item")._addClass(e,"ui-menu-item-wrapper");t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){if("icons"===n){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n+"");this._toggleClass(null,"ui-state-disabled",!!n)},focus:function(n,t){var i,r,u;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));u=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(u,null,"ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",n,{item:this.active}),this.active=null)},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this._removeClass(r.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(n.trim(n(this).children(".ui-menu-item-wrapper").text()))})}});n.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,void 0;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),void 0):(this._searchTimeout(n),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(n),this._change(n),void 0)}});this._initSource();this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var r,u;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),void 0):(u=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value),r=i.item.attr("aria-label")||u.value,r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),u=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=u,this._delay(function(){this.previous=u;this.selectedItem=r}));!1!==this._trigger("select",t,{item:r})&&this._value(r.value);this.term=this._value();this.close(t);this.selectedItem=r}});this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||n.contains(i,t.target)},_closeOnClickOutside:function(n){this._isEventTargetInWidget(n)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):void 0},_search:function(n){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<div>").text(i.label)).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[n](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())},_isContentEditable:function(n){if(!n.length)return!1;var t=n.prop("contentEditable");return"inherit"===t?this._isContentEditable(n.parent()):"true"===t}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});n.ui.autocomplete;y=/ui-corner-([a-z]){2,6}/g;n.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];n.each(this.options.items,function(r,u){var f,e={};if(u)return"controlgroupLabel"===r?(f=t.element.find(u),f.each(function(){var t=n(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'><\/span>")}),t._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(f.get()),void 0):(n.fn[r]&&(t["_"+r+"Options"]&&(e=t["_"+r+"Options"]("middle")),t.element.find(u).each(function(){var u=n(this),f=u[r]("instance"),o=n.widget.extend({},e),s;"button"===r&&u.parent(".ui-spinner").length||(f||(f=u[r]()[r]("instance")),f&&(o.classes=t._resolveClassesValues(o.classes,f)),u[r](o),s=u[r]("widget"),n.data(s[0],"ui-controlgroup-data",f?f:u[r]("instance")),i.push(s[0]))})),void 0)});this.childWidgets=n(n.unique(i));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var r=n(this),i=r.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(n,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(n,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(n,null,i)},_buildSimpleOptions:function(n,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[n],r},_spinnerOptions:function(n){var t=this._buildSimpleOptions(n,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(n){return this._buildSimpleOptions(n,"ui-button")},_checkboxradioOptions:function(n){return this._buildSimpleOptions(n,"ui-checkboxradio-label")},_selectmenuOptions:function(n){var t="vertical"===this.options.direction;return{width:t?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[n]}},_resolveClassesValues:function(t,i){var r={};return n.each(t,function(n){var u=i.options.classes[n]||"";u=u.replace(y,"").trim();r[n]=(u+" "+t[n]).replace(/\s+/g," ")}),r},_setOption:function(n,t){return"direction"===n&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(n,t),"disabled"===n?(this._callChildMethod(t?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;this.options.onlyVisible&&(t=t.filter(":visible"));t.length&&(n.each(["first","last"],function(n,r){var u=t[r]().data("ui-controlgroup-data"),f;u&&i["_"+u.widgetName+"Options"]?(f=i["_"+u.widgetName+"Options"](1===t.length?"only":r),f.classes=i._resolveClassesValues(f.classes,u),u.element[u.widgetName](f)):i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}});n.widget("ui.checkboxradio",[n.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,u=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=n(i[i.length-1]),this.label.length||n.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){u.originalLabel+=3===this.nodeType?n(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(r.disabled=t),r},_create:function(){var n=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();n&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||n.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,i=this.element[0].name,r="input[name='"+n.ui.escapeSelector(i)+"']";return i?(t=this.form.length?n(this.form[0].elements).filter(r):n(r).filter(function(){return 0===n(this).form().length}),t.not(this.element)):n([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=n(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(n,t){if("label"!==n||t)return(this._super(n,t),"disabled"===n?(this._toggleClass(this.label,null,"ui-state-disabled",t),this.element[0].disabled=t,void 0):(this.refresh(),void 0))},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=n("<span>"),this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove();this.label.append(this.options.label)},refresh:function(){var n=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(n);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",n);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);n.ui.checkboxradio;n.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var n,t=this._super()||{};return this.isInput=this.element.is("input"),n=this.element[0].disabled,null!=n&&(t.disabled=n),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var u="iconPosition"!==t,r=u?this.options.iconPosition:i,f="top"===r||"bottom"===r;this.icon?u&&this._removeClass(this.icon,null,this.options.icon):(this.icon=n("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));u&&this._addClass(this.icon,null,i);this._attachIcon(r);f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(n){this.icon[/^(?:end|bottom)/.test(n)?"before":"after"](this.iconSpace)},_attachIcon:function(n){this.element[/^(?:end|bottom)/.test(n)?"append":"prepend"](this.icon)},_setOptions:function(n){var t=void 0===n.showLabel?this.options.showLabel:n.showLabel,i=void 0===n.icon?this.options.icon:n.icon;t||i||(n.showLabel=!0);this._super(n)},_setOption:function(n,t){"icon"===n&&(t?this._updateIcon(n,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===n&&this._updateIcon(n,t);"showLabel"===n&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip());"label"===n&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(n,t);"disabled"===n&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var n=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");n!==this.options.disabled&&this._setOptions({disabled:n});this._updateTooltip()}});n.uiBackCompat!==!1&&(n.widget("ui.button",n.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(n,t){return"text"===n?(this._super("showLabel",t),void 0):("showLabel"===n&&(this.options.text=t),"icon"===n&&(this.options.icons.primary=t),"icons"===n&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),n.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(n.ui.checkboxradio||n.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(n.fn.button),n.fn.buttonset=function(){return n.ui.controlgroup||n.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.12.0"}});n.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?l(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.off("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.on("focus",this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),u(o.settings,f||{}),i=i&&i.constructor===Date?this._formatDate(o,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty(),i===f&&(i=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?n.extend({},n.datepicker._defaults):f?"all"===i?n.extend({},f.settings):this._get(f,i):null:(e=i||{},"string"==typeof i&&(e={},e[i]=r),f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),u(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|="fixed"===n(this).css("position"),!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",k(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var r,u=this._getNumberOfMonths(t),f=u[1],e=t.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&a.apply(e.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);r=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).val(u))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=t.length>o+1&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;t.length>o;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(i.length>f&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.selectedYear+("Y"===i?t:0),f=n.selectedMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).on("mousedown",n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new c;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.12.0";n.datepicker;n.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||n.ui.safeBlur(n.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=n(n.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=n.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:n("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title?n.text(this.options.title):n.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;f={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel};delete r.click;delete r.icon;delete r.iconPosition;delete r.showLabel;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet).on("click",function(){u.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){t._addClass(n(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};t._removeClass(n(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){t._addClass(n(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};t._removeClass(n(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var f,u,r=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:n("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(f=r.is(":data(ui-draggable)"),f&&!i&&r.draggable("destroy"),!f&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(u=r.is(":data(ui-resizable)"),u&&!i&&r.resizable("destroy"),u&&"string"==typeof i&&r.resizable("option","handles",i),u||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(n,t){"dialogClass"===n&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});n.ui.dialog;n.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=n("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(n){return void 0===n?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),void 0)},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectmenu",[n.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=!1;this.menuItems=n()},_drawButton:function(){var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=n("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(r).appendTo(this.button);this.options.width!==!1&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var n,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;t.length&&(n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n)))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=n("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,u="";n.each(i,function(i,f){var e;f.optgroup!==u&&(e=n("<li>",{text:f.optgroup}),r._addClass(e,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),e.appendTo(t),u=f.optgroup);r._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>"),u=n("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(u,i.label),r.append(u).appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),u+=":not(.ui-state-disabled)");r="first"===n||"last"===n?i["first"===n?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?(n=window.getSelection(),n.removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+n.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection(),n.rangeCount&&(this.range=n.getRangeAt(0))):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(n));this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){if("icons"===n){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"width"===n&&this._resizeButton()},_setOptionDisabled:function(n){this._super(n);this.menuInstance.option("disabled",n);this.button.attr("aria-disabled",n);this._toggleClass(this.button,null,"ui-state-disabled",n);this.element.prop("disabled",n);n?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;return n===!1?(this.button.css("width",""),void 0):(null===n&&(n=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(n),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var n=this._super();return n.disabled=this.element.prop("disabled"),n},_parseOptions:function(t){var r=this,i=[];t.each(function(t,u){i.push(r._parseOption(n(u),t))});this.items=i},_parseOption:function(n,t){var i=n.parent("optgroup");return{element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);n.widget("ui.slider",n.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=n("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===t.range||"max"===t.range)&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_uiHash:function(n,t,i){var r={handle:this.handles[n],handleIndex:n,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(n),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(n,t){return this._trigger("start",n,this._uiHash(t))},_slide:function(n,t,i){var u,r,f=this.value(),e=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),f=this.values(t),2===this.options.values.length&&this.options.range===!0&&(i=0===t?Math.min(r,i):Math.max(r,i)),e[t]=i);i!==f&&(u=this._trigger("slide",n,this._uiHash(t,i,e)),u!==!1&&(this._hasMultipleValues()?this.values(t,i):this.value(i)))},_stop:function(n,t){this._trigger("stop",n,this._uiHash(t))},_change:function(n,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",n,this._uiHash(t)))},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(i);this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=u-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_setOptionDisabled:function(n){this._super(n);this._toggleClass(null,"ui-state-disabled",!!n)},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,i=this._valueMin(),t=this.options.step,r=Math.round((n-i)/t)*t;n=r+i;n>this.options.max&&(n-=t);this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(n){"vertical"===n&&this.range.css({width:"",left:""});"horizontal"===n&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this._hasMultipleValues()?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},i.animate),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},i.animate))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(n(t.target),null,"ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this._hasMultipleValues()?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(n(t.target),null,"ui-state-active"))}}});n.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);null!=u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var t=this.element[0]===n.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===n.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a><\/a><a><\/a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){var u,i,r;return"culture"===n||"numberFormat"===n?(u=this._parse(this.element.val()),this.options[n]=t,this.element.val(this._format(u)),void 0):(("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t)),"icons"===n&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(n,t),void 0)},_setOptionDisabled:function(n){this._super(n);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!n);this.element.prop("disabled",!!n);this.buttons.button(n?"disable":"enable")},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null===n?!1:n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});n.uiBackCompat!==!1&&n.widget("ui.spinner",n.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a><\/a><a><\/a>"}});n.ui.spinner;n.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return(t=i,!1)}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(n.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).trigger("focus"),n},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):(this._super(n,t),"collapsible"===n&&(this._toggleClass("ui-tabs-collapsible",null,t),t||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return n("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,u,r;for(n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;u=this.tabs[r];r++)i=n(u),t===!0||-1!==n.inArray(r,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,t===!0)},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){r.running=!1;r._trigger("activate",t,i)}function o(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active");u.length&&r.options.show?r._show(u,r.options.show,e):(u.show(),e())}var r=this,u=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});u.length&&f.length?i.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);u.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+n.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,u=this.tabs.eq(t),e=u.find(".ui-tabs-anchor"),f=this._getPanelForTab(u),o={tab:u,panel:f},s=function(n,t){"abort"===t&&r.panels.stop(!1,!0);r._removeClass(u,"ui-tabs-loading");f.removeAttr("aria-busy");n===r.xhr&&delete r.xhr};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(u,"ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,u){setTimeout(function(){f.html(n);r._trigger("load",i,o);s(u,t)},1)}).fail(function(n,t){setTimeout(function(){s(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});n.uiBackCompat!==!1&&n.widget("ui.tabs",n.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});n.ui.tabs;var e="ui-effects-",s="ui-effects-style",h="ui-effects-animated",p=n;n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function i(t,i){var r,f,e={};for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(p.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(u,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(r,function(n,t){u[t]&&e[t+"Class"](u[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return"boolean"==typeof r||void 0===r?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}function r(n,t){var r=t.outerWidth(),u=t.outerHeight(),i=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(n)||["",0,r,u,0];return{top:parseFloat(i[1])||0,right:"auto"===i[2]?r:parseFloat(i[2]),bottom:"auto"===i[3]?u:parseFloat(i[3]),left:parseFloat(i[4])||0}}n.expr&&n.expr.filters&&n.expr.filters.animated&&(n.expr.filters.animated=function(t){return function(i){return!!n(i).data(h)||t(i)}}(n.expr.filters.animated));n.uiBackCompat!==!1&&n.extend(n.effects,{save:function(n,t){for(var i=0,r=t.length;r>i;i++)null!==t[i]&&n.data(e+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0,u=t.length;u>i;i++)null!==t[i]&&(r=n.data(e+t[i]),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).trigger("focus"),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).trigger("focus")),t}});n.extend(n.effects,{version:"1.12.0",define:function(t,i,r){return r||(r=i,i="effect"),n.effects.effect[t]=r,n.effects.effect[t].mode=i,r},scaledDimensions:function(n,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,u="vertical"!==i?(t||100)/100:1;return{height:n.height()*u,width:n.width()*r,outerHeight:n.outerHeight()*u,outerWidth:n.outerWidth()*r}},clipToBox:function(n){return{width:n.clip.right-n.clip.left,height:n.clip.bottom-n.clip.top,left:n.clip.left,top:n.clip.top}},unshift:function(n,t,i){var r=n.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i)));n.dequeue()},saveStyle:function(n){n.data(s,n[0].style.cssText)},restoreStyle:function(n){n[0].style.cssText=n.data(s)||"";n.removeData(s)},mode:function(n,t){var i=n.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),u=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=n("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(e+"placeholder",i)),t.css({position:r,left:u.left,top:u.top}),i},removePlaceholder:function(n){var t=e+"placeholder",i=n.data(t);i&&(i.remove(),n.removeData(t))},cleanUp:function(t){n.effects.restoreStyle(t);n.effects.removePlaceholder(t)},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function o(t){function c(){o.removeData(h);n.effects.cleanUp(o);"hide"===i.mode&&o.hide();s()}function s(){n.isFunction(f)&&f.call(o[0]);n.isFunction(t)&&t()}var o=n(this);i.mode=l.shift();n.uiBackCompat===!1||u?"none"===i.mode?(o[r](),s()):e.call(o[0],i,c):(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),s()):e.call(o[0],i,s)}var i=t.apply(this,arguments),e=n.effects.effect[i.effect],u=e.mode,s=i.queue,c=s||"fx",f=i.complete,r=i.mode,l=[],a=function(t){var f=n(this),i=n.effects.mode(f,r)||u;f.data(h,!0);l.push(i);u&&("show"===i||i===u&&"hide"===i)&&f.show();u&&"none"===i||n.effects.saveStyle(f);n.isFunction(t)&&t()};return n.fx.off||!e?r?this[r](i.duration,f):this.each(function(){f&&f.call(this)}):s===!1?this.each(a).each(o):this.queue(c,a).queue(c,o)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||"boolean"==typeof r)return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r},cssClip:function(n){return n?this.css("clip","rect("+n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo("body").addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();n.isFunction(i)&&i()})}});n.fx.step.clip=function(t){t.clipInit||(t.start=n(t.elem).cssClip(),"string"==typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0);n(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}();w=n.effects;n.effects.define("blind","hide",function(t,i){var e={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=n(this),o=t.direction||"up",s=u.cssClip(),r={clip:n.extend({},s)},f=n.effects.createPlaceholder(u);r.clip[e[o][0]]=r.clip[e[o][1]];"show"===t.mode&&(u.cssClip(r.clip),f&&f.css(n.effects.clipToBox(r)),r.clip=s);f&&f.animate(n.effects.clipToBox(r),t.duration,t.easing);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("bounce",function(t,i){var e,o,a,u=n(this),p=t.mode,s="hide"===p,w="show"===p,h=t.direction||"up",r=t.distance,v=t.times||5,b=2*v+(w||s?1:0),c=t.duration/b,l=t.easing,f="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,k=0,d=u.queue().length;for(n.effects.createPlaceholder(u),a=u.css(f),r||(r=u["top"===f?"outerHeight":"outerWidth"]()/3),w&&(o={opacity:1},o[f]=a,u.css("opacity",0).css(f,y?2*-r:2*r).animate(o,c,l)),s&&(r/=Math.pow(2,v-1)),o={},o[f]=a;v>k;k++)e={},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l).animate(o,c,l),r=s?2*r:r/2;s&&(e={opacity:0},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l));u.queue(i);n.effects.unshift(u,d,b+1)});n.effects.define("clip","hide",function(t,i){var r,u={},f=n(this),e=t.direction||"vertical",o="both"===e,s=o||"horizontal"===e,h=o||"vertical"===e;r=f.cssClip();u.clip={top:h?(r.bottom-r.top)/2:r.top,right:s?(r.right-r.left)/2:r.right,bottom:h?(r.bottom-r.top)/2:r.bottom,left:s?(r.right-r.left)/2:r.left};n.effects.createPlaceholder(f);"show"===t.mode&&(f.cssClip(u.clip),u.clip=r);f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("drop","hide",function(t,i){var e,u=n(this),h=t.mode,c="show"===h,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"-=":"+=",l="+="===s?"-=":"+=",r={opacity:0};n.effects.createPlaceholder(u);e=t.distance||u["top"===o?"outerHeight":"outerWidth"](!0)/2;r[o]=s+e;c&&(u.css(r),r[o]=l+e,r.opacity=1);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("explode","hide",function(t,i){function b(){p.push(this);p.length===e*c&&k()}function k(){o.css({visibility:"visible"});n(p).remove();i()}for(var u,l,a,v,y,e=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=e,o=n(this),d=t.mode,f="show"===d,w=o.show().css("visibility","hidden").offset(),s=Math.ceil(o.outerWidth()/c),h=Math.ceil(o.outerHeight()/e),p=[],r=0;e>r;r++)for(a=w.top+r*h,y=r-(e-1)/2,u=0;c>u;u++)l=w.left+u*s,v=u-(c-1)/2,o.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-u*s,top:-r*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(f?v*s:0),top:a+(f?y*h:0),opacity:f?0:1}).animate({left:l+(f?0:v*s),top:a+(f?0:y*h),opacity:f?1:0},t.duration||500,t.easing,b)});n.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;n(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("fold","hide",function(t,i){var u=n(this),l=t.mode,v="show"===l,y="hide"===l,o=t.size||15,a=/([0-9]+)%/.exec(o),p=!!t.horizFirst,f=p?["right","bottom"]:["bottom","right"],s=t.duration/2,h=n.effects.createPlaceholder(u),e=u.cssClip(),c={clip:n.extend({},e)},r={clip:n.extend({},e)},w=[e[f[0]],e[f[1]]],b=u.queue().length;a&&(o=parseInt(a[1],10)/100*w[y?0:1]);c.clip[f[0]]=o;r.clip[f[0]]=o;r.clip[f[1]]=0;v&&(u.cssClip(r.clip),h&&h.css(n.effects.clipToBox(r)),r.clip=e);u.queue(function(i){h&&h.animate(n.effects.clipToBox(c),s,t.easing).animate(n.effects.clipToBox(r),s,t.easing);i()}).animate(c,s,t.easing).animate(r,s,t.easing).queue(i);n.effects.unshift(u,b,4)});n.effects.define("highlight","show",function(t,i){var r=n(this),u={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(u.opacity=0);n.effects.saveStyle(r);r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("size",function(t,i){var l,r,p,u=n(this),v=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=t.mode,y="effect"!==w,c=t.scale||"both",b=t.origin||["middle","center"],k=u.css("position"),a=u.position(),o=n.effects.scaledDimensions(u),f=t.from||o,e=t.to||n.effects.scaledDimensions(u,0);n.effects.createPlaceholder(u);"show"===w&&(p=f,f=e,e=p);r={from:{y:f.height/o.height,x:f.width/o.width},to:{y:e.height/o.height,x:e.width/o.width}};("box"===c||"both"===c)&&(r.from.y!==r.to.y&&(f=n.effects.setTransition(u,s,r.from.y,f),e=n.effects.setTransition(u,s,r.to.y,e)),r.from.x!==r.to.x&&(f=n.effects.setTransition(u,h,r.from.x,f),e=n.effects.setTransition(u,h,r.to.x,e)));("content"===c||"both"===c)&&r.from.y!==r.to.y&&(f=n.effects.setTransition(u,v,r.from.y,f),e=n.effects.setTransition(u,v,r.to.y,e));b&&(l=n.effects.getBaseline(b,o),f.top=(o.outerHeight-f.outerHeight)*l.y+a.top,f.left=(o.outerWidth-f.outerWidth)*l.x+a.left,e.top=(o.outerHeight-e.outerHeight)*l.y+a.top,e.left=(o.outerWidth-e.outerWidth)*l.x+a.left);u.css(f);("content"===c||"both"===c)&&(s=s.concat(["marginTop","marginBottom"]).concat(v),h=h.concat(["marginLeft","marginRight"]),u.find("*[width]").each(function(){var i=n(this),u=n.effects.scaledDimensions(i),f={height:u.height*r.from.y,width:u.width*r.from.x,outerHeight:u.outerHeight*r.from.y,outerWidth:u.outerWidth*r.from.x},e={height:u.height*r.to.y,width:u.width*r.to.x,outerHeight:u.height*r.to.y,outerWidth:u.width*r.to.x};r.from.y!==r.to.y&&(f=n.effects.setTransition(i,s,r.from.y,f),e=n.effects.setTransition(i,s,r.to.y,e));r.from.x!==r.to.x&&(f=n.effects.setTransition(i,h,r.from.x,f),e=n.effects.setTransition(i,h,r.to.x,e));y&&n.effects.saveStyle(i);i.css(f);i.animate(e,t.duration,t.easing,function(){y&&n.effects.restoreStyle(i)})}));u.animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=u.offset();0===e.opacity&&u.css("opacity",f.opacity);y||(u.css("position","static"===k?"relative":k).offset(t),n.effects.saveStyle(u));i()}})});n.effects.define("scale",function(t,i){var u=n(this),f=t.mode,e=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==f?0:100),r=n.extend(!0,{from:n.effects.scaledDimensions(u),to:n.effects.scaledDimensions(u,e,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0);n.effects.effect.size.call(this,r,i)});n.effects.define("puff","hide",function(t,i){var r=n.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});n.effects.effect.scale.call(this,r,i)});n.effects.define("pulsate","show",function(t,i){var r=n(this),e=t.mode,o="show"===e,c="hide"===e,l=o||c,f=2*(t.times||5)+(l?1:0),s=t.duration/f,u=0,h=1,a=r.queue().length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1);f>h;h++)r.animate({opacity:u},s,t.easing),u=1-u;r.animate({opacity:u},s,t.easing);r.queue(i);n.effects.unshift(r,a,f+1)});n.effects.define("shake",function(t,i){var l=1,r=n(this),f=t.direction||"left",e=t.distance||20,a=t.times||3,v=2*a+1,u=Math.round(t.duration/v),o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f,h={},c={},y={},p=r.queue().length;for(n.effects.createPlaceholder(r),h[o]=(s?"-=":"+=")+e,c[o]=(s?"+=":"-=")+2*e,y[o]=(s?"-=":"+=")+2*e,r.animate(h,u,t.easing);a>l;l++)r.animate(c,u,t.easing).animate(y,u,t.easing);r.animate(c,u,t.easing).animate(h,u/2,t.easing).queue(i);n.effects.unshift(r,p,v+1)});n.effects.define("slide","show",function(t,i){var s,o,u=n(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,a=t.distance||u["top"===e?"outerHeight":"outerWidth"](!0),r={};n.effects.createPlaceholder(u);s=u.cssClip();o=u.position()[e];r[e]=(l?-1:1)*a+o;r.clip=u.cssClip();r.clip[h[f][1]]=r.clip[h[f][0]];"show"===c&&(u.cssClip(r.clip),u.css(e,r[e]),r.clip=s,r[e]=o);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.uiBackCompat!==!1&&(w=n.effects.define("transfer",function(t,i){n(this).transfer(t,i)}))});
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){(n.support.transition=t(),n.support.transition)&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));typeof i=="string"&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;(u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,"")),r=n(u==="#"?[]:u),i&&i.preventDefault(),r.length||(r=f.closest(".alert")),r.trigger(i=n.Event("close.bs.alert")),i.isDefaultPrevented())||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f=typeof i=="object"&&i;r||u.data("bs.button",r=new t(this,f));i=="toggle"?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled",r=this.$element,f=r.is("input")?"val":"html",u=r.data();t+="Text";u.resetText==null&&r.data("resetText",r[f]());setTimeout(n.proxy(function(){r[f](u[t]==null?this.options[t]:u[t]);t=="loadingText"?(this.isLoading=!0,r.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i).prop(i,!1))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),n.prop("type")=="radio"?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):n.prop("type")=="checkbox"&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target).closest(".btn");i.call(r,"toggle");n(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i),e=typeof i=="string"?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));typeof i=="number"?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));this.options.pause!="hover"||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f=n=="prev"&&i===0||n=="next"&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r=n=="prev"?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f=i=="next"?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),this.$element.trigger(s),s.isDefaultPrevented())?void 0:(this.sliding=!0,l&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),typeof i=="object"&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!r||!r.length||(f=r.data("bs.collapse"),!f||!f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented())){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented())){if(i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},!n.support.transition)return u.call(this);this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&t.which===3||(n(e).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&t.type=="click"&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented())||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f))))}))}function o(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));typeof i=="string"&&u[i].call(r)})}var e=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.7";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length)n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u);if(e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&t.which!=27||s&&t.which==27)return t.which==27&&o.find(i).trigger("focus"),e.trigger("click");(h=" li:not(.disabled):visible a",f=o.find(".dropdown-menu"+h),f.length)&&(u=f.index(t.target),t.which==38&&u>0&&u--,t.which==40&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=o;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),typeof i=="object"&&i);u||f.data("bs.modal",u=new t(this,e));typeof i=="string"?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});if(this.$element.trigger(u),!this.isShown&&!u.isDefaultPrevented()){this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})});this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)})}};t.prototype.hide=function(i){(i&&i.preventDefault(),i=n.Event("hide.bs.modal"),this.$element.trigger(i),this.isShown&&!i.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){document===n.target||this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){n.which==27&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){if(this.isShown)n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this));else n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){r=n.support.transition&&f;this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}n.target===n.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this));if(r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){if(!n.isDefaultPrevented())u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusin"?"focus":"hover"]=!0),i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState[t.type=="focusout"?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)}};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){r.hoverState!="in"&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u=r.tagName=="BODY",i=r.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?typeof t=="string"?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(i).is(document.body)?n(window):n(i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f=typeof i=="object"&&i;r||u.data("bs.scrollspy",r=new t(this,f));typeof i=="string"&&r[i]()})}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget,n;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(t[n+1]===undefined||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));typeof i=="string"&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function o(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);e?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),e=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&e?f.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f=typeof i=="object"&&i;r||u.data("bs.affix",r=new t(this,f));typeof i=="string"&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(i!=null&&this.affixed=="top")return u<i?"top":!1;if(this.affixed=="bottom")return i!=null?u+this.unpin<=f.top?!1:"bottom":u+e<=n-r?!1:"bottom";var o=this.affixed==null,s=o?u:f.top,h=o?e:t;return i!=null&&u<=i?"top":r!=null&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if(typeof r!="object"&&(u=f=r),typeof f=="function"&&(f=r.top(this.$element)),typeof u=="function"&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(this.unpin!=null&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin=i=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}i=="bottom"&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom!=null&&(t.offset.bottom=t.offsetBottom);t.offsetTop!=null&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery),function(n,t){var i=n();n.fn.dropdownHover=function(r){return"ontouchstart"in document?this:(i=i.add(this.parent()),this.each(function(){var u=n(this),f=u.parent(),h={delay:n(this).data("delay"),instantlyCloseOthers:n(this).data("close-others")},s="show.bs.dropdown",c="hide.bs.dropdown",e=n.extend(!0,{},{delay:500,instantlyCloseOthers:!0},r,h),o;f.hover(function(n){if(!f.hasClass("open")&&!u.is(n.target))return!0;i.find(":focus").blur();e.instantlyCloseOthers===!0&&i.removeClass("open");t.clearTimeout(o);f.addClass("open");u.trigger(s)},function(){o=t.setTimeout(function(){f.removeClass("open");u.trigger(c)},e.delay)});u.hover(function(){i.find(":focus").blur();e.instantlyCloseOthers===!0&&i.removeClass("open");t.clearTimeout(o);f.addClass("open");u.trigger(s)});f.find(".dropdown-submenu").each(function(){var i=n(this),r;i.hover(function(){t.clearTimeout(r);i.children(".dropdown-menu").show();i.siblings().children(".dropdown-menu").hide()},function(){var n=i.children(".dropdown-menu");r=t.setTimeout(function(){n.hide()},e.delay)})})}))};n(document).ready(function(){n('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this);
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Improved by keenthemes for Metronic Theme
 * Version: 1.3.2
 *
 */
!function(n){jQuery.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",animate:!0},i);return this.each(function(){function p(t){var t,i,f;a&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&e(i,!0),t.preventDefault&&!s&&t.preventDefault(),s||(t.returnValue=!1))}function e(n,t,i){var e,c,h;s=!1;e=n;c=u.outerHeight()-f.outerHeight();(t&&(e=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),e=Math.min(Math.max(e,0),c),e=n>0?Math.ceil(e):Math.floor(e),f.css({top:e+"px"})),o=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight()),e=o*(u[0].scrollHeight-u.outerHeight()),i)&&(e=n,h=e/u[0].scrollHeight*u.outerHeight(),h=Math.min(Math.max(h,0),c),f.css({top:h+"px"}));"scrollTo"in r&&r.animate?u.animate({scrollTop:e}):u.scrollTop(e);u.trigger("slimscrolling",~~e);b();l()}function ft(){window.addEventListener?(this.addEventListener("DOMMouseScroll",p,!1),this.addEventListener("mousewheel",p,!1)):document.attachEvent("onmousewheel",p)}function w(){v=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),et);f.css({height:v+"px"});var n=v==u.outerHeight()?"none":"block";f.css({display:n})}function b(){if(w(),clearTimeout(tt),o==~~o){if(s=r.allowPageScroll,it!=o){var n=0==~~o?"top":"bottom";u.trigger("slimscroll",n)}}else s=!1;return it=o,v>=u.outerHeight()?void(s=!0):(f.stop(!0,!0).fadeIn("fast"),void(r.railVisible&&h.stop(!0,!0).fadeIn("fast")))}function l(){r.alwaysVisible||(tt=setTimeout(function(){r.disableFadeOut&&a||k||d||(f.fadeOut("slow"),h.fadeOut("slow"))},1e3))}var a,k,d,tt,c,v,o,it,g="<div><\/div>",et=30,s=!1,u=n(this),y,nt,rt;if("ontouchstart"in window&&window.navigator.msPointerEnabled&&u.css("-ms-touch-action","none"),u.parent().hasClass(r.wrapperClass)){if(y=u.scrollTop(),f=u.parent().find("."+r.barClass),h=u.parent().find("."+r.railClass),w(),n.isPlainObject(i)){if("height"in i&&"auto"==i.height&&(u.parent().css("height","auto"),u.css("height","auto"),nt=u.parent().parent().height(),u.parent().css("height",nt),u.css("height",nt)),"scrollTo"in i)y=parseInt(r.scrollTo);else if("scrollBy"in i)y+=parseInt(r.scrollBy);else if("destroy"in i)return f.remove(),h.remove(),void u.unwrap();e(y,!1,!0)}}else{r.height="auto"==i.height?u.parent().height():i.height;rt=n(g).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var h=n(g).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n(g).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),ut="right"==r.position?{right:r.distance}:{left:r.distance};h.css(ut);f.css(ut);u.wrap(rt);u.parent().append(f);u.parent().append(h);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return d=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);e(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){d=!1;l();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});"ontouchstart"in window&&window.navigator.msPointerEnabled&&(u.bind("MSPointerDown",function(n){c=n.originalEvent.pageY}),u.bind("MSPointerMove",function(n){n.originalEvent.preventDefault();var t=(c-n.originalEvent.pageY)/r.touchScrollStep;e(t,!0);c=n.originalEvent.pageY}));h.hover(function(){b()},function(){l()});f.hover(function(){k=!0},function(){k=!1});u.hover(function(){a=!0;b();l()},function(){a=!1;l()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(c=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(s||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(c-n.originalEvent.touches[0].pageY)/r.touchScrollStep;e(t,!0);c=n.originalEvent.touches[0].pageY}});w();"bottom"===r.start?(f.css({top:u.outerHeight()-f.outerHeight()}),e(0,!0)):"top"!==r.start&&(e(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());ft()}}),this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery);
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
!function(){"use strict";function n(n){function o(o,s){var rt,ut,p=o==window,c=s&&void 0!==s.message?s.message:void 0,g,k,tt,nt,w,b,d,it,ft,et,at;if(s=n.extend({},n.blockUI.defaults,s||{}),!s.ignoreIfBlocked||!n(o).data("blockUI.isBlocked")){if((s.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,s.overlayCSS||{}),rt=n.extend({},n.blockUI.defaults.css,s.css||{}),s.onOverlayClick&&(s.overlayCSS.cursor="pointer"),ut=n.extend({},n.blockUI.defaults.themedCSS,s.themedCSS||{}),c=void 0===c?s.message:c,p&&t&&u(window,{fadeOut:0}),c&&"string"!=typeof c&&(c.parentNode||c.jquery))&&(g=c.jquery?c[0]:c,k={},n(o).data("blockUI.history",k),k.el=g,k.parent=g.parentNode,k.display=g.style.display,k.position=g.style.position,k.parent&&k.parent.removeChild(g)),n(o).data("blockUI.onUnblock",s.onUnblock),d=s.baseZ,tt=n(e||s.forceIframe?'<iframe class="blockUI" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"><\/iframe>':'<div class="blockUI" style="display:none"><\/div>'),nt=n(s.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+d+++';display:none"><\/div>':'<div class="blockUI blockOverlay" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),s.theme&&p?(b='<div class="blockUI '+s.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:fixed">',s.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):s.theme?(b='<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:absolute">',s.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):b=p?'<div class="blockUI '+s.blockMsgClass+' blockPage" style="z-index:'+(d+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+(d+10)+';display:none;position:absolute"><\/div>',w=n(b),c&&(s.theme?(w.css(ut),w.addClass("ui-widget-content")):w.css(rt)),s.theme||nt.css(s.overlayCSS),nt.css("position",p?"fixed":"absolute"),(e||s.forceIframe)&&tt.css("opacity",0),it=[tt,nt,w],ft=n(p?"body":o),n.each(it,function(){this.appendTo(ft)}),s.theme&&s.draggable&&n.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),et=y&&(!n.support.boxModel||n("object,embed",p?null:o).length>0),a||et){if(p&&s.allowBodyStretch&&n.support.boxModel&&n("html,body").css("height","100%"),(a||!n.support.boxModel)&&!p)var ot=r(o,"borderTopWidth"),st=r(o,"borderLeftWidth"),ht=ot?"(0 - "+ot+")":0,ct=st?"(0 - "+st+")":0;n.each(it,function(n,t){var i=t[0].style,r,u;(i.position="absolute",2>n)?(p?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ct&&i.setExpression("left",ct),ht&&i.setExpression("top",ht)):s.centerY?(p&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!s.centerY&&p&&(r=s.css&&s.css.top?parseInt(s.css.top,10):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(c&&(s.theme?w.find(".ui-widget-content").append(c):w.append(c),(c.jquery||c.nodeType)&&n(c).show()),(e||s.forceIframe)&&s.showOverlay&&tt.show(),s.fadeIn){var lt=s.onBlock?s.onBlock:f,vt=s.showOverlay&&!c?lt:f,yt=c?lt:f;s.showOverlay&&nt._fadeIn(s.fadeIn,vt);c&&w._fadeIn(s.fadeIn,yt)}else s.showOverlay&&nt.show(),c&&w.show(),s.onBlock&&s.onBlock.bind(w)();(h(1,o,s),p?(t=w[0],i=n(s.focusableElements,t),s.focusInput&&setTimeout(l,20)):v(w[0],s.centerX,s.centerY),s.timeout)&&(at=setTimeout(function(){p?n.unblockUI(s):n(o).unblock(s)},s.timeout),n(o).data("blockUI.timeout",at))}}function u(r,u){var o,c=r==window,e=n(r),l=e.data("blockUI.history"),a=e.data("blockUI.timeout"),f;a&&(clearTimeout(a),e.removeData("blockUI.timeout"));u=n.extend({},n.blockUI.defaults,u||{});h(0,r,u);null===u.onUnblock&&(u.onUnblock=e.data("blockUI.onUnblock"),e.removeData("blockUI.onUnblock"));f=c?n("body").children().filter(".blockUI").add("body > .blockUI"):e.find(">.blockUI");u.cursorReset&&(f.length>1&&(f[1].style.cursor=u.cursorReset),f.length>2&&(f[2].style.cursor=u.cursorReset));c&&(t=i=null);u.fadeOut?(o=f.length,f.stop().fadeOut(u.fadeOut,function(){0==--o&&s(f,l,u,r)})):s(f,l,u,r)}function s(t,i,r,u){var f=n(u);if(!f.data("blockUI.isBlocked")){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)});i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),f.removeData("blockUI.history"));f.data("blockUI.static")&&f.css("position","static");"function"==typeof r.onUnblock&&r.onUnblock(u,r);var e=n(document.body),o=e.width(),s=e[0].style.width;e.width(o-1).width(o);e[0].style.width=s}}function h(i,r,u){var f=r==window,o=n(r),e;(i||(!f||t)&&(f||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",i),f&&u.bindEvents&&(!i||u.showOverlay))&&(e="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",i?n(document).bind(e,u,c):n(document).unbind(e,c))}function c(r){var u,f;if("keydown"===r.type&&r.keyCode&&9==r.keyCode&&t&&r.data.constrainTabKey){var e=i,s=!r.shiftKey&&r.target===e[e.length-1],o=r.shiftKey&&r.target===e[0];if(s||o)return setTimeout(function(){l(o)},10),!1}return u=r.data,f=n(r.target),f.hasClass("blockOverlay")&&u.onOverlayClick&&u.onOverlayClick(r),f.parents("div."+u.blockMsgClass).length>0?!0:0===f.parents().children().filter("div.blockUI").length}function l(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function v(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0");i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i),10)||0}var t,i;n.fn._fadeIn=n.fn.fadeIn;var f=n.noop||function(){},e=/MSIE/.test(navigator.userAgent),a=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),y=(document.documentMode||0,n.isFunction(document.createElement("div").style.setExpression));n.blockUI=function(n){o(window,n)};n.unblockUI=function(n){u(window,n)};n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>'),e;t&&f.append("<h1>"+t+"<\/h1>");i&&f.append("<h2>"+i+"<\/h2>");void 0===r&&(r=3e3);e=function(t){t=t||{};n.blockUI({message:f,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})};e();f.css("opacity");f.mouseover(function(){e({fadeIn:0,timeout:3e4});var t=n(".blockMsg");t.stop();t.fadeTo(300,1)}).mouseout(function(){n(".blockMsg").fadeOut(1e3)})};n.fn.block=function(t){if(this[0]===window)return n.blockUI(t),this;var i=n.extend({},n.blockUI.defaults,t||{});return this.each(function(){var t=n(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==n.css(this,"position")&&(this.style.position="relative",n(this).data("blockUI.static",!0));this.style.zoom=1;o(this,t)})};n.fn.unblock=function(t){return this[0]===window?(n.unblockUI(t),this):this.each(function(){u(this,t)})};n.blockUI.version=2.7;n.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};t=null;i=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)}();
/*!
* jquery.inputmask.bundle.js
* https://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.2.8-31
*/
!function(n){function t(i,r){return this instanceof t?(n.isPlainObject(i)?r=i:(r=r||{},r.alias=i),this.el=void 0,this.opts=n.extend(!0,{},this.defaults,r),this.noMasksCache=r&&void 0!==r.definitions,this.userOptions=r||{},this.events={},void e(this.opts.alias,r,this.opts)):new t(i,r)}function o(n){var t=document.createElement("input"),i="on"+n,r=i in t;return r||(t.setAttribute(i,"return;"),r="function"==typeof t[i]),t=null,r}function s(t,i){var f=t.getAttribute("type"),u="INPUT"===t.tagName&&-1!==n.inArray(f,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName,r;return u||"INPUT"!==t.tagName||(r=document.createElement("input"),r.setAttribute("type",f),u="text"===r.type,r=null),u}function e(t,i,r){var u=r.aliases[t];return u?(u.alias&&e(u.alias,void 0,r),n.extend(!0,r,u),n.extend(!0,r,i),!0):(null===r.mask&&(r.mask=t),!1)}function h(t,i,r){function c(n,i){i=void 0!==i?i:t.getAttribute("data-inputmask-"+n);null!==i&&("string"==typeof i&&(0===n.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),r[n]=i)}var h,u,f,o,s=t.getAttribute("data-inputmask");if(s&&""!==s&&(s=s.replace(new RegExp("'","g"),'"'),u=JSON.parse("{"+s+"}")),u){f=void 0;for(o in u)if("alias"===o.toLowerCase()){f=u[o];break}}c("alias",f);r.alias&&e(r.alias,r,i);for(h in i){if(u){f=void 0;for(o in u)if(o.toLowerCase()===h.toLowerCase()){f=u[o];break}}c(h,f)}return n.extend(!0,i,r),i}function r(i,r){function s(t){function h(n,t,i,r){this.matches=[];this.isGroup=n||!1;this.isOptional=t||!1;this.isQuantifier=i||!1;this.isAlternator=r||!1;this.quantifier={min:1,max:1}}function d(t,r,u){var f=i.definitions[r],e;if(u=void 0!==u?u:t.matches.length,e=t.matches[u-1],f&&!y){f.placeholder=n.isFunction(f.placeholder)?f.placeholder(i):f.placeholder;for(var h=f.prevalidator,a=h?h.length:0,o=1;o<f.cardinality;o++){var c=a>=o?h[o-1]:[],s=c.validator,l=c.cardinality;t.matches.splice(u++,0,{fn:s?"string"==typeof s?new RegExp(s):new function(){this.test=s}:new RegExp("."),cardinality:l?l:1,optionality:t.isOptional,newBlockMarker:void 0===e||e.def!==(f.definitionSymbol||r),casing:f.casing,def:f.definitionSymbol||r,placeholder:f.placeholder,mask:r});e=t.matches[u-1]}t.matches.splice(u++,0,{fn:f.validator?"string"==typeof f.validator?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:t.isOptional,newBlockMarker:void 0===e||e.def!==(f.definitionSymbol||r),casing:f.casing,def:f.definitionSymbol||r,placeholder:f.placeholder,mask:r})}else t.matches.splice(u++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===e||e.def!==r,casing:null,def:i.staticDefinitionSymbol||r,placeholder:void 0!==i.staticDefinitionSymbol?r:void 0,mask:r}),y=!1}function g(n,t){n.isGroup&&(n.isGroup=!1,d(n,i.groupmarker.start,0),t!==!0&&d(n,i.groupmarker.end))}function rt(n,t,i,r){t.matches.length>0&&(void 0===r||r)&&(i=t.matches[t.matches.length-1],g(i));d(t,n)}function nt(){if(r.length>0){if(u=r[r.length-1],rt(c,u,s,!u.isAlternator),u.isAlternator){f=r.pop();for(var n=0;n<f.matches.length;n++)f.matches[n].isGroup=!1;r.length>0?(u=r[r.length-1],u.matches.push(f)):e.matches.push(f)}}else rt(c,e,s)}function ut(n){function f(n){return n===i.optionalmarker.start?n=i.optionalmarker.end:n===i.optionalmarker.end?n=i.optionalmarker.start:n===i.groupmarker.start?n=i.groupmarker.end:n===i.groupmarker.end&&(n=i.groupmarker.start),n}var t,r,u;n.matches=n.matches.reverse();for(t in n.matches)r=parseInt(t),n.matches[t].isQuantifier&&n.matches[r+1]&&n.matches[r+1].isGroup&&(u=n.matches[t],n.matches.splice(t,1),n.matches.splice(r+1,0,u)),n.matches[t]=void 0!==n.matches[t].matches?ut(n.matches[t]):f(n.matches[t]);return n}for(var p,w,k,o,c,l,u,f,s,v,ft=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,y=!1,e=new h,r=[],tt=[];o=ft.exec(t);)if(c=o[0],y)nt();else switch(c.charAt(0)){case i.escapeChar:y=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(l=r.pop(),void 0!==l)if(r.length>0){if(u=r[r.length-1],u.matches.push(l),u.isAlternator){for(f=r.pop(),p=0;p<f.matches.length;p++)f.matches[p].isGroup=!1;r.length>0?(u=r[r.length-1],u.matches.push(f)):e.matches.push(f)}}else e.matches.push(l);else nt();break;case i.optionalmarker.start:r.push(new h(!1,!0));break;case i.groupmarker.start:r.push(new h(!0));break;case i.quantifiermarker.start:w=new h(!1,!1,!0);c=c.replace(/[{}]/g,"");var a=c.split(","),it=isNaN(a[0])?a[0]:parseInt(a[0]),b=1===a.length?it:isNaN(a[1])?a[1]:parseInt(a[1]);(("*"===b||"+"===b)&&(it="*"===b?0:1),w.quantifier={min:it,max:b},r.length>0)?(k=r[r.length-1].matches,o=k.pop(),o.isGroup||(v=new h(!0),v.matches.push(o),o=v),k.push(o),k.push(w)):(o=e.matches.pop(),o.isGroup||(v=new h(!0),v.matches.push(o),o=v),e.matches.push(o),e.matches.push(w));break;case i.alternatormarker:r.length>0?(u=r[r.length-1],s=u.matches.pop()):s=e.matches.pop();s.isAlternator?r.push(s):(f=new h(!1,!1,!1,!0),f.matches.push(s),r.push(f));break;default:nt()}for(;r.length>0;)l=r.pop(),g(l,!0),e.matches.push(l);return e.matches.length>0&&(s=e.matches[e.matches.length-1],g(s),tt.push(e)),i.numericInput&&ut(tt[0]),tt}function f(u,f){var o,e;if(null!==u&&""!==u)return(1===u.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat)&&(o="*"===i.repeat?0:"+"===i.repeat?1:i.repeat,u=i.groupmarker.start+u+i.groupmarker.end+i.quantifiermarker.start+o+","+i.repeat+i.quantifiermarker.end),void 0===t.prototype.masksCache[u]||r===!0?(e={mask:u,maskToken:s(u),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:f},r!==!0&&(t.prototype.masksCache[i.numericInput?u.split("").reverse().join(""):u]=e,e=n.extend(!0,{},t.prototype.masksCache[i.numericInput?u.split("").reverse().join(""):u]))):e=n.extend(!0,{},t.prototype.masksCache[i.numericInput?u.split("").reverse().join(""):u]),e}function e(n){return n.toString()}var o,u;if(n.isFunction(i.mask)&&(i.mask=i.mask(i)),n.isArray(i.mask)){if(i.mask.length>1)return i.keepStatic=null===i.keepStatic?!0:i.keepStatic,u="(",n.each(i.numericInput?i.mask.reverse():i.mask,function(t,i){u.length>1&&(u+=")|(");u+=e(void 0===i.mask||n.isFunction(i.mask)?i:i.mask)}),u+=")",f(u,i.mask);i.mask=i.mask.pop()}return i.mask&&(o=void 0===i.mask.mask||n.isFunction(i.mask.mask)?f(e(i.mask),i.mask):f(e(i.mask.mask),i.mask)),o}function i(r,u,e){function hi(n,t,i){var o;t=t||0;var s,u,c,f=[],r=0,l=y();do n===!0&&h().validPositions[r]?(o=h().validPositions[r],u=o.match,s=o.locator.slice(),f.push(i===!0?o.input:tt(r,u))):(c=ut(r,s,r-1),u=c.match,s=c.locator.slice(),(e.jitMasking===!1||l>r||isFinite(e.jitMasking)&&e.jitMasking>r)&&f.push(tt(r,u))),r++;while((void 0===lt||lt>r-1)&&null!==u.fn||null===u.fn&&""!==u.def||t>=r);return""===f[f.length-1]&&f.pop(),f}function h(){return u}function d(n){var t=h();t.buffer=void 0;n!==!0&&(t.tests={},t._buffer=void 0,t.validPositions={},t.p=0)}function y(n,t){var r=-1,u=-1,f=h().validPositions,e,i;void 0===n&&(n=-1);for(e in f)i=parseInt(e),f[i]&&(t||null!==f[i].match.fn)&&(n>=i&&(r=i),i>=n&&(u=i));return-1!==r&&n-r>1||n>u?r:u}function ci(t,i,r,u){var f,w,b,a,l,s,c,o,k,v;if(u||e.insertMode&&void 0!==h().validPositions[t]&&void 0===r){for(w=n.extend(!0,{},h().validPositions),b=y(),f=t;b>=f;f++)delete h().validPositions[f];for(h().validPositions[t]=i,l=!0,s=h().validPositions,f=a=t;b>=f;f++){if(c=w[f],void 0!==c)for(o=a,k=-1;o<at()&&(null==c.match.fn&&s[f]&&(s[f].match.optionalQuantifier===!0||s[f].match.optionality===!0)||null!=c.match.fn);)if(null===c.match.fn||!e.keepStatic&&s[f]&&(void 0!==s[f+1]&&ft(f+1,s[f].locator.slice(),f).length>1||void 0!==s[f].alternation)?o++:o=p(a),ai(o,c.match.def)){if(v=ot(o,c.input,!0,!0),l=v!==!1,a=v.caret||v.insert?y():o,l)break}else{if(l=null==c.match.fn,k===o)break;k=o}if(!l)break}if(!l)return h().validPositions=n.extend(!0,{},w),d(!0),!1}else h().validPositions[t]=i;return d(!0),!0}function li(n,t,i,r){function c(n){var t=h().validPositions[n],i,r;return void 0!==t&&null===t.match.fn?(i=h().validPositions[n-1],r=h().validPositions[n+1],void 0!==i&&void 0!==r):!1}var u,f=n,s,o;for(h().p=n,u=t-1;u>=f;u--)void 0===h().validPositions[u]||i!==!0&&(c(u)||e.canClearPosition(h(),u,y(),r,e)===!1)||delete h().validPositions[u];for(d(!0),u=f+1;u<=y();){for(;void 0!==h().validPositions[f];)f++;s=h().validPositions[f];(f>u&&(u=f+1),void 0===h().validPositions[u]&&nt(u)||void 0!==s)?u++:(o=ut(u),ai(f,o.match.def)?ot(f,o.input||tt(u),!0)!==!1&&(delete h().validPositions[u],u++):nt(u)||(u++,f--),f++)}d(!0)}function ut(n,t,i){var r=h().validPositions[n];if(void 0===r)for(var o=ft(n,t,i),s=y(),u=h().validPositions[s]||ft(0)[0],c=void 0!==u.alternation?u.locator[u.alternation].toString().split(","):[],f=0;f<o.length&&(r=o[f],!(r.match&&(e.greedy&&r.match.optionalQuantifier!==!0||(r.match.optionality===!1||r.match.newBlockMarker===!1)&&r.match.optionalQuantifier!==!0)&&(void 0===u.alternation||u.alternation!==r.alternation||void 0!==r.locator[u.alternation]&&ni(r.locator[u.alternation].toString().split(","),c))));f++);return r}function st(n){return h().validPositions[n]?h().validPositions[n].match:ft(n)[0].match}function ai(n,t){for(var u=!1,r=ft(n),i=0;i<r.length;i++)if(r[i].match&&r[i].match.def===t){u=!0;break}return u}function vi(t,i){var u,r;return(h().tests[t]||h().validPositions[t])&&n.each(h().tests[t]||[h().validPositions[t]],function(n,t){var f=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===r||r>f)&&-1!==f&&(u=t,r=f)}),u}function ft(t,i,r){function v(i,r,e,o){function c(e,o,l){function ct(t,i){var r=0===n.inArray(t,i.matches);return r||n.each(i.matches,function(n,u){if(u.isQuantifier===!0&&(r=ct(t,i.matches[n-1])))return!1}),r}function vt(n,t){var i=vi(n,t);return i?i.locator.slice(i.alternation+1):[]}var lt,ot,ut,ft,tt,p,st,g,it,nt,ht;if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(u===t&&void 0===e.matches)return f.push({match:e,locator:o.reverse(),cd:y}),!0;if(void 0!==e.matches){if(e.isGroup&&l!==e){if(e=c(i.matches[n.inArray(e,i.matches)+1],o))return!0}else if(e.isOptional){if(lt=e,e=v(e,r,o,l)){if(s=f[f.length-1].match,!ct(s,lt))return!0;a=!0;u=t}}else if(e.isAlternator){var rt,et=e,d=[],yt=f.slice(),pt=o.length,w=r.length>0?r.shift():-1;if(-1===w||"string"==typeof w){var b,wt=u,at=r.slice(),k=[];if("string"==typeof w)k=w.split(",");else for(b=0;b<et.matches.length;b++)k.push(b);for(ot=0;ot<k.length;ot++){for((b=parseInt(k[ot]),f=[],r=vt(u,b),e=c(et.matches[b]||i.matches[b],[b].concat(o),l)||e,e!==!0&&void 0!==e&&k[k.length-1]<et.matches.length)&&(ut=n.inArray(e,i.matches)+1,i.matches.length>ut&&(e=c(i.matches[ut],[ut].concat(o.slice(1,o.length)),l),e&&(k.push(ut.toString()),n.each(f,function(n,t){t.alternation=o.length-1})))),rt=f.slice(),u=wt,f=[],ft=0;ft<at.length;ft++)r[ft]=at[ft];for(tt=0;tt<rt.length;tt++)for(p=rt[tt],p.alternation=p.alternation||pt,st=0;st<d.length;st++)if(g=d[st],p.match.def===g.match.def&&("string"!=typeof w||-1!==n.inArray(p.locator[p.alternation].toString(),k))){p.match.mask===g.match.mask&&(rt.splice(tt,1),tt--);-1===g.locator[p.alternation].toString().indexOf(p.locator[p.alternation])&&(g.locator[p.alternation]=g.locator[p.alternation]+","+p.locator[p.alternation],g.alternation=p.alternation);break}d=d.concat(rt)}"string"==typeof w&&(d=n.map(d,function(t,i){var e,r,f,u;if(isFinite(i)){for(r=t.alternation,f=t.locator[r].toString().split(","),t.locator[r]=void 0,t.alternation=void 0,u=0;u<f.length;u++)e=-1!==n.inArray(f[u],k),e&&(void 0!==t.locator[r]?(t.locator[r]+=",",t.locator[r]+=f[u]):t.locator[r]=parseInt(f[u]),t.alternation=r);if(void 0!==t.locator[r])return t}}));f=yt.concat(d);u=t;a=f.length>0}else e=c(et.matches[w]||i.matches[w],[w].concat(o),l);if(e)return!0}else if(e.isQuantifier&&l!==i.matches[n.inArray(e,i.matches)-1]){for(it=e,nt=r.length>0?r.shift():0;nt<(isNaN(it.quantifier.max)?nt+1:it.quantifier.max)&&t>=u;nt++)if(ht=i.matches[n.inArray(it,i.matches)-1],e=c(ht,[nt].concat(o),ht)){if(s=f[f.length-1].match,s.optionalQuantifier=nt>it.quantifier.min-1,ct(s,ht)){if(nt>it.quantifier.min-1){a=!0;u=t;break}return!0}return!0}}else if(e=v(e,r,o,l))return!0}else u++}for(var p,l=r.length>0?r.shift():0;l<i.matches.length;l++)if(i.matches[l].isQuantifier!==!0){if(p=c(i.matches[l],[l].concat(e),o),p&&u===t)return p;if(u>t)break}}function b(n){var t=n[0]||n;return t.locator.slice()}var s,p=h().maskToken,u=i?r:0,l=i||[0],f=[],a=!1,y=i?i.join(""):"",o,e,c,w;if(t>-1){if(void 0===i){for(e=t-1;void 0===(o=h().validPositions[e]||h().tests[e])&&e>-1;)e--;void 0!==o&&e>-1&&(l=b(o),y=l.join(""),o=o[0]||o,u=e)}if(h().tests[t]&&h().tests[t][0].cd===y)return h().tests[t];for(c=l.shift();c<p.length;c++)if(w=v(p[c],l,[c]),w&&u===t||u>t)break}return(0===f.length||a)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),h().tests[t]=n.extend(!0,[],f),h().tests[t]}function g(){return void 0===h()._buffer&&(h()._buffer=hi(!1,1)),h()._buffer}function v(n){if(void 0===h().buffer||n===!0){if(n===!0)for(var t in h().tests)void 0===h().validPositions[t]&&delete h().tests[t];h().buffer=hi(!0,y(),!0)}return h().buffer}function bt(n,t,i){var r;if(i=i,n===!0)d(),n=0,t=i.length;else for(r=n;t>r;r++)delete h().validPositions[r],delete h().tests[r];for(r=n;t>r;r++)d(!0),i[r]!==e.skipOptionalPartCharacter&&ot(r,i[r],!0,!0)}function di(n,t){switch(t.casing){case"upper":n=n.toUpperCase();break;case"lower":n=n.toLowerCase()}return n}function ni(t,i){for(var f=e.greedy?i:i.slice(0,1),u=!1,r=0;r<t.length;r++)if(-1!==n.inArray(t[r],f)){u=!0;break}return u}function ot(i,r,u,f){function k(n){return w?n.begin-n.end>1||n.begin-n.end==1&&e.insertMode:n.end-n.begin>1||n.end-n.begin==1&&e.insertMode}function g(t,r,u,f){var o=!1;return n.each(ft(t),function(s,c){for(var p,a,nt,w,l=c.match,tt=r?1:0,b="",g=l.cardinality;g>tt;g--)b+=gi(t-(g-1));if(r&&(b+=r),v(!0),o=null!=l.fn?l.fn.test(b,h(),t,u,e,k(i)):r!==l.def&&r!==e.skipOptionalPartCharacter||""===l.def?!1:{c:l.placeholder||l.def,pos:t},o!==!1){if(p=void 0!==o.c?o.c:r,p=p===e.skipOptionalPartCharacter&&null===l.fn?l.placeholder||l.def:p,a=t,nt=v(),void 0!==o.remove&&(n.isArray(o.remove)||(o.remove=[o.remove]),n.each(o.remove.sort(function(n,t){return t-n}),function(n,t){li(t,t+1,!0)})),void 0!==o.insert&&(n.isArray(o.insert)||(o.insert=[o.insert]),n.each(o.insert.sort(function(n,t){return n-t}),function(n,t){ot(t.pos,t.c,!1,f)})),o.refreshFromBuffer){if(w=o.refreshFromBuffer,u=!0,bt(w===!0?w:w.start,w.end,nt),void 0===o.pos&&void 0===o.c)return o.pos=y(),!1;if(a=void 0!==o.pos?o.pos:t,a!==t)return o=n.extend(o,ot(a,p,!0,f)),!1}else if(o!==!0&&void 0!==o.pos&&o.pos!==t&&(a=o.pos,bt(t,a,v().slice()),a!==t))return o=n.extend(o,ot(a,p,!0)),!1;return o!==!0&&void 0===o.pos&&void 0===o.c?!1:(s>0&&d(!0),ci(a,n.extend({},c,{input:di(p,l)}),f,k(i))||(o=!1),!1)}}),o}function et(t,i,r,u){for(var v,a,k,g,p,ct,s,rt,et,st,l,f,b,c,o,w,lt=n.extend(!0,{},h().validPositions),at=n.extend(!0,{},h().tests),nt=y();nt>=0&&(c=h().validPositions[nt],!c||void 0===c.alternation||(l=nt,f=h().validPositions[l].alternation,ut(l).locator[c.alternation]===c.locator[c.alternation]));nt--);if(void 0!==f){l=parseInt(l);for(v in h().validPositions)if(v=parseInt(v),c=h().validPositions[v],v>=l&&void 0!==c.alternation){for(0===l?(a=[],n.each(h().tests[l],function(n,t){void 0!==t.locator[f]&&(a=a.concat(t.locator[f].toString().split(",")))})):a=h().validPositions[l].locator[f].toString().split(","),k=void 0!==c.locator[f]?c.locator[f]:a[0],k.length>0&&(k=k.split(",")[0]),g=0;g<a.length;g++){var it=[],ht=0,ft=0;if(k<a[g]){for(s=v;s>=0;s--)if(p=h().validPositions[s],void 0!==p){rt=vi(s,a[g]);h().validPositions[s].match.def!==rt.match.def&&(it.push(h().validPositions[s].input),h().validPositions[s]=rt,h().validPositions[s].input=tt(s),null===h().validPositions[s].match.fn&&ft++,p=rt);ct=p.locator[f];p.locator[f]=parseInt(a[g]);break}if(k!==p.locator[f]){for(o=v+1;o<y(void 0,!0)+1;o++)w=h().validPositions[o],w&&null!=w.match.fn?it.push(w.input):t>o&&ht++,delete h().validPositions[o],delete h().tests[o];for(d(!0),e.keepStatic=!e.keepStatic,b=!0;it.length>0;)if(et=it.shift(),et!==e.skipOptionalPartCharacter&&!(b=ot(y(void 0,!0)+1,et,!1,u)))break;if(p.alternation=f,p.locator[f]=ct,b){for(st=y(t)+1,o=v+1;o<y()+1;o++)w=h().validPositions[o],(void 0===w||null==w.match.fn)&&t>o&&ft++;t+=ft-ht;b=ot(t>st?st:t,i,r,u)}if(e.keepStatic=!e.keepStatic,b)return b;d();h().validPositions=n.extend(!0,{},lt);h().tests=n.extend(!0,{},at)}}}break}}return!1}function st(t,i){for(var s=h().validPositions[i],f=s.locator,c=f.length,r=t;i>r;r++)if(void 0===h().validPositions[r]&&!nt(r,!0)){var e=ft(r),u=e[0],o=-1;n.each(e,function(n,t){for(var i=0;c>i&&void 0!==t.locator[i]&&ni(t.locator[i].toString().split(","),f[i].toString().split(","));i++)i>o&&(o=i,u=t)});ci(r,n.extend({},u,{input:u.match.placeholder||u.match.def}),!0)}}var o,l,it,b,a,rt;u=u===!0;o=i;void 0!==i.begin&&(o=w&&!k(i)?i.end:i.begin);for(var s=!1,ht=n.extend(!0,{},h().validPositions),c=o-1;c>-1&&!h().validPositions[c];c--);for(c++;o>c;c++)void 0===h().validPositions[c]&&((l=ut(c)).match.def===e.radixPointDefinitionSymbol||!nt(c,!0)||n.inArray(e.radixPoint,v())<c&&l.match.fn&&l.match.fn.test(tt(c),h(),c,!1,e))&&g(y()+1,l.match.placeholder||(null==l.match.fn?l.match.def:""!==tt(c)?tt(c):v()[c]),!0,f);if(k(i)&&(ii(void 0,t.keyCode.DELETE,i),o=h().p),o<at()&&(s=g(o,r,u,f),(!u||f===!0)&&s===!1))if(it=h().validPositions[o],it&&null===it.match.fn&&(it.match.def===r||r===e.skipOptionalPartCharacter))s={caret:p(o)};else if((e.insertMode||void 0===h().validPositions[p(o)])&&!nt(o,!0))for(b=ut(o).match,b=b.placeholder||b.def,g(o,b,u,f),a=o+1,rt=p(o);rt>=a;a++)if(s=g(a,r,u,f),s!==!1){st(o,a);o=a;break}return s===!1&&e.keepStatic&&(s=et(o,r,u,f)),s===!0&&(s={pos:o}),n.isFunction(e.postValidation)&&s!==!1&&!u&&f!==!0&&(s=e.postValidation(v(!0),s,e)?s:!1),void 0===s.pos&&(s.pos=o),s===!1&&(d(!0),h().validPositions=n.extend(!0,{},ht)),s}function nt(n,t){var i,r;return(t?(i=ut(n).match,""===i.def&&(i=st(n))):i=st(n),null!=i.fn)?i.fn:t!==!0&&n>-1&&!e.keepStatic&&void 0===h().validPositions[n]?(r=ft(n),r.length>2):!1}function at(){var i,f;lt=void 0!==a?a.maxLength:void 0;-1===lt&&(lt=void 0);for(var r=y(),n=h().validPositions[r],u=void 0!==n?n.locator.slice():void 0,t=r+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;t++)n=ut(t,u,t-1),u=n.locator.slice();return f=st(t-1),i=""!==f.def?t:t-1,void 0===lt||lt>i?i:lt}function p(n,t){var r=at(),i;if(n>=r)return r;for(i=n;++i<r&&(t===!0&&(st(i).newBlockMarker!==!0||!nt(i))||t!==!0&&!nt(i)&&(e.nojumps!==!0||e.nojumpsThreshold>i)););return i}function yt(n,t){var i=n;if(0>=i)return 0;for(;--i>0&&(t===!0&&st(i).newBlockMarker!==!0||t!==!0&&!nt(i)););return i}function gi(n){return void 0===h().validPositions[n]?tt(n):h().validPositions[n].input}function et(t,i,r,u,f){var o,s;u&&n.isFunction(e.onBeforeWrite)&&(o=e.onBeforeWrite(u,i,r,e),o&&(o.refreshFromBuffer&&(s=o.refreshFromBuffer,bt(s===!0?s:s.start,s.end,o.buffer||i),i=v(!0)),void 0!==r&&(r=void 0!==o.caret?o.caret:r)));t.inputmask._valueSet(i.join(""));void 0===r||void 0!==u&&"blur"===u.type||b(t,r);f===!0&&(dt=!0,n(t).trigger("input"))}function tt(n,t){var u,i,f,r;if(t=t||st(n),void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(n>-1&&!e.keepStatic&&void 0===h().validPositions[n]&&(i=ft(n),f=0,i.length>2))for(r=0;r<i.length;r++)if(i[r].match.optionality!==!0&&i[r].match.optionalQuantifier!==!0&&(null===i[r].match.fn||void 0===u||i[r].match.fn.test(u.match.def,h(),n,!0,e)!==!1)&&(f++,null===i[r].match.fn&&(u=i[r]),f>1))return e.placeholder.charAt(n%e.placeholder.length);return t.def}return e.placeholder.charAt(n%e.placeholder.length)}function ht(i,r,u,f){function b(){var t=!1,r=g().slice(s,p(s)).join("").indexOf(a),i,n;if(-1!==r&&!nt(s))for(t=!0,i=g().slice(s,s+r),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}return t}var o,l=f.slice(),a="",s=0,w,c;(d(),h().p=p(-1),u)||(e.autoUnmask!==!0?(w=g().slice(0,p(-1)).join(""),c=l.join("").match(new RegExp("^"+t.escapeRegex(w),"g")),c&&c.length>0&&(l.splice(0,c.length*w.length),s=p(s))):s=p(s));n.each(l,function(t,r){var c,p,l;if(void 0!==r){c=new n.Event("keypress");c.which=r.charCodeAt(0);a+=r;var f=y(void 0,!0),w=h().validPositions[f],k=ut(f+1,w?w.locator.slice():void 0,f);!b()||u||e.autoUnmask?(p=u?t:null==k.match.fn&&k.match.optionality&&f+1<h().p?f+1:h().p,o=wt.call(i,c,!0,!1,u,p),s=p+1,a=""):o=wt.call(i,c,!0,!1,!0,f+1);!u&&n.isFunction(e.onBeforeWrite)&&(o=e.onBeforeWrite(c,v(),o.forwardPosition,e),o&&o.refreshFromBuffer)&&(l=o.refreshFromBuffer,bt(l===!0?l:l.start,l.end,o.buffer),d(!0),o.caret&&(h().p=o.caret))}});r&&et(i,v(),document.activeElement===i?p(y(0)):void 0,new n.Event("checkval"))}function yi(t){var r,u,f,i,o;if(t&&void 0===t.inputmask)return t.value;r=[];u=h().validPositions;for(f in u)u[f].match&&null!=u[f].match.fn&&r.push(u[f].input);return i=0===r.length?null:(w?r.reverse():r).join(""),null!==i&&(o=(w?v().slice().reverse():v()).join(""),n.isFunction(e.onUnMask)&&(i=e.onUnMask(o,i,e)||i)),i}function b(n,t,i,r){function f(n){if(r!==!0&&w&&"number"==typeof n&&(!e.greedy||""!==e.placeholder)){var t=v().join("").length;n=t-n}return n}var u,o,h,s;if("number"!=typeof t)return n.setSelectionRange?(t=n.selectionStart,i=n.selectionEnd):window.getSelection?(u=window.getSelection().getRangeAt(0),(u.commonAncestorContainer.parentNode===n||u.commonAncestorContainer===n)&&(t=u.startOffset,i=u.endOffset)):document.selection&&document.selection.createRange&&(u=document.selection.createRange(),t=0-u.duplicate().moveStart("character",-n.inputmask._valueGet().length),i=t+u.text.length),{begin:f(t),end:f(i)};t=f(t);i=f(i);i="number"==typeof i?i:t;o=parseInt(((n.ownerDocument.defaultView||window).getComputedStyle?(n.ownerDocument.defaultView||window).getComputedStyle(n,null):n.currentStyle).fontSize)*i;(n.scrollLeft=o>n.scrollWidth?o:0,c||e.insertMode!==!1||t!==i||i++,n.setSelectionRange)?(n.selectionStart=t,n.selectionEnd=i):window.getSelection?((u=document.createRange(),void 0===n.firstChild||null===n.firstChild)&&(h=document.createTextNode(""),n.appendChild(h)),u.setStart(n.firstChild,t<n.inputmask._valueGet().length?t:n.inputmask._valueGet().length),u.setEnd(n.firstChild,i<n.inputmask._valueGet().length?i:n.inputmask._valueGet().length),u.collapse(!0),s=window.getSelection(),s.removeAllRanges(),s.addRange(u)):n.createTextRange&&(u=n.createTextRange(),u.collapse(!0),u.moveEnd("character",i),u.moveStart("character",t),u.select())}function ti(t){for(var r,s=v(),f=s.length,c=y(),e={},u=h().validPositions[c],l=void 0!==u?u.locator.slice():void 0,o,i=c+1;i<s.length;i++)r=ut(i,l,i-1),l=r.locator.slice(),e[i]=n.extend(!0,{},r);for(o=u&&void 0!==u.alternation?u.locator[u.alternation]:void 0,i=f-1;i>c&&(r=e[i],(r.match.optionality||r.match.optionalQuantifier||o&&(o!==e[i].locator[u.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[u.alternation]&&ni(r.locator[u.alternation].toString().split(","),o.toString().split(","))&&""!==ft(i)[0].def))&&s[i]===tt(i,r.match));i--)f--;return t?{l:f,def:e[f]?e[f].match:void 0}:f}function pt(n){for(var i=ti(),t=n.length-1;t>i&&!nt(t);t--);return n.splice(i,t+1-i),n}function ct(t){var i,r;if(n.isFunction(e.isComplete))return e.isComplete(t,e);if("*"===e.repeat)return void 0;var f=!1,u=ti(!0),o=yt(u.l);if(void 0===u.def||u.def.newBlockMarker||u.def.optionality||u.def.optionalQuantifier)for(f=!0,i=0;o>=i;i++)if(r=ut(i).match,null!==r.fn&&void 0===h().validPositions[i]&&r.optionality!==!0&&r.optionalQuantifier!==!0||null===r.fn&&t[i]!==tt(i,r)){f=!1;break}return f}function nr(t){function s(t){if(n.valHooks&&(void 0===n.valHooks[t]||n.valHooks[t].inputmaskpatch!==!0)){var i=n.valHooks[t]&&n.valHooks[t].get?n.valHooks[t].get:function(n){return n.value},r=n.valHooks[t]&&n.valHooks[t].set?n.valHooks[t].set:function(n,t){return n.value=t,n};n.valHooks[t]={get:function(n){if(n.inputmask){if(n.inputmask.opts.autoUnmask)return n.inputmask.unmaskedvalue();var t=i(n);return-1!==y()?t:""}return i(n)},set:function(t,i){var u,f=n(t);return u=r(t,i),t.inputmask&&f.trigger("setvalue"),u},inputmaskpatch:!0}}}function f(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==y()?document.activeElement===this&&e.clearMaskOnLostFocus?(w?pt(v().slice()).reverse():pt(v().slice())).join(""):i.call(this):"":i.call(this)}function o(t){r.call(this,t);this.inputmask&&n(this).trigger("setvalue")}function h(t){k.on(t,"mouseenter",function(){var t=n(this),i=this,r=i.inputmask._valueGet();r!==v().join("")&&t.trigger("setvalue")})}var i,r,u;t.inputmask.__valueGet||(Object.getOwnPropertyDescriptor?(u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0,u&&u.get&&u.set?(i=u.get,r=u.set,Object.defineProperty(t,"value",{get:f,set:o,configurable:!0})):"INPUT"!==t.tagName&&(i=function(){return this.textContent},r=function(n){this.textContent=n},Object.defineProperty(t,"value",{get:f,set:o,configurable:!0}))):document.__lookupGetter__&&t.__lookupGetter__("value")&&(i=t.__lookupGetter__("value"),r=t.__lookupSetter__("value"),t.__defineGetter__("value",f),t.__defineSetter__("value",o)),void 0===i&&(i=function(){return t.value},r=function(n){t.value=n},s(t.type),h(t)),t.inputmask.__valueGet=i,t.inputmask._valueGet=function(n){return w&&n!==!0?i.call(this.el).split("").reverse().join(""):i.call(this.el)},t.inputmask.__valueSet=r,t.inputmask._valueSet=function(n,t){r.call(this.el,null===n||void 0===n?"":t!==!0&&w?n.split("").reverse().join(""):n)})}function ii(i,r,u,f){function c(){var r,u,o,t,f;if(e.keepStatic){for(d(!0),u=[],o=n.extend(!0,{},h().validPositions),r=y();r>=0;r--)if(t=h().validPositions[r],t&&(null!=t.match.fn&&u.push(t.input),delete h().validPositions[r],void 0!==t.alternation&&t.locator[t.alternation]===ut(r).locator[t.alternation]))break;if(r>-1)for(;u.length>0;)h().p=p(y()),f=new n.Event("keypress"),f.which=u.pop().charCodeAt(0),wt.call(i,f,!0,!1,!1,h().p);else h().validPositions=n.extend(!0,{},o)}}var s,o;(e.numericInput||w)&&(r===t.keyCode.BACKSPACE?r=t.keyCode.DELETE:r===t.keyCode.DELETE&&(r=t.keyCode.BACKSPACE),w)&&(s=u.end,u.end=u.begin,u.begin=s);r===t.keyCode.BACKSPACE&&(u.end-u.begin<1||e.insertMode===!1)?(u.begin=yt(u.begin),void 0===h().validPositions[u.begin]||h().validPositions[u.begin].input!==e.groupSeparator&&h().validPositions[u.begin].input!==e.radixPoint||u.begin--):r===t.keyCode.DELETE&&u.begin===u.end&&(u.end=nt(u.end)?u.end+1:p(u.end)+1,void 0===h().validPositions[u.begin]||h().validPositions[u.begin].input!==e.groupSeparator&&h().validPositions[u.begin].input!==e.radixPoint||u.end++);li(u.begin,u.end,!1,f);f!==!0&&c();o=y(u.begin);o<u.begin?(-1===o&&d(),h().p=p(o)):f!==!0&&(h().p=u.begin)}function pi(i){var u=this,c=n(u),f=i.keyCode,r=b(u),s;f===t.keyCode.BACKSPACE||f===t.keyCode.DELETE||l&&f===t.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&f===t.keyCode.X&&!o("cut")?(i.preventDefault(),ii(u,f,r),et(u,v(),h().p,i,rt!==v().join("")),u.inputmask._valueGet()===g().join("")?c.trigger("cleared"):ct(v())===!0&&c.trigger("complete"),e.showTooltip&&(u.title=e.tooltip||h().mask)):f===t.keyCode.END||f===t.keyCode.PAGE_DOWN?(i.preventDefault(),s=p(y()),e.insertMode||s!==at()||i.shiftKey||s--,b(u,i.shiftKey?r.begin:s,s,!0)):f===t.keyCode.HOME&&!i.shiftKey||f===t.keyCode.PAGE_UP?(i.preventDefault(),b(u,0,i.shiftKey?r.begin:0,!0)):(e.undoOnEscape&&f===t.keyCode.ESCAPE||90===f&&i.ctrlKey)&&i.altKey!==!0?(ht(u,!0,!1,rt.split("")),c.trigger("click")):f!==t.keyCode.INSERT||i.shiftKey||i.ctrlKey?e.tabThrough===!0&&f===t.keyCode.TAB?(i.shiftKey===!0?(null===st(r.begin).fn&&(r.begin=p(r.begin)),r.end=yt(r.begin,!0),r.begin=yt(r.end,!0)):(r.begin=p(r.begin,!0),r.end=p(r.begin,!0),r.end<at()&&r.end--),r.begin<at()&&(i.preventDefault(),b(u,r.begin,r.end))):e.insertMode!==!1||i.shiftKey||(f===t.keyCode.RIGHT?setTimeout(function(){var n=b(u);b(u,n.begin)},0):f===t.keyCode.LEFT&&setTimeout(function(){var n=b(u);b(u,w?n.begin+1:n.begin-1)},0)):(e.insertMode=!e.insertMode,b(u,e.insertMode||r.begin!==at()?r.begin:r.begin-1));e.onKeyDown.call(this,i,v(),b(u).begin,e);wi=-1!==n.inArray(f,e.ignorables)}function wt(i,r,u,f,o){var y=this,g=n(y),l=i.which||i.charCode||i.keyCode,a,nt,tt,s,c,w,it,k;return!(r===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||wi)?(l===t.keyCode.ENTER&&rt!==v().join("")&&(rt=v().join(""),setTimeout(function(){g.trigger("change")},0)),!0):l&&(46===l&&i.shiftKey===!1&&","===e.radixPoint&&(l=44),nt=r?{begin:o,end:o}:b(y),tt=String.fromCharCode(l),h().writeOutBuffer=!0,s=ot(nt,tt,f),s!==!1&&(c=s.pos,(d(!0),void 0!==s.caret)?a=s.caret:(w=h().validPositions,a=!e.keepStatic&&(void 0!==w[c+1]&&ft(c+1,w[c].locator.slice(),c).length>1||void 0!==w[c].alternation)?c+1:p(c)),h().p=a),u!==!1&&(it=this,(setTimeout(function(){e.onKeyValidation.call(it,l,s,e)},0),h().writeOutBuffer&&s!==!1)&&(k=v(),et(y,k,e.numericInput&&void 0===s.caret?yt(a):a,i,r!==!0),r!==!0&&setTimeout(function(){ct(k)===!0&&g.trigger("complete")},0))),e.showTooltip&&(y.title=e.tooltip||h().mask),i.preventDefault(),r)?(s.forwardPosition=a,s):void 0}function ri(t){var h,s=this,c=t.originalEvent||t,l=n(s),i=s.inputmask._valueGet(!0),r=b(s),u,f,o;if(w&&(h=r.end,r.end=r.begin,r.begin=h),u=i.substr(0,r.begin),f=i.substr(r.end,i.length),u===(w?g().reverse():g()).slice(0,r.begin).join("")&&(u=""),f===(w?g().reverse():g()).slice(r.end).join("")&&(f=""),w&&(h=u,u=f,f=h),window.clipboardData&&window.clipboardData.getData?i=u+window.clipboardData.getData("Text")+f:c.clipboardData&&c.clipboardData.getData&&(i=u+c.clipboardData.getData("text/plain")+f),o=i,n.isFunction(e.onBeforePaste)){if(o=e.onBeforePaste(i,e),o===!1)return t.preventDefault();o||(o=i)}return ht(s,!1,!1,w?o.split("").reverse():o.toString().split("")),et(s,v(),p(y()),t,!0),ct(v())===!0&&l.trigger("complete"),t.preventDefault()}function tr(i){var e=this,r=e.inputmask._valueGet(),u,s,c,l,o;if(v().join("")!==r){if(u=b(e),(r=r.replace(new RegExp("("+t.escapeRegex(g().join(""))+")*"),""),f)&&(s=r.replace(v().join(""),""),1===s.length))return c=new n.Event("keypress"),c.which=s.charCodeAt(0),wt.call(e,c,!0,!0,!1,h().validPositions[u.begin-1]?u.begin:u.begin-1),!1;if(u.begin>r.length&&(b(e,r.length),u=b(e)),v().length-r.length!=1||r.charAt(u.begin)===v()[u.begin]||r.charAt(u.begin+1)===v()[u.begin]||nt(u.begin)){for(l=y()+1,o=v().slice(l).join("");null===r.match(t.escapeRegex(o)+"$");)o=o.slice(1);r=r.replace(o,"");r=r.split("");ht(e,!0,!1,r);ct(v())===!0&&n(e).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,pi.call(e,i);i.preventDefault()}}function ir(){var t=this,i=t.inputmask._valueGet();ht(t,!0,!1,(n.isFunction(e.onBeforeMask)?e.onBeforeMask(i,e)||i:i).split(""));rt=v().join("");(e.clearMaskOnLostFocus||e.clearIncomplete)&&t.inputmask._valueGet()===g().join("")&&t.inputmask._valueSet("")}function rr(){var n=this,t=n.inputmask._valueGet();e.showMaskOnFocus&&(!e.showMaskOnHover||e.showMaskOnHover&&""===t)?n.inputmask._valueGet()!==v().join("")&&et(n,v(),p(y())):fi===!1&&b(n,p(y()));e.positionCaretOnTab===!0&&setTimeout(function(){b(n,p(y()))},0);rt=v().join("")}function ur(){var n=this,t,i;(fi=!1,e.clearMaskOnLostFocus&&document.activeElement!==n)&&(t=v().slice(),i=n.inputmask._valueGet(),i!==n.getAttribute("placeholder")&&""!==i&&(-1===y()&&i===g().join("")?t=[]:pt(t),et(n,t)))}function fr(){function i(t){var i,u,r;if(e.radixFocus&&""!==e.radixPoint&&(i=h().validPositions,void 0===i[t]||i[t].input===tt(t))){if(t<p(-1))return!0;if(u=n.inArray(e.radixPoint,v()),-1!==u){for(r in i)if(r>u&&i[r].input!==tt(r))return!1;return!0}}return!1}var t=this;setTimeout(function(){var f,o;if(document.activeElement===t&&(f=b(t),f.begin===f.end))if(i(f.begin))b(t,e.numericInput?p(n.inArray(e.radixPoint,v())):n.inArray(e.radixPoint,v()));else{var u=f.begin,s=y(u,!0),r=p(s);r>u?b(t,nt(u)||nt(u-1)?u:p(u)):(o=tt(r),(""===o||v()[r]===o)&&(nt(r,!0)||st(r).def!==o)||(r=p(r)),b(t,r))}},0)}function er(){var n=this;setTimeout(function(){b(n,0,p(y()))},0)}function or(i){var r=this,o=n(r),u=b(r),s=i.originalEvent||i,c=window.clipboardData||s.clipboardData,f=w?v().slice(u.end,u.begin):v().slice(u.begin,u.end);c.setData("text",w?f.reverse().join(""):f.join(""));document.execCommand&&document.execCommand("copy");ii(r,t.keyCode.DELETE,u);et(r,v(),h().p,i,rt!==v().join(""));r.inputmask._valueGet()===g().join("")&&o.trigger("cleared");e.showTooltip&&(r.title=e.tooltip||h().mask)}function sr(t){var f=n(this),r=this,u,i;r.inputmask&&(u=r.inputmask._valueGet(),i=v().slice(),rt!==i.join("")&&setTimeout(function(){f.trigger("change");rt=i.join("")},0),""!==u&&(e.clearMaskOnLostFocus&&(-1===y()&&u===g().join("")?i=[]:pt(i)),ct(i)===!1&&(setTimeout(function(){f.trigger("incomplete")},0),e.clearIncomplete&&(d(),i=e.clearMaskOnLostFocus?[]:g().slice())),et(r,i,void 0,t)))}function hr(){var n=this;fi=!0;document.activeElement!==n&&e.showMaskOnHover&&n.inputmask._valueGet()!==v().join("")&&et(n,v())}function cr(){rt!==v().join("")&&kt.trigger("change");e.clearMaskOnLostFocus&&-1===y()&&a.inputmask._valueGet&&a.inputmask._valueGet()===g().join("")&&a.inputmask._valueSet("");e.removeMaskOnSubmit&&(a.inputmask._valueSet(a.inputmask.unmaskedvalue(),!0),setTimeout(function(){et(a,v())},0))}function lr(){setTimeout(function(){kt.trigger("setvalue")},0)}function ar(t){var r,i;(a=t,kt=n(a),e.showTooltip&&(a.title=e.tooltip||h().mask),("rtl"===a.dir||e.rightAlign)&&(a.style.textAlign="right"),("rtl"===a.dir||e.numericInput)&&(a.dir="ltr",a.removeAttribute("dir"),a.inputmask.isRTL=!0,w=!0),k.off(a),nr(a),s(a,e)&&(k.on(a,"submit",cr),k.on(a,"reset",lr),k.on(a,"mouseenter",hr),k.on(a,"blur",sr),k.on(a,"focus",rr),k.on(a,"mouseleave",ur),k.on(a,"click",fr),k.on(a,"dblclick",er),k.on(a,"paste",ri),k.on(a,"dragdrop",ri),k.on(a,"drop",ri),k.on(a,"cut",or),k.on(a,"complete",e.oncomplete),k.on(a,"incomplete",e.onincomplete),k.on(a,"cleared",e.oncleared),k.on(a,"keydown",pi),k.on(a,"keypress",wt),k.on(a,"input",tr)),k.on(a,"setvalue",ir),""!==a.inputmask._valueGet()||e.clearMaskOnLostFocus===!1||document.activeElement===a)&&(r=n.isFunction(e.onBeforeMask)?e.onBeforeMask(a.inputmask._valueGet(),e)||a.inputmask._valueGet():a.inputmask._valueGet(),ht(a,!0,!1,r.split("")),i=v().slice(),rt=i.join(""),ct(i)===!1&&e.clearIncomplete&&d(),e.clearMaskOnLostFocus&&document.activeElement!==a&&(-1===y()?i=[]:pt(i)),et(a,i),document.activeElement===a&&b(a,p(y())))}var rt,a,kt,lt,it,w=!1,ui=!1,dt=!1,wi=!1,fi=!0,k={on:function(i,r,u){var o=function(i){var r,s,o;if(void 0===this.inputmask&&"FORM"!==this.nodeName)r=n.data(this,"_inputmask_opts"),r?new t(r).mask(this):k.off(this);else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||e.tabThrough===!1&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(dt===!0)return dt=!1,i.preventDefault();break;case"keydown":ui=!1;dt=!1;break;case"keypress":if(ui===!0)return i.preventDefault();ui=!0;break;case"click":if(f)return s=this,setTimeout(function(){u.apply(s,arguments)},0),!1}return o=u.apply(this,arguments),o===!1&&(i.preventDefault(),i.stopPropagation()),o}i.preventDefault()}};i.inputmask.events[r]=i.inputmask.events[r]||[];i.inputmask.events[r].push(o);-1!==n.inArray(r,["submit","reset"])?null!=i.form&&n(i.form).on(r,o):n(i).on(r,o)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var r;i?(r=[],r[i]=t.inputmask.events[i]):r=t.inputmask.events;n.each(r,function(i,r){for(;r.length>0;){var u=r.pop();-1!==n.inArray(i,["submit","reset"])?null!=t.form&&n(t.form).off(i,u):n(t).off(i,u)}delete t.inputmask.events[i]})}}},bi,si,ki,vt;if(void 0!==r)switch(r.action){case"isComplete":return a=r.el,ct(v());case"unmaskedvalue":return a=r.el,void 0!==a&&void 0!==a.inputmask?(u=a.inputmask.maskset,e=a.inputmask.opts,w=a.inputmask.isRTL):(it=r.value,e.numericInput&&(w=!0),it=(n.isFunction(e.onBeforeMask)?e.onBeforeMask(it,e)||it:it).split(""),ht(void 0,!1,!1,w?it.reverse():it),n.isFunction(e.onBeforeWrite)&&e.onBeforeWrite(void 0,v(),0,e)),yi(a);case"mask":a=r.el;u=a.inputmask.maskset;e=a.inputmask.opts;w=a.inputmask.isRTL;rt=v().join("");ar(a);break;case"format":return e.numericInput&&(w=!0),it=(n.isFunction(e.onBeforeMask)?e.onBeforeMask(r.value,e)||r.value:r.value).split(""),ht(void 0,!1,!1,w?it.reverse():it),n.isFunction(e.onBeforeWrite)&&e.onBeforeWrite(void 0,v(),0,e),r.metadata?{value:w?v().slice().reverse().join(""):v().join(""),metadata:i({action:"getmetadata"},u,e)}:w?v().slice().reverse().join(""):v().join("");case"isValid":e.numericInput&&(w=!0);r.value?(it=r.value.split(""),ht(void 0,!1,!0,w?it.reverse():it)):r.value=v().join("");for(var ei=v(),oi=ti(),gt=ei.length-1;gt>oi&&!nt(gt);gt--);return ei.splice(oi,gt+1-oi),ct(ei)&&r.value===v().join("");case"getemptymask":return g().join("");case"remove":a=r.el;kt=n(a);u=a.inputmask.maskset;e=a.inputmask.opts;a.inputmask._valueSet(yi(a));k.off(a);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(bi=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(a),"value"),bi&&a.inputmask.__valueGet&&Object.defineProperty(a,"value",{get:a.inputmask.__valueGet,set:a.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&a.__lookupGetter__("value")&&a.inputmask.__valueGet&&(a.__defineGetter__("value",a.inputmask.__valueGet),a.__defineSetter__("value",a.inputmask.__valueSet));a.inputmask=void 0;break;case"getmetadata":if(n.isArray(u.metadata)){for(ki=y(void 0,!0),vt=ki;vt>=0;vt--)if(h().validPositions[vt]&&void 0!==h().validPositions[vt].alternation){si=h().validPositions[vt].alternation;break}return void 0!==si?u.metadata[h().validPositions[vt].locator[si]]:[]}return u.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:n.noop,onincomplete:n.noop,oncleared:n.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:n.noop,onBeforeMask:null,onBeforePaste:function(t,i){return n.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:n.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:n.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(u){var f=this;return"string"==typeof u&&(u=document.getElementById(u)||document.querySelectorAll(u)),u=u.nodeName?[u]:u,n.each(u,function(u,e){var o=n.extend(!0,{},f.opts),s;h(e,o,n.extend(!0,{},f.userOptions));s=r(o,f.noMasksCache);void 0!==s&&(void 0!==e.inputmask&&e.inputmask.remove(),e.inputmask=new t,e.inputmask.opts=o,e.inputmask.noMasksCache=f.noMasksCache,e.inputmask.userOptions=n.extend(!0,{},f.userOptions),e.inputmask.el=e,e.inputmask.maskset=s,e.inputmask.isRTL=!1,n.data(e,"_inputmask_opts",o),i({action:"mask",el:e}))}),u&&u[0]?u[0].inputmask||this:this},option:function(t){return"string"==typeof t?this.opts[t]:"object"==typeof t?(n.extend(this.opts,t),n.extend(this.userOptions,t),this.el&&(void 0!==t.mask||void 0!==t.alias?this.mask(this.el):(n.data(this.el,"_inputmask_opts",this.opts),i({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(n){return i({action:"unmaskedvalue",el:this.el,value:n},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el)return(i({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el)},getemptymask:function(){return i({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return i({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return i({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(n){return i({action:"isValid",value:n},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(n,t){return i({action:"format",value:n,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}};t.extendDefaults=function(i){n.extend(!0,t.prototype.defaults,i)};t.extendDefinitions=function(i){n.extend(!0,t.prototype.defaults.definitions,i)};t.extendAliases=function(i){n.extend(!0,t.prototype.defaults.aliases,i)};t.format=function(n,i,r){return t(i).format(n,r)};t.unmask=function(n,i){return t(i).unmaskedvalue(n)};t.isValid=function(n,i){return t(i).isValid(n)};t.remove=function(t){n.each(t,function(n,t){t.inputmask&&t.inputmask.remove()})};t.escapeRegex=function(n){return n.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","gim"),"\\$1")};t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var u=navigator.userAgent,c=/mobile/i.test(u),f=/iemobile/i.test(u),l=/iphone/i.test(u)&&!f;return/android.*safari.*/i.test(u)&&!f,window.Inputmask=t,t}(jQuery),function(n,t){return void 0===n.fn.inputmask&&(n.fn.inputmask=function(i,r){var f,u=this[0];if(void 0===r&&(r={}),"string"==typeof i)switch(i){case"unmaskedvalue":return u&&u.inputmask?u.inputmask.unmaskedvalue():n(u).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return u&&u.inputmask?u.inputmask.getemptymask():"";case"hasMaskedValue":return u&&u.inputmask?u.inputmask.hasMaskedValue():!1;case"isComplete":return u&&u.inputmask?u.inputmask.isComplete():!0;case"getmetadata":return u&&u.inputmask?u.inputmask.getmetadata():void 0;case"setvalue":n(u).val(r);u&&void 0!==u.inputmask&&n(u).triggerHandler("setvalue");break;case"option":if("string"!=typeof r)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(r)});if(u&&void 0!==u.inputmask)return u.inputmask.option(r);break;default:return r.alias=i,f=new t(r),this.each(function(){f.mask(this)})}else{if("object"==typeof i)return f=new t(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void f.mask(this)}):this.each(function(){f.mask(this)});if(void 0===i)return this.each(function(){f=new t(r);f.mask(this)})}}),n.fn.inputmask}(jQuery,Inputmask),function(n,t){return t.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(n,t,i){if(isNaN(n))return!1;var r=parseInt(n.concat(t.toString().slice(n.length))),u=parseInt(n.concat(i.toString().slice(n.length)));return(isNaN(r)?!1:r>=t&&i>=r)||(isNaN(u)?!1:u>=t&&i>=u)},determinebaseyear:function(n,t,i){var r=(new Date).getFullYear(),u,s,e,f,o;if(n>r)return n;if(r>t){for(u=t.toString().slice(0,2),s=t.toString().slice(2,4);u+i>t;)u--;return e=u+s,n>e?n:e}if(r>=n&&t>=r){for(f=r.toString().slice(0,2);f+i>t;)f--;return o=f+i,n>o?n:o}return r},onKeyDown:function(i){var u=n(this),r;i.ctrlKey&&i.keyCode===t.keyCode.RIGHT&&(r=new Date,u.val(r.getDate().toString()+(r.getMonth()+1).toString()+r.getFullYear().toString()),u.trigger("setvalue"))},getFrontValue:function(n,t,i){for(var f,e=0,r=0,u=0;u<n.length&&"2"!==n.charAt(u);u++)f=i.definitions[n.charAt(u)],f?(e+=r,r=f.cardinality):r++;return t.join("").substr(e,r)},definitions:{1:{validator:function(n,t,i,r,u){var f=u.regex.val1.test(n);return r||f||n.charAt(1)!==u.separator&&-1==="-./".indexOf(n.charAt(1))||!(f=u.regex.val1.test("0"+n.charAt(0)))?f:(t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:n.charAt(0)})},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var e=n,f;if(isNaN(t.buffer[i+1])||(e+=t.buffer[i+1]),f=1===e.length?u.regex.val1pre.test(e):u.regex.val1.test(e),!r&&!f){if(f=u.regex.val1.test(n+"0"))return t.buffer[i]=n,t.buffer[++i]="0",{pos:i,c:"0"};if(f=u.regex.val1.test("0"+n))return t.buffer[i]="0",i++,{pos:i}}return f},cardinality:1}]},2:{validator:function(n,t,i,r,u){var e=u.getFrontValue(t.mask,t.buffer,u),f,s,o;return(-1!==e.indexOf(u.placeholder[0])&&(e="01"+u.separator),f=u.regex.val2(u.separator).test(e+n),!r&&!f&&(n.charAt(1)===u.separator||-1!=="-./".indexOf(n.charAt(1)))&&(f=u.regex.val2(u.separator).test(e+"0"+n.charAt(0))))?(t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:n.charAt(0)}):u.mask.indexOf("2")===u.mask.length-1&&f?(s=t.buffer.join("").substr(4,4)+n,s!==u.leapday)?!0:(o=parseInt(t.buffer.join("").substr(0,4),10),o%4==0?o%100==0?o%400==0?!0:!1:!0:!1):f},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var f,e;return isNaN(t.buffer[i+1])||(n+=t.buffer[i+1]),f=u.getFrontValue(t.mask,t.buffer,u),-1!==f.indexOf(u.placeholder[0])&&(f="01"+u.separator),e=1===n.length?u.regex.val2pre(u.separator).test(f+n):u.regex.val2(u.separator).test(f+n),r||e||!(e=u.regex.val2(u.separator).test(f+"0"+n))?e:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(n,t,i,r,u){var e,f;return u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear)?(e=t.buffer.join("").substr(0,6),e!==u.leapday)?!0:(f=parseInt(n,10),f%4==0?f%100==0?f%400==0?!0:!1:!0:!1):!1},cardinality:4,prevalidator:[{validator:function(n,t,i,r,u){var e=u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear),f;if(!r&&!e){if(f=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n+"0").toString().slice(0,1),e=u.isInYearRange(f+n,u.yearrange.minyear,u.yearrange.maxyear))return t.buffer[i++]=f.charAt(0),{pos:i};if(f=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n+"0").toString().slice(0,2),e=u.isInYearRange(f+n,u.yearrange.minyear,u.yearrange.maxyear))return t.buffer[i++]=f.charAt(0),t.buffer[i++]=f.charAt(1),{pos:i}}return e},cardinality:1},{validator:function(n,t,i,r,u){var f=u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear),e,s,o;if(!r&&!f){if(e=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n).toString().slice(0,2),f=u.isInYearRange(n[0]+e[1]+n[1],u.yearrange.minyear,u.yearrange.maxyear))return t.buffer[i++]=e.charAt(1),{pos:i};if((e=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n).toString().slice(0,2),u.isInYearRange(e+n,u.yearrange.minyear,u.yearrange.maxyear))?(s=t.buffer.join("").substr(0,6),s!==u.leapday?f=!0:(o=parseInt(n,10),f=o%4==0?o%100==0?o%400==0?!0:!1:!0:!1)):f=!1,f)return t.buffer[i-1]=e.charAt(0),t.buffer[i++]=e.charAt(1),t.buffer[i++]=n.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return f},cardinality:2},{validator:function(n,t,i,r,u){return u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i){var u=n(this),r;i.ctrlKey&&i.keyCode===t.keyCode.RIGHT&&(r=new Date,u.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),u.trigger("setvalue"))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(i){var u=n(this),r;i.ctrlKey&&i.keyCode===t.keyCode.RIGHT&&(r=new Date,u.val(r.getFullYear().toString()+(r.getMonth()+1).toString()+r.getDate().toString()),u.trigger("setvalue"))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(n,t,i,r,u){var e,f;return"24"===u.hourFormat&&24===parseInt(n,10)?(t.buffer[i-1]="0",t.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"}):(e=u.regex.hrs.test(n),!r&&!e&&(n.charAt(1)===u.timeseparator||-1!=="-.:".indexOf(n.charAt(1)))&&(e=u.regex.hrs.test("0"+n.charAt(0))))?(t.buffer[i-1]="0",t.buffer[i]=n.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:u.timeseparator}):e&&"24"!==u.hourFormat&&u.regex.hrs24.test(n)?(f=parseInt(n,10),24===f?(t.buffer[i+5]="a",t.buffer[i+6]="m"):(t.buffer[i+5]="p",t.buffer[i+6]="m"),f-=12,10>f?(t.buffer[i]=f.toString(),t.buffer[i-1]="0"):(t.buffer[i]=f.toString().charAt(1),t.buffer[i-1]=f.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:t.buffer[i]}):e},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var f=u.regex.hrspre.test(n);return r||f||!(f=u.regex.hrs.test("0"+n))?f:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var f=u.regex.mspre.test(n);return r||f||!(f=u.regex.ms.test("0"+n))?f:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(n,t,i,r,u){return u.regex.ampm.test(n+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i){var u=n(this),r;i.ctrlKey&&i.keyCode===t.keyCode.RIGHT&&(r=new Date,u.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),u.trigger("setvalue"))}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|1[012])"+i+"[0-3])")},val2:function(n){var i=t.escapeRegex.call(this,n);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+i+"30)|((0[1-6])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),t}(jQuery,Inputmask),function(n,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(n,t,i){return i-1>-1&&"."!==t.buffer[i-1]?(n=t.buffer[i-1]+n,n=i-2>-1&&"."!==t.buffer[i-2]?t.buffer[i-2]+n:"0"+n):n="00"+n,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(n)},cardinality:1}},onUnMask:function(n){return n}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}[.-{1,63}][.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(n){return n=n.toLowerCase(),n.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(n){return n}},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t}(jQuery,Inputmask),function(n,t){return t.extendAliases({numeric:{mask:function(n){function r(t){for(var r="",i=0;i<t.length;i++)r+=n.definitions[t.charAt(i)]||n.optionalmarker.start===t.charAt(i)||n.optionalmarker.end===t.charAt(i)||n.quantifiermarker.start===t.charAt(i)||n.quantifiermarker.end===t.charAt(i)||n.groupmarker.start===t.charAt(i)||n.groupmarker.end===t.charAt(i)||n.alternatormarker===t.charAt(i)?"\\"+t.charAt(i):t.charAt(i);return r}var i,u,t;return(0!==n.repeat&&isNaN(n.integerDigits)&&(n.integerDigits=n.repeat),n.repeat=0,n.groupSeparator===n.radixPoint&&(n.groupSeparator="."===n.radixPoint?",":","===n.radixPoint?".":"")," "===n.groupSeparator&&(n.skipOptionalPartCharacter=void 0),n.autoGroup=n.autoGroup&&""!==n.groupSeparator,n.autoGroup&&("string"==typeof n.groupSize&&isFinite(n.groupSize)&&(n.groupSize=parseInt(n.groupSize)),isFinite(n.integerDigits)))&&(i=Math.floor(n.integerDigits/n.groupSize),u=n.integerDigits%n.groupSize,n.integerDigits=parseInt(n.integerDigits)+(0===u?i-1:i),n.integerDigits<1&&(n.integerDigits="*")),n.placeholder.length>1&&(n.placeholder=n.placeholder.charAt(0)),n.radixFocus=n.radixFocus&&""!==n.placeholder&&n.integerOptional===!0,n.definitions[";"]=n.definitions["~"],n.definitions[";"].definitionSymbol="~",n.numericInput===!0&&(n.radixFocus=!1,n.digitsOptional=!1,isNaN(n.digits)&&(n.digits=2),n.decimalProtect=!1),t=r(n.prefix),t+="[+]",t+=n.integerOptional===!0?"~{1,"+n.integerDigits+"}":"~{"+n.integerDigits+"}",void 0!==n.digits&&(isNaN(n.digits)||parseInt(n.digits)>0)&&(n.decimalProtect&&(n.radixPointDefinitionSymbol=":"),t+=n.digitsOptional?"["+(n.decimalProtect?":":n.radixPoint)+";{1,"+n.digits+"}]":(n.decimalProtect?":":n.radixPoint)+";{"+n.digits+"}"),t+="[-]",t+=r(n.suffix),n.greedy=!1,t},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,r,u){var o,h,v,f,p,w,a,y,e;u.numericInput===!0&&(i=i.reverse(),isFinite(r)&&(r=i.join("").length-r-1));v=!1;i.length>=u.suffix.length&&i.join("").indexOf(u.suffix)===i.length-u.suffix.length&&(i.length=i.length-u.suffix.length,v=!0);r=r>=i.length?i.length-1:r<u.prefix.length?u.prefix.length:r;var c=!1,s=i[r],l=i.slice();if(s===u.groupSeparator&&(l.splice(r--,1),s=l[r]),s!==u.radixPoint&&s!==u.negationSymbol.front&&s!==u.negationSymbol.back&&(l[r]="?"),f=l.join(""),p=f,f.length>0&&u.autoGroup||-1!==f.indexOf(u.groupSeparator)){if(w=t.escapeRegex(u.groupSeparator),c=0===f.indexOf(u.groupSeparator),f=f.replace(new RegExp(w,"g"),""),a=f.split(u.radixPoint),f=""===u.radixPoint?f:a[0],f!==u.prefix+"?0"&&f.length>=u.groupSize+u.prefix.length)for(y=new RegExp("([-+]?[\\d?]+)([\\d?]{"+u.groupSize+"})");y.test(f)&&""!==u.groupSeparator;)f=f.replace(y,"$1"+u.groupSeparator+"$2"),f=f.replace(u.groupSeparator+u.groupSeparator,u.groupSeparator);""!==u.radixPoint&&a.length>1&&(f+=u.radixPoint+a[1])}for(c=p!==f,i.length=f.length,o=0,h=f.length;h>o;o++)i[o]=f.charAt(o);if(e=n.inArray("?",i),-1===e&&(e=n.inArray(s,i)),i[e]=s,!c&&v)for(o=0,h=u.suffix.length;h>o;o++)i.push(u.suffix.charAt(o));return e=u.numericInput&&isFinite(r)?i.join("").length-e-1:e,u.numericInput&&(i=i.reverse(),n.inArray(u.radixPoint,i)<e&&i.join("").length-u.suffix.length!==e&&(e-=1)),{pos:e,refreshFromBuffer:c,buffer:i}},onBeforeWrite:function(i,r,u,f){var o,a,e,h,c,y,l,v,s;if(i&&("blur"===i.type||"checkval"===i.type||"keydown"===i.type)&&(a=f.numericInput?r.slice().reverse().join(""):r.join(""),e=a.replace(f.prefix,""),e=e.replace(f.suffix,""),e=e.replace(new RegExp(t.escapeRegex(f.groupSeparator),"g"),""),","===f.radixPoint&&(e=e.replace(f.radixPoint,".")),h=e.match(new RegExp("[-"+t.escapeRegex(f.negationSymbol.front)+"]","g")),h=null!==h&&1===h.length,e=e.replace(new RegExp("[-"+t.escapeRegex(f.negationSymbol.front)+"]","g"),""),e=e.replace(new RegExp(t.escapeRegex(f.negationSymbol.back)+"$"),""),e=e===f.negationSymbol.front?e+"0":e,""!==e&&isFinite(e))){if(c=parseFloat(e),y=h?-1*c:c,null!==f.min&&isFinite(f.min)&&y<parseFloat(f.min)?(c=Math.abs(f.min),h=f.min<0):null!==f.max&&isFinite(f.max)&&y>parseFloat(f.max)&&(c=Math.abs(f.max),h=f.max<0),e=c.toString().replace(".",f.radixPoint).split(""),isFinite(f.digits)){for(l=n.inArray(f.radixPoint,e),v=n.inArray(f.radixPoint,a),-1===l&&(e.push(f.radixPoint),l=e.length-1),s=1;s<=f.digits;s++)f.digitsOptional||void 0!==e[l+s]&&e[l+s]!==f.placeholder.charAt(0)?-1!==v&&void 0!==a[v+s]&&(e[l+s]=e[l+s]||a[v+s]):e[l+s]="0";e[e.length-1]===f.radixPoint&&delete e[e.length-1]}if(c.toString()!==e&&c.toString()+"."!==e||h)return!h||0===c&&"blur"===i.type||(e.unshift(f.negationSymbol.front),e.push(f.negationSymbol.back)),e=(f.prefix+e.join("")).split(""),f.numericInput&&(e=e.reverse()),o=f.postFormat(e,f.numericInput?u:u-1,f),o.buffer&&(o.refreshFromBuffer=o.buffer.join("")!==r.join("")),o}if(f.autoGroup)return(o=f.postFormat(r,f.numericInput?u:u-1,f),o.caret=u<=f.prefix.length?o.pos:o.pos+1,o)},regex:{integerPart:function(n){return new RegExp("["+t.escapeRegex(n.negationSymbol.front)+"+]?\\d+")},integerNPart:function(n){return new RegExp("[\\d"+t.escapeRegex(n.groupSeparator)+t.escapeRegex(n.placeholder.charAt(0))+"]+")}},signHandler:function(n,t,i,r,u){if(!r&&u.allowMinus&&"-"===n||u.allowPlus&&"+"===n){var f=t.buffer.join("").match(u.regex.integerPart(u));if(f&&f[0].length>0)return t.buffer[f.index]===("-"===n?"+":u.negationSymbol.front)?"-"===n?""!==u.negationSymbol.back?{pos:f.index,c:u.negationSymbol.front,remove:f.index,caret:i,insert:{pos:t.buffer.length-u.suffix.length-1,c:u.negationSymbol.back}}:{pos:f.index,c:u.negationSymbol.front,remove:f.index,caret:i}:""!==u.negationSymbol.back?{pos:f.index,c:"+",remove:[f.index,t.buffer.length-u.suffix.length-1],caret:i}:{pos:f.index,c:"+",remove:f.index,caret:i}:t.buffer[f.index]===("-"===n?u.negationSymbol.front:"+")?"-"===n&&""!==u.negationSymbol.back?{remove:[f.index,t.buffer.length-u.suffix.length-1],caret:i-1}:{remove:f.index,caret:i-1}:"-"===n?""!==u.negationSymbol.back?{pos:f.index,c:u.negationSymbol.front,caret:i+1,insert:{pos:t.buffer.length-u.suffix.length,c:u.negationSymbol.back}}:{pos:f.index,c:u.negationSymbol.front,caret:i+1}:{pos:f.index,c:n,caret:i+1}}return!1},radixHandler:function(t,i,r,u,f){if(!u&&f.numericInput!==!0&&t===f.radixPoint&&void 0!==f.digits&&(isNaN(f.digits)||parseInt(f.digits)>0)){var o=n.inArray(f.radixPoint,i.buffer),e=i.buffer.join("").match(f.regex.integerPart(f));if(-1!==o&&i.validPositions[o])return i.validPositions[o-1]?{caret:o+1}:{pos:e.index,c:e[0],caret:o+1};if(!e||"0"===e[0]&&e.index+1!==r)return i.buffer[e?e.index:r]="0",{pos:(e?e.index:r)+1,c:f.radixPoint}}return!1},leadingZeroHandler:function(t,i,r,u,f,e){var h,c,s,o,l;if(!u)if(f.numericInput===!0){if(h=i.buffer.slice("").reverse(),c=h[f.prefix.length],"0"===c)return{pos:r,remove:h.length-f.prefix.length-1}}else if(s=n.inArray(f.radixPoint,i.buffer),o=i.buffer.slice(0,-1!==s?s:void 0).join("").match(f.regex.integerNPart(f)),o&&(-1===s||s>=r)){if(l=-1===s?0:parseInt(i.buffer.slice(s+1).join("")),0===o[0].indexOf(""!==f.placeholder?f.placeholder.charAt(0):"0")&&(o.index+1===r||e!==!0&&0===l))return i.buffer.splice(o.index,1),r=o.index,{pos:r,remove:o.index};if("0"===t&&r<=o.index&&o[0]!==f.groupSeparator)return!1}return!0},definitions:{"~":{validator:function(i,r,u,f,e,o){var s=e.signHandler(i,r,u,f,e),h;return s||(s=e.radixHandler(i,r,u,f,e),s||(s=f?new RegExp("[0-9"+t.escapeRegex(e.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),s!==!0||(s=e.leadingZeroHandler(i,r,u,f,e,o),s!==!0)))||(h=n.inArray(e.radixPoint,r.buffer),s=-1!==h&&(e.digitsOptional===!1||r.validPositions[u])&&e.numericInput!==!0&&u>h&&!f?{pos:u,remove:u}:{pos:u}),s},cardinality:1},"+":{validator:function(n,t,i,r,u){var f=u.signHandler(n,t,i,r,u);return!f&&(r&&u.allowMinus&&n===u.negationSymbol.front||u.allowMinus&&"-"===n||u.allowPlus&&"+"===n)&&(f=r||"-"!==n?!0:""!==u.negationSymbol.back?{pos:i,c:"-"===n?u.negationSymbol.front:"+",caret:i+1,insert:{pos:t.buffer.length,c:u.negationSymbol.back}}:{pos:i,c:"-"===n?u.negationSymbol.front:"+",caret:i+1}),f},cardinality:1,placeholder:""},"-":{validator:function(n,t,i,r,u){var f=u.signHandler(n,t,i,r,u);return!f&&r&&u.allowMinus&&n===u.negationSymbol.back&&(f=!0),f},cardinality:1,placeholder:""},":":{validator:function(n,i,r,u,f){var e=f.signHandler(n,i,r,u,f),o;return e||(o="["+t.escapeRegex(f.radixPoint)+"]",e=new RegExp(o).test(n),e&&i.validPositions[r]&&i.validPositions[r].match.placeholder===f.radixPoint&&(e={caret:r+1})),e?{c:f.radixPoint}:e},cardinality:1,placeholder:function(n){return n.radixPoint}}},onUnMask:function(n,i,r){var u=n.replace(r.prefix,"");return u=u.replace(r.suffix,""),u=u.replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),r.unmaskAsNumber?(""!==r.radixPoint&&-1!==u.indexOf(r.radixPoint)&&(u=u.replace(t.escapeRegex.call(this,r.radixPoint),".")),Number(u)):u},isComplete:function(n,i){var u=n.join(""),f=n.slice(),r;return(i.postFormat(f,0,i),f.join("")!==u)?!1:(r=u.replace(i.prefix,""),r=r.replace(i.suffix,""),r=r.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(t.escapeRegex(i.radixPoint),".")),isFinite(r))},onBeforeMask:function(n,i){var r,u,e,o,f;return""!==i.radixPoint&&isFinite(n)?n=n.toString().replace(".",i.radixPoint):(r=n.match(/,/g),u=n.match(/\./g),u&&r?u.length>r.length?(n=n.replace(/\./g,""),n=n.replace(",",i.radixPoint)):r.length>u.length?(n=n.replace(/,/g,""),n=n.replace(".",i.radixPoint)):n=n.indexOf(".")<n.indexOf(",")?n.replace(/\./g,""):n=n.replace(/,/g,""):n=n.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),"")),(0===i.digits&&(-1!==n.indexOf(".")?n=n.substring(0,n.indexOf(".")):-1!==n.indexOf(",")&&(n=n.substring(0,n.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==n.indexOf(i.radixPoint))&&(e=n.split(i.radixPoint),o=e[1].match(new RegExp("\\d*"))[0],parseInt(i.digits)<o.toString().length&&(f=Math.pow(10,parseInt(i.digits)),n=n.replace(t.escapeRegex(i.radixPoint),"."),n=Math.round(parseFloat(n)*f)/f,n=n.toString().replace(".",i.radixPoint))),n.toString()},canClearPosition:function(n,t,i,r,u){var f=n.validPositions[t].input;return f!==u.radixPoint||null!==n.validPositions[t].match.fn&&u.decimalProtect===!1||isFinite(f)||t===i||f===u.groupSeparator||f===u.negationSymbol.front||f===u.negationSymbol.back},onKeyDown:function(i,r,u,f){var e=n(this);if(i.ctrlKey)switch(i.keyCode){case t.keyCode.UP:e.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(f.step));e.trigger("setvalue");break;case t.keyCode.DOWN:e.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(f.step));e.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),t}(jQuery,Inputmask),function(n,t){return t.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(t){if(void 0===t.phoneCodeCache[t.url]){var i=[];t.definitions["#"]=t.definitions[9];n.ajax({url:t.url,async:!1,type:"get",dataType:"json",success:function(n){i=n},error:function(n,i,r){alert(r+" - "+t.url)}});t.phoneCodeCache[t.url]=i.sort(function(n,t){return(n.mask||n)<(t.mask||t)?-1:1})}return t.phoneCodeCache[t.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(n,t){var i=n.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(t.countrycode)>1||-1===i.indexOf(t.countrycode))&&(i="+"+t.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),t}(jQuery,Inputmask),function(n,t){return t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(n,t){return new RegExp(t.regex).test(n.join(""))},definitions:{r:{validator:function(t,i,r,u,f){function h(n,t){this.matches=[];this.isGroup=n||!1;this.isQuantifier=t||!1;this.quantifier={min:1,max:1};this.repeaterPart=void 0}function w(){var n,i,r=new h,t=[],e,s;for(f.regexTokens=[];n=f.tokenizer.exec(f.regex);)switch(i=n[0],i.charAt(0)){case"(":t.push(new h(!0));break;case")":o=t.pop();t.length>0?t[t.length-1].matches.push(o):r.matches.push(o);break;case"{":case"+":case"*":e=new h(!1,!0);i=i.replace(/[{}]/g,"");var u=i.split(","),c=isNaN(u[0])?u[0]:parseInt(u[0]),l=1===u.length?c:isNaN(u[1])?u[1]:parseInt(u[1]);(e.quantifier={min:c,max:l},t.length>0)?(s=t[t.length-1].matches,n=s.pop(),n.isGroup||(o=new h(!0),o.matches.push(n),n=o),s.push(n),s.push(e)):(n=r.matches.pop(),n.isGroup||(o=new h(!0),o.matches.push(n),n=o),r.matches.push(n),r.matches.push(e));break;default:t.length>0?t[t.length-1].matches.push(i):r.matches.push(i)}r.matches.length>0&&f.regexTokens.push(r)}function s(t,i){var u=!1,l,r,w,k,v,f,h,d,o,y;for(i&&(e+="(",c++),l=0;l<t.matches.length;l++){if(r=t.matches[l],r.isGroup===!0)u=s(r,!0);else if(r.isQuantifier===!0){var g=n.inArray(r,t.matches),p=t.matches[g-1],b=e;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==e&&r.repeaterPart.length>e.length&&!(u=s(p,!0)););u=u||s(p,!0);u&&(r.repeaterPart=e);e=b+r.quantifier.max}else{for(w=0,k=r.quantifier.max-1;k>w&&!(u=s(p,!0));w++);e=b+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(v=0;v<r.length&&!(u=s(r[v],i));v++);else{if("["==r.charAt(0)){for(f=e,f+=r,o=0;c>o;o++)f+=")";y=new RegExp("^("+f+")$");u=y.test(a)}else for(h=0,d=r.length;d>h;h++)if("\\"!==r.charAt(h)){for(f=e,f+=r.substr(0,h+1),f=f.replace(/\|$/,""),o=0;c>o;o++)f+=")";if(y=new RegExp("^("+f+")$"),u=y.test(a))break}e+=r}if(u)break}return i&&(e+=")",c--),u}var a,o,y=i.buffer.slice(),e="",p=!1,c=0,l,v;for(null===f.regexTokens&&w(),y.splice(r,0,t),a=y.join(""),l=0;l<f.regexTokens.length;l++)if(v=f.regexTokens[l],p=s(v,v.isGroup))break;return p},cardinality:1}}}}),t}(jQuery,Inputmask);
/*
 * jQuery MiniColors: A tiny color picker built on jQuery
 *
 * Copyright: Cory LaViska for A Beautiful Site, LLC
 *
 * Contributions and bug reports: https://github.com/claviska/jquery-minicolors
 *
 * @license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(n){function v(t,i){var r=n('<div class="minicolors" />'),u=n.minicolors.defaults;t.data("minicolors-initialized")||(i=n.extend(!0,{},u,i),r.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",i.dataUris!==!0),void 0!==i.position&&n.each(i.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"><\/div><div class="minicolors-picker"><div><\/div><\/div><\/div><\/div>'),i.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"><\/span><\/span>'),t.next(".minicolors-swatch").on("click",function(n){n.preventDefault();t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&t.parent().addClass("minicolors-inline"),f(t,!1),t.data("minicolors-initialized",!0))}function h(n){var t=n.parent();n.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");t.before(n).remove()}function o(n){var t=n.parent(),r=t.find(".minicolors-panel"),i=n.data("minicolors-settings");!n.data("minicolors-initialized")||n.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(u(),t.addClass("minicolors-focus"),r.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(n.get(0))}))}function u(){n(".minicolors-focus").each(function(){var t=n(this),r=t.find(".minicolors-input"),u=t.find(".minicolors-panel"),i=r.data("minicolors-settings");u.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(r.get(0));t.removeClass("minicolors-focus")})})}function c(n,t,i){var s=n.parents(".minicolors").find(".minicolors-input"),h=s.data("minicolors-settings"),c=n.find("[class$=-picker]"),v=n.offset().left,y=n.offset().top,u=Math.round(t.pageX-v),r=Math.round(t.pageY-y),p=i?h.animationSpeed:0,e,o,a,f;t.originalEvent.changedTouches&&(u=t.originalEvent.changedTouches[0].pageX-v,r=t.originalEvent.changedTouches[0].pageY-y);0>u&&(u=0);0>r&&(r=0);u>n.width()&&(u=n.width());r>n.height()&&(r=n.height());n.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(e=75-u,o=75-r,a=Math.sqrt(e*e+o*o),f=Math.atan2(o,e),0>f&&(f+=2*Math.PI),a>75&&(a=75,u=75-75*Math.cos(f),r=75-75*Math.sin(f)),u=Math.round(u),r=Math.round(r));n.is(".minicolors-grid")?c.stop(!0).animate({top:r+"px",left:u+"px"},p,h.animationEasing,function(){l(s,n)}):c.stop(!0).animate({top:r+"px"},p,h.animationEasing,function(){l(s,n)})}function l(n,r){function nt(n,t){var i,r;return n.length&&t?(i=n.offset().left,r=n.offset().top,{x:i-t.offset().left+n.outerWidth()/2,y:r-t.offset().top+n.outerHeight()/2}):null}var u,f,s,p,w,b,v,l=n.val(),k=n.attr("data-opacity"),y=n.parent(),d=n.data("minicolors-settings"),it=y.find(".minicolors-swatch"),o=y.find(".minicolors-grid"),c=y.find(".minicolors-slider"),tt=y.find(".minicolors-opacity-slider"),rt=o.find("[class$=-picker]"),ut=c.find("[class$=-picker]"),ft=tt.find("[class$=-picker]"),h=nt(rt,o),g=nt(ut,c),et=nt(ft,tt);if(r.is(".minicolors-grid, .minicolors-slider")){switch(d.control){case"wheel":p=o.width()/2-h.x;w=o.height()/2-h.y;b=Math.sqrt(p*p+w*w);v=Math.atan2(w,p);0>v&&(v+=2*Math.PI);b>75&&(b=75,h.x=69-75*Math.cos(v),h.y=69-75*Math.sin(v));f=t(b/.75,0,100);u=t(180*v/Math.PI,0,360);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));break;case"saturation":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(g.y*(100/c.height())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:100,b:s}));y.find(".minicolors-grid-inner").css("opacity",f/100);break;case"brightness":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(h.y*(100/o.height())),0,100);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:u=t(360-parseInt(g.y*(360/c.height()),10),0,360);f=t(Math.floor(h.x*(100/o.width())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});o.css("backgroundColor",i({h:u,s:100,b:100}))}n.val(e(l,d.letterCase))}r.is(".minicolors-opacity-slider")&&(k=d.opacity?parseFloat(1-et.y/tt.height()).toFixed(2):1,d.opacity&&n.attr("data-opacity",k));it.find("SPAN").css({backgroundColor:l,opacity:k});a(n,l,k)}function f(n,u){var c,f,v,l,o,g,nt,y=n.parent(),p=n.data("minicolors-settings"),tt=y.find(".minicolors-swatch"),s=y.find(".minicolors-grid"),h=y.find(".minicolors-slider"),w=y.find(".minicolors-opacity-slider"),b=s.find("[class$=-picker]"),d=h.find("[class$=-picker]"),it=w.find("[class$=-picker]");switch(c=e(r(n.val(),!0),p.letterCase),c||(c=e(r(p.defaultValue,!0),p.letterCase)),f=k(c),u||n.val(c),p.opacity&&(v=""===n.attr("data-opacity")?1:t(parseFloat(n.attr("data-opacity")).toFixed(2),0,1),isNaN(v)&&(v=1),n.attr("data-opacity",v),tt.find("SPAN").css("opacity",v),o=t(w.height()-w.height()*v,0,w.height()),it.css("top",o+"px")),tt.find("SPAN").css("backgroundColor",c),p.control){case"wheel":g=t(Math.ceil(.75*f.s),0,s.height()/2);nt=f.h*Math.PI/180;l=t(75-Math.cos(nt)*g,0,s.width());o=t(75-Math.sin(nt)*g,0,s.height());b.css({top:o+"px",left:l+"px"});o=150-f.b/(100/s.height());""===c&&(o=0);d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));break;case"saturation":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.s*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:100,b:f.b}));y.find(".minicolors-grid-inner").css("opacity",f.s/100);break;case"brightness":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.s/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.b*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-f.b/100);break;default:l=t(Math.ceil(f.s/(100/s.width())),0,s.width());o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.h/(360/h.height()),0,h.height());d.css("top",o+"px");s.css("backgroundColor",i({h:f.h,s:100,b:100}))}n.data("minicolors-initialized")&&a(n,c,v)}function a(n,t,i){var r=n.data("minicolors-settings"),u=n.data("minicolors-lastChange");u&&u.hex===t&&u.opacity===i||(n.data("minicolors-lastChange",{hex:t,opacity:i}),r.change&&(r.changeDelay?(clearTimeout(n.data("minicolors-changeTimeout")),n.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(n.get(0),t,i)},r.changeDelay))):r.change.call(n.get(0),t,i)),n.trigger("change").trigger("input"))}function y(t){var f=r(n(t).val(),!0),i=s(f),u=n(t).attr("data-opacity");return i?(void 0!==u&&n.extend(i,{a:parseFloat(u)}),i):null}function p(t,i){var e=r(n(t).val(),!0),u=s(e),f=n(t).attr("data-opacity");return u?(void 0===f&&(f=1),i?"rgba("+u.r+", "+u.g+", "+u.b+", "+parseFloat(f)+")":"rgb("+u.r+", "+u.g+", "+u.b+")"):null}function e(n,t){return"uppercase"===t?n.toUpperCase():n.toLowerCase()}function r(n,t){return n=n.replace(/[^A-F0-9]/gi,""),3!==n.length&&6!==n.length?"":(3===n.length&&t&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"#"+n)}function t(n,t,i){return t>n&&(n=t),n>i&&(n=i),n}function w(n){var t={},u=Math.round(n.h),o=Math.round(255*n.s/100),e=Math.round(255*n.b/100);if(0===o)t.r=t.g=t.b=e;else{var i=e,r=(255-o)*e/255,f=(i-r)*(u%60)/60;360===u&&(u=0);60>u?(t.r=i,t.b=r,t.g=r+f):120>u?(t.g=i,t.b=r,t.r=i-f):180>u?(t.g=i,t.r=r,t.b=r+f):240>u?(t.b=i,t.r=r,t.g=i-f):300>u?(t.b=i,t.g=r,t.r=r+f):360>u?(t.r=i,t.g=r,t.b=i-f):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(i,function(n,t){1===t.length&&(i[n]="0"+t)}),"#"+i.join("")}function i(n){return b(w(n))}function k(n){var t=d(s(n));return 0===t.s&&(t.h=360),t}function d(n){var t={h:0,s:0,b:0},u=Math.min(n.r,n.g,n.b),i=Math.max(n.r,n.g,n.b),r=i-u;return t.b=i,t.s=0!==i?255*r/i:0,t.h=0!==t.s?n.r===i?(n.g-n.b)/r:n.g===i?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function s(n){return n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16),{r:n>>16,g:(65280&n)>>8,b:255&n}}n.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}};n.extend(n.fn,{minicolors:function(t,i){switch(t){case"destroy":return n(this).each(function(){h(n(this))}),n(this);case"hide":return u(),n(this);case"opacity":return void 0===i?n(this).attr("data-opacity"):(n(this).each(function(){f(n(this).attr("data-opacity",i))}),n(this));case"rgbObject":return y(n(this),"rgbaObject"===t);case"rgbString":case"rgbaString":return p(n(this),"rgbaString"===t);case"settings":return void 0===i?n(this).data("minicolors-settings"):(n(this).each(function(){var t=n(this).data("minicolors-settings")||{};h(n(this));n(this).minicolors(n.extend(!0,t,i))}),n(this));case"show":return o(n(this).eq(0)),n(this);case"value":return void 0===i?n(this).val():(n(this).each(function(){f(n(this).val(i))}),n(this));default:return"create"!==t&&(i=t),n(this).each(function(){v(n(this),i)}),n(this)}}});n(document).on("mousedown.minicolors touchstart.minicolors",function(t){n(t.target).parents().add(t.target).hasClass("minicolors")||u()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=n(this);t.preventDefault();n(document).data("minicolors-target",i);c(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=n(document).data("minicolors-target");i&&c(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){n(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var i=n(this).parent().find(".minicolors-input");t.preventDefault();o(i)}).on("focus.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&o(t)}).on("blur.minicolors",".minicolors-input",function(){var t=n(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(r(t.val(),!0)),""===t.val()&&t.val(r(i.defaultValue,!0)),t.val(e(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=n(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:u();break;case 13:case 27:u();i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&f(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&setTimeout(function(){f(t,!0)},1)})}(jQuery);
/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(n){var t=function(t,i){t=n(t);var f=this,u=n.extend({},n.fn.bootstrapWizard.defaults,i),e=null,r=null;if(this.rebindClick=function(n,t){n.unbind("click",t).bind("click",t)},this.fixNavigationButtons=function(){return e.length||(r.find("a:first").tab("show"),e=r.find('li:has([data-toggle="tab"]):first')),n(u.previousSelector,t).toggleClass("disabled",f.firstIndex()>=f.currentIndex()),n(u.nextSelector,t).toggleClass("disabled",f.currentIndex()>=f.navigationLength()),f.rebindClick(n(u.nextSelector,t),f.next),f.rebindClick(n(u.previousSelector,t),f.previous),f.rebindClick(n(u.lastSelector,t),f.last),f.rebindClick(n(u.firstSelector,t),f.first),u.onTabShow&&"function"==typeof u.onTabShow&&!1===u.onTabShow(e,r,f.currentIndex())?!1:void 0},this.next=function(){if(t.hasClass("last")||u.onNext&&"function"==typeof u.onNext&&!1===u.onNext(e,r,f.nextIndex()))return!1;$index=f.nextIndex();$index>f.navigationLength()||r.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show")},this.previous=function(){if(t.hasClass("first")||u.onPrevious&&"function"==typeof u.onPrevious&&!1===u.onPrevious(e,r,f.previousIndex()))return!1;$index=f.previousIndex();0>$index||r.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show")},this.first=function(){if(u.onFirst&&"function"==typeof u.onFirst&&!1===u.onFirst(e,r,f.firstIndex())||t.hasClass("disabled"))return!1;r.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(){if(u.onLast&&"function"==typeof u.onLast&&!1===u.onLast(e,r,f.lastIndex())||t.hasClass("disabled"))return!1;r.find('li:has([data-toggle="tab"]):eq('+f.navigationLength()+") a").tab("show")},this.currentIndex=function(){return r.find('li:has([data-toggle="tab"])').index(e)},this.firstIndex=function(){return 0},this.lastIndex=function(){return f.navigationLength()},this.getIndex=function(n){return r.find('li:has([data-toggle="tab"])').index(n)},this.nextIndex=function(){return r.find('li:has([data-toggle="tab"])').index(e)+1},this.previousIndex=function(){return r.find('li:has([data-toggle="tab"])').index(e)-1},this.navigationLength=function(){return r.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return e},this.nextTab=function(){return r.find('li:has([data-toggle="tab"]):eq('+(f.currentIndex()+1)+")").length?r.find('li:has([data-toggle="tab"]):eq('+(f.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=f.currentIndex()?null:r.find('li:has([data-toggle="tab"]):eq('+parseInt(f.currentIndex()-1)+")")},this.show=function(n){return t.find('li:has([data-toggle="tab"]):eq('+n+") a").tab("show")},this.disable=function(n){r.find('li:has([data-toggle="tab"]):eq('+n+")").addClass("disabled")},this.enable=function(n){r.find('li:has([data-toggle="tab"]):eq('+n+")").removeClass("disabled")},this.hide=function(n){r.find('li:has([data-toggle="tab"]):eq('+n+")").hide()},this.display=function(n){r.find('li:has([data-toggle="tab"]):eq('+n+")").show()},this.remove=function(t){var i="undefined"!=typeof t[1]?t[1]:!1;t=r.find('li:has([data-toggle="tab"]):eq('+t[0]+")");i&&(i=t.find("a").attr("href"),n(i).remove());t.remove()},r=t.find("ul:first",t),e=r.find('li:has([data-toggle="tab"]).active',t),r.hasClass(u.tabClass)||r.addClass(u.tabClass),u.onInit&&"function"==typeof u.onInit)u.onInit(e,r,0);if(u.onShow&&"function"==typeof u.onShow)u.onShow(e,r,f.nextIndex());f.fixNavigationButtons();n('a[data-toggle="tab"]',r).on("click",function(t){return t=r.find('li:has([data-toggle="tab"])').index(n(t.currentTarget).parent('li:has([data-toggle="tab"])')),u.onTabClick&&"function"==typeof u.onTabClick&&!1===u.onTabClick(e,r,f.currentIndex(),t)?!1:void 0});n('a[data-toggle="tab"]',r).on("shown shown.bs.tab",function(t){if($element=n(t.target).parent(),t=r.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||u.onTabChange&&"function"==typeof u.onTabChange&&!1===u.onTabChange(e,r,f.currentIndex(),t))return!1;e=$element;f.fixNavigationButtons()})};n.fn.bootstrapWizard=function(i){if("string"==typeof i){var r=Array.prototype.slice.call(arguments,1);return 1===r.length&&r.toString(),this.data("bootstrapWizard")[i](r)}return this.each(function(r){if(r=n(this),!r.data("bootstrapWizard")){var u=new t(r,i);r.data("bootstrapWizard",u)}})};n.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);
/*!
 * Select2 4.0.3
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n){var t=function(){var t;n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};
/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
var n,i,r;(function(t){function e(n,t){return k.call(n,t)}function l(n,t){var o,s,r,u,h,y,c,b,i,l,w,e=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&n.charAt(0)===".")if(t){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&p.test(n[h])&&(n[h]=n[h].replace(p,"")),n=e.slice(0,e.length-1).concat(n),i=0;i<n.length;i+=1)if(w=n[i],w===".")n.splice(i,1),i-=1;else if(w==="..")if(i===1&&(n[2]===".."||n[0]===".."))break;else i>0&&(n.splice(i-1,2),i-=2);n=n.join("/")}else n.indexOf("./")===0&&(n=n.substring(2));if((e||v)&&a){for(o=n.split("/"),i=o.length;i>0;i-=1){if(s=o.slice(0,i).join("/"),e)for(l=e.length;l>0;l-=1)if(r=a[e.slice(0,l).join("/")],r&&(r=r[s],r)){u=r;y=i;break}if(u)break;!c&&v&&v[s]&&(c=v[s],b=i)}!u&&c&&(u=c,y=b);u&&(o.splice(0,y,u),n=o.join("/"))}return n}function w(n,i){return function(){var r=d.call(arguments,0);return typeof r[0]!="string"&&r.length===1&&r.push(null),o.apply(t,r.concat([n,i]))}}function g(n){return function(t){return l(t,n)}}function nt(n){return function(t){u[n]=t}}function a(n){if(e(h,n)){var i=h[n];delete h[n];y[n]=!0;c.apply(t,i)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function b(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function tt(n){return function(){return f&&f.config&&f.config[n]||{}}}var c,o,v,s,u={},h={},f={},y={},k=Object.prototype.hasOwnProperty,d=[].slice,p=/\.js$/;v=function(n,t){var r,u=b(n),i=u[0];return n=u[1],i&&(i=l(i,t),r=a(i)),i?n=r&&r.normalize?r.normalize(n,g(t)):l(n,t):(n=l(n,t),u=b(n),i=u[0],n=u[1],i&&(r=a(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return w(n)},exports:function(n){var t=u[n];return typeof t!="undefined"?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:tt(n)}}};c=function(n,i,r,f){var p,o,k,b,c,l=[],d=typeof r,g;if(f=f||n,d==="undefined"||d==="function"){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(b=v(i[c],f),o=b.f,o==="require")l[c]=s.require(n);else if(o==="exports")l[c]=s.exports(n),g=!0;else if(o==="module")p=l[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))l[c]=a(o);else if(b.p)b.p.load(b.n,w(f,!0),nt(o),{}),l[c]=u[o];else throw new Error(n+" missing "+o);k=r?r.apply(u[n],l):undefined;n&&(p&&p.exports!==t&&p.exports!==u[n]?u[n]=p.exports:k===t&&g||(u[n]=k))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if(typeof n=="string")return s[n]?s[n](i):a(v(n,i).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},typeof r=="function"&&(r=u,u=e),u?c(t,n,i,r):setTimeout(function(){c(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){if(typeof n!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}})();t.requirejs=n;t.require=i;t.define=r}}();t.define("almond",function(){});t.define("jquery",[],function(){var t=n||$;return t==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t});t.define("select2/utils",["jquery"],function(n){function r(n){var i=n.prototype,r=[],t,u;for(t in i)(u=i[t],typeof u=="function")&&t!=="constructor"&&r.push(t);return r}var t={},i;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty;for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=r(t),h=r(n),u,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,u=0;u<h.length;u++)e=h[u],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){var n=Array.prototype.unshift;return n.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};t==null&&(t=[]);t.length===0&&t.push({});t[0]._type=n;n in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var r,t="",i=0;i<n;i++)r=Math.floor(Math.random()*36),t+=r.toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,r.length!==1){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return f===r&&(r==="hidden"||r==="visible")?!1:f==="scroll"||r==="scroll"?!0:u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof n!="string"?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if(n.fn.jquery.substr(0,3)==="1.7"){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t});t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="tree"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],n.results==null||n.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){var i=t.find(".select2-results");i.append(n)},i.prototype.sort=function(n){var t=this.options.get("sorter");return t(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var r=n.map(i,function(n){return n.id.toString()}),u=t.$results.find(".select2-results__option[aria-selected]");u.each(function(){var i=n(this),t=n.data(this,"data"),u=""+t.id;t.element!=null&&t.element.selected||t.element==null&&n.inArray(u,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var r=document.createElement("li"),i,e,c,o,u,v,s,f,l,a,h;r.className="select2-results__option";i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true");t.id==null&&delete i["aria-selected"];t._resultId!=null&&(r.id=t._resultId);t.title&&(r.title=t.title);t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(e in i)c=i[e],r.setAttribute(e,c);if(t.children){for(o=n(r),u=document.createElement("strong"),u.className="select2-results__group",v=n(u),this.template(t,u),s=[],f=0;f<t.children.length;f++)l=t.children[f],a=this.option(l),s.push(a);h=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(s);o.append(u);o.append(h)}else this.template(t,r);return n.data(r,"data",t),r},i.prototype.bind=function(t){var i=this,r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(n){i.clear();i.append(n.data);t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("results:append",function(n){i.append(n.data);t.isOpen()&&i.setClasses()});t.on("query",function(n){i.hideMessages();i.showLoading(n)});t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("open",function(){i.$results.attr("aria-expanded","true");i.$results.attr("aria-hidden","false");i.setClasses();i.ensureHighlightVisible()});t.on("close",function(){i.$results.attr("aria-expanded","false");i.$results.attr("aria-hidden","true");i.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var n=i.getHighlightedResults();n.length!==0&&n.trigger("mouseup")});t.on("results:select",function(){var n=i.getHighlightedResults(),t;n.length!==0&&(t=n.data("data"),n.attr("aria-selected")=="true"?i.trigger("close",{}):i.trigger("select",{data:t}))});t.on("results:previous",function(){var r=i.getHighlightedResults(),u=i.$results.find("[aria-selected]"),f=u.index(r),n,t;if(f!==0){n=f-1;r.length===0&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=i.$results.offset().top,o=t.offset().top,s=i.$results.scrollTop()+(o-e);n===0?i.$results.scrollTop(0):o-e<0&&i.$results.scrollTop(s)}});t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),o=t.index(e),r=o+1,n;if(!(r>=t.length)){n=t.eq(r);n.trigger("mouseenter");var u=i.$results.offset().top+i.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=i.$results.scrollTop()+f-u;r===0?i.$results.scrollTop(0):f>u&&i.$results.scrollTop(s)}});t.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(n){i.displayMessage(n)});if(n.fn.mousewheel)this.$results.on("mousewheel",function(n){var t=i.$results.scrollTop(),r=i.$results.get(0).scrollHeight-t+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&r<=i.$results.height();u?(i.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=n(this),u=r.data("data");if(r.attr("aria-selected")==="true"){i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:u}):i.trigger("close",{});return}i.trigger("select",{originalEvent:t,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=n(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted");i.trigger("results:focus",{data:t,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(n.length!==0){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=n.outerHeight(!1)*2;e<=2?this.$results.scrollTop(0):(u>this.$results.outerHeight()||u<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);r==null?i.style.display="none":typeof r=="string"?i.innerHTML=f(r):n(i).append(r)},i});t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}});t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,this.$element.data("old-tabindex")!=null?this._tabindex=this.$element.data("old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(n){var t=this,u=n.id+"-container",r=n.id+"-results";this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.focus();t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)});n.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){var i=this;n(document.body).on("mousedown.select2."+t.id,function(t){var i=n(t.target),r=i.closest(".select2"),u=n(".select2.select2-container--open");u.each(function(){var i=n(this),t;this!=r[0]&&(t=i.data("element"),t.select2("close"))})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){var i=t.find(".selection");i.append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r});t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var t=this,i;r.__super__.bind.apply(this,arguments);i=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i);this.$selection.attr("aria-labelledby",i);this.$selection.on("mousedown",function(n){n.which===1&&t.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||t.$selection.focus()});n.on("selection:update",function(n){t.update(n.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){if(n.length===0){this.clear();return}var t=n[0],i=this.$selection.find(".select2-selection__rendered"),r=this.display(t,i);i.empty().append(r);i.prop("title",t.title||t.text)},r});t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(i){if(!t.options.get("disabled")){var r=n(this),u=r.parent(),f=u.data("data");t.trigger("unselect",{originalEvent:i,data:f})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e;if(this.clear(),n.length!==0){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),o=this.display(u,t);t.append(o);t.prop("title",u.title||u.text);t.data("data",u);f.push(t)}e=this.$selection.find(".select2-selection__rendered");i.appendMany(e,f)}},r});t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=t.length==1&&t[0].id!=this.placeholder.id,u=t.length>1,i;if(u||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n});t.define("select2/selection/allowClear",["jquery","../keys"],function(n,t){function i(){}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},i.prototype._handleClear=function(n,t){var r,u,i,f;if(!this.options.get("disabled")&&(r=this.$selection.find(".select2-selection__clear"),r.length!==0)){for(t.stopPropagation(),u=r.data("data"),i=0;i<u.length;i++)if(f={data:u[i]},this.trigger("unselect",f),f.prevented)return;this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})}},i.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0)&&i.length!==0){var r=n('<span class="select2-selection__clear">&times;<\/span>');r.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(r)}},i});t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,t,r){var u=this,f,e;n.call(this,t,r);t.on("open",function(){u.$search.trigger("focus")});t.on("close",function(){u.$search.val("");u.$search.removeAttr("aria-activedescendant");u.$search.trigger("focus")});t.on("enable",function(){u.$search.prop("disabled",!1);u._transferTabIndex()});t.on("disable",function(){u.$search.prop("disabled",!0)});t.on("focus",function(){u.$search.trigger("focus")});t.on("results:focus",function(n){u.$search.attr("aria-activedescendant",n.id)});this.$selection.on("focusin",".select2-search--inline",function(n){u.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){u._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var r,t,f;n.stopPropagation();u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented();r=n.which;r===i.BACKSPACE&&u.$search.val()===""&&(t=u.$searchContainer.prev(".select2-selection__choice"),t.length>0&&(f=t.data("data"),u.searchRemoveChoice(f),n.preventDefault()))});f=document.documentMode;e=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(e){u.$selection.off("input.search input.searchcheck");return}u.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(e&&n.type==="input"){u.$selection.off("input.search input.searchcheck");return}var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&u.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){var n,t;this.$search.css("width","25px");n="";this.$search.attr("placeholder")!==""?n=this.$selection.find(".select2-selection__rendered").innerWidth():(t=this.$search.val().length+1,n=t*.75+"em");this.$search.css("width",n)},r});t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],e=["opening","closing","selecting","unselecting"];t.call(this,i,r);i.on("*",function(t,i){if(n.inArray(t,f)!==-1){i=i||{};var r=n.Event("select2:"+t,{params:i});(u.$element.trigger(r),n.inArray(t,e)!==-1)&&(i.prevented=r.isDefaultPrevented())}})},t});t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i});t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}});t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+(i.id!=null?"-"+i.id.toString():"-"+n.generateChars(4))},t});t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option")){n.element.selected=!0;this.$element.trigger("change");return}this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,i.inArray(e,f)===-1&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple")){if(n.selected=!1,i(n.element).is("option")){n.element.selected=!1;this.$element.trigger("change");return}this.current(function(r){for(var u,f=[],e=0;e<r.length;e++)u=r[e].id,u!==n.id&&i.inArray(u,f)===-1&&f.push(u);t.$element.val(f);t.$element.trigger("change")})}},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},r.prototype.query=function(n,t){var r=[],u=this,f=this.$element.children();f.each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),f!==null&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var t,u,r;return n.children?(t=document.createElement("optgroup"),t.label=n.text):(t=document.createElement("option"),t.textContent!==undefined?t.textContent=n.text:t.innerText=n.text),n.id&&(t.value=n.id),n.disabled&&(t.disabled=!0),n.selected&&(t.selected=!0),n.title&&(t.title=n.title),u=i(t),r=this._normalizeItem(n),r.element=t,i.data(t,"data",r),u},r.prototype.item=function(n){var t={},u,f,r,e,o;if(t=i.data(n[0],"data"),t!=null)return t;if(n.is("option"))t={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){for(t={text:n.prop("label"),children:[],title:n.prop("title")},u=n.children("option"),f=[],r=0;r<u.length;r++)e=i(u[r]),o=this.item(e),f.push(o);t.children=f}return t=this._normalizeItem(t),t.element=n[0],i.data(n[0],"data",t),t},r.prototype._normalizeItem=function(n){i.isPlainObject(n)||(n={id:n,text:n});n=i.extend({},{text:""},n);return n.id!=null&&(n.id=n.id.toString()),n.text!=null&&(n.text=n.text.toString()),n._resultId==null&&n.id&&this.container!=null&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){var i=this.options.get("matcher");return i(n,t)},r});t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){var i=t.get("data")||[];r.__super__.constructor.call(this,n,t);this.addOptions(this.convertToOptions(i))}return t.Extend(r,n),r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});t.length===0&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function a(n){return function(){return i(this).val()==n.id}}for(var r,f,h,c=this,e=this.$element.find("option"),l=e.map(function(){return c.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++){if(r=this._normalizeItem(n[u]),i.inArray(r.id,l)>=0){var s=e.filter(a(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p);continue}f=this.option(r);r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h));o.push(f)}return o},r});t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){f.status&&f.status==="0"||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;this._request!=null&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);typeof r.url=="function"&&(r.url=r.url.call(this.$element,n));typeof r.data=="function"&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&n.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r});t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(o!==undefined&&(this.createTag=o),e=r.get("insertTag"),e!==undefined&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var o,c,e=n.results,s=0;s<e.length;s++){var h=e[s],l=h.children!=null&&!u({results:h.children},!0),a=h.text===t.term;if(a||l){if(f)return!1;n.data=e;i(n);return}}if(f)return!0;o=r.createTag(t);o!=null&&(c=r.option(o),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,o));n.results=e;i(n)}var r=this;if(this._removeOldTags(),t.term==null||t.page!=null){n.call(this,t,i);return}n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return r===""?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){var i=this._lastTag,t=this.$element.find("option[data-select2-tag]");t.each(function(){this.selected||n(this).remove()})},t});t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");r!==undefined&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){function e(t){var i=u._normalizeItem(t),f=u.$element.find("option").filter(function(){return n(this).val()===i.id}),r;f.length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));o(i)}function o(n){u.trigger("select",{data:n})}var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,e);f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var h=r.get("tokenSeparators")||[],e=i.term,f=0,c=this.createTag||function(n){return{id:n.term,text:n.term}},o;f<e.length;){if(o=e[f],n.inArray(o,h)===-1){f++;continue}var l=e.substr(0,f),a=n.extend({},i,{term:l}),s=c(a);if(s==null){f++;continue}u(s);e=e.substr(f+1)||"";f=0}return{term:e}},t});t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n});t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n});t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){var r=this;this.current(function(u){var f=u!=null?u.length:0;if(r.maximumSelectionLength>0&&f>=r.maximumSelectionLength){r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}});return}n.call(r,t,i)})},n});t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i});t.define("select2/dropdown/search",["jquery","../utils","../keys"],function(n,t,i){function r(){}return r.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},r.prototype.bind=function(n,t,r){var u=this;n.call(this,t,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("keyup",function(n){if(n.keyCode===undefined){u._keyUpPrevented=!1;return}var t=n.which;t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.END&&t!==i.HOME&&t!==i.LEFT&&t!==i.RIGHT&&u.handleSearch(n)});t.on("open",function(){u.$search.attr("tabindex",0);u.$search.focus();window.setTimeout(function(){u.$search.focus()},0)});t.on("close",function(){u.$search.attr("tabindex",-1);u.$search.val("")});t.on("focus",function(){t.isOpen()&&u.$search.focus()});t.on("results:all",function(n){if(n.query.term==null||n.query.term===""){var t=u.showSearch(n);t?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide")}})},r.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.showSearch=function(){return!0},r});t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n});t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);i.on("query",function(n){u.lastParams=n;u.loading=!0});i.on("query:append",function(n){u.lastParams=n;u.loading=!0});this.$results.on("scroll",function(){var r=n.contains(document.documentElement,u.$loadingMore[0]),t,i;!u.loading&&r&&(t=u.$results.offset().top+u.$results.outerHeight(!1),i=u.$loadingMore.offset().top+u.$loadingMore.outerHeight(!1),t+50>=i&&u.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t});t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=r.get("dropdownParent")||n(document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this,u=!1;n.call(this,t,i);t.on("open",function(){if(r._showDropdown(),r._attachPositioningHandler(t),!u){u=!0;t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()});t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()})}});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){n(this).data("select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var t=n(this).data("select2-scroll-position");n(this).scrollTop(t.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id,o=this.$container.parents().filter(t.hasScroll);o.off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),v=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,o;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h={height:this.$dropdown.outerHeight(!1)},c={top:s.scrollTop(),bottom:s.scrollTop()+s.height()},l=c.top<i.top-h.height,a=c.bottom>i.bottom+h.height,f={left:i.left,top:r.bottom},e=this.$dropdownParent;e.css("position")==="static"&&(e=e.offsetParent());o=e.offset();f.top-=o.top;f.left-=o.left;u||v||(t="below");a||!l||u?!l&&a&&u&&(t="below"):t="above";(t=="above"||u&&t!=="below")&&(f.top=r.top-o.top-h.height);t!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(f)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i});t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return n(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t});t.define("select2/dropdown/selectOnClose",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},n.prototype._handleSelectOnClose=function(n,t){var r,u,i;t&&t.originalSelect2Event!=null&&(r=t.originalSelect2Event,r._type==="select"||r._type==="unselect")||(u=this.getHighlightedResults(),u.length<1)||(i=u.data("data"),i.element!=null&&i.element.selected||i.element==null&&i.selected)||this.trigger("select",{data:i})},n});t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n});t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return t!=1&&(i+="s"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Please enter "+t+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return n.maximum!=1&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}});t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(){this.reset()}st.prototype.apply=function(l){var vt,yt,pt,wt,bt,kt,dt,ct,lt,st,ot,ht,gt,at;if(l=n.extend(!0,{},this.defaults,l),l.dataAdapter==null&&(l.dataAdapter=l.ajax!=null?y:l.data!=null?v:a,l.minimumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,b)),l.maximumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,k)),l.maximumSelectionLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,d)),l.tags&&(l.dataAdapter=h.Decorate(l.dataAdapter,p)),(l.tokenSeparators!=null||l.tokenizer!=null)&&(l.dataAdapter=h.Decorate(l.dataAdapter,w)),l.query!=null&&(vt=t(l.amdBase+"compat/query"),l.dataAdapter=h.Decorate(l.dataAdapter,vt)),l.initSelection!=null&&(yt=t(l.amdBase+"compat/initSelection"),l.dataAdapter=h.Decorate(l.dataAdapter,yt))),l.resultsAdapter==null&&(l.resultsAdapter=i,l.ajax!=null&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,it)),l.placeholder!=null&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,tt)),l.selectOnClose&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,ft))),l.dropdownAdapter==null&&(l.multiple?l.dropdownAdapter=g:(pt=h.Decorate(g,nt),l.dropdownAdapter=pt),l.minimumResultsForSearch!==0&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,ut)),l.closeOnSelect&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,et)),(l.dropdownCssClass!=null||l.dropdownCss!=null||l.adaptDropdownCssClass!=null)&&(wt=t(l.amdBase+"compat/dropdownCss"),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,wt)),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,rt)),l.selectionAdapter==null&&(l.selectionAdapter=l.multiple?u:r,l.placeholder!=null&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,e)),l.multiple&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,o)),(l.containerCssClass!=null||l.containerCss!=null||l.adaptContainerCssClass!=null)&&(bt=t(l.amdBase+"compat/containerCss"),l.selectionAdapter=h.Decorate(l.selectionAdapter,bt)),l.selectionAdapter=h.Decorate(l.selectionAdapter,s)),typeof l.language=="string"&&(l.language.indexOf("-")>0?(kt=l.language.split("-"),dt=kt[0],l.language=[l.language,dt]):l.language=[l.language]),n.isArray(l.language)){for(ct=new c,l.language.push("en"),lt=l.language,st=0;st<lt.length;st++){ot=lt[st];ht={};try{ht=c.loadPath(ot)}catch(ni){try{ot=this.defaults.amdLanguageBase+ot;ht=c.loadPath(ot)}catch(ti){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ot+'" could not be automatically loaded. A fallback will be used instead.');continue}}ct.extend(ht)}l.translations=ct}else gt=c.loadPath(this.defaults.amdLanguageBase+"en"),at=new c(l.language),at.extend(gt),l.translations=at;return l};st.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s,h,c;if(n.trim(r.term)==="")return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)o=u.children[e],s=t(r,o),s==null&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return(h=i(u.text).toUpperCase(),c=i(r.term).toUpperCase(),h.indexOf(c)>-1)?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:ot,matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}};st.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(this.defaults,u)};return new st});t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,u!=null&&this.fromElement(u),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){var e=["select2"],f,u,i;this.options.multiple==null&&(this.options.multiple=n.prop("multiple"));this.options.disabled==null&&(this.options.disabled=n.prop("disabled"));this.options.language==null&&(n.prop("lang")?this.options.language=n.prop("lang").toLowerCase():n.closest("[lang]").prop("lang")&&(this.options.language=n.closest("[lang]").prop("lang")));this.options.dir==null&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr");n.prop("disabled",this.options.disabled);n.prop("multiple",this.options.multiple);n.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.data("data",n.data("select2Tags")),n.data("tags",!0));n.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",n.data("ajaxUrl")),n.data("ajax--url",n.data("ajaxUrl")));f={};f=t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&n[0].dataset?t.extend(!0,{},n[0].dataset,n.data()):n.data();u=t.extend(!0,{},f);u=r._convertData(u);for(i in u)t.inArray(i,e)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u});t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,i){var f,e,r,o,s,h,c;n.data("select2")!=null&&n.data("select2").destroy();this.$element=n;this.id=this._generateId(n);i=i||{};this.options=new t(i,n);u.__super__.constructor.call(this);f=n.attr("tabindex")||0;n.data("old-tabindex",f);n.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(n,this.options);r=this.render();this._placeContainer(r);o=this.options.get("selectionAdapter");this.selection=new o(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,r);s=this.options.get("dropdownAdapter");this.dropdown=new s(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,r);h=this.options.get("resultsAdapter");this.results=new h(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){c.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=n.attr("id")!=null?n.attr("id"):n.attr("name")!=null?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),"select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));t!=null&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var u,f,e,o,i,s,h,r;if(t=="resolve")return(u=this._resolveWidth(n,"style"),u!=null)?u:this._resolveWidth(n,"element");if(t=="element")return(f=n.outerWidth(!1),f<=0)?"auto":f+"px";if(t=="style"){if(e=n.attr("style"),typeof e!="string")return null;for(o=e.split(";"),i=0,s=o.length;i<s;i=i+1)if(h=o[i].replace(/\s/g,""),r=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),r!==null&&r.length>=1)return r[1];return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this.$element.on("focus.select2",function(n){t.trigger("focus",n)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!=null?(this._observer=new r(function(i){n.each(i,t._syncA);n.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){n.inArray(r,i)===-1&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")});this.on("close",function(){t.$container.removeClass("select2-container--open")});this.on("enable",function(){t.$container.removeClass("select2-container--disabled")});this.on("disable",function(){t.$container.addClass("select2-container--disabled")});this.on("blur",function(){t.$container.removeClass("select2-container--focus")});this.on("query",function(n){t.isOpen()||t.trigger("open",{});this.dataAdapter.query(n,function(i){t.trigger("results:all",{data:i,query:n})})});this.on("query:append",function(n){this.dataAdapter.query(n,function(i){t.trigger("results:append",{data:i,query:n})})});this.on("keypress",function(i){var u=i.which;t.isOpen()?u===r.ESC||u===r.TAB||u===r.UP&&i.altKey?(t.close(),i.preventDefault()):u===r.ENTER?(t.trigger("results:select",{}),i.preventDefault()):u===r.SPACE&&i.ctrlKey?(t.trigger("results:toggle",{}),i.preventDefault()):u===r.UP?(t.trigger("results:previous",{}),i.preventDefault()):u===r.DOWN&&(t.trigger("results:next",{}),i.preventDefault()):u===r.ENTER||u===r.DOWN&&i.altKey?(t.open(),i.preventDefault()):i.key.length==1&&n(i.delegateTarget).hasClass("select2-selection--single")&&(t.isOpen()||(t.trigger("open",{}),setTimeout(function(){if(i.key.length==1){var t=n(".select2-container--open .select2-search__field");t.last().val(i.key);t.triggerHandler("keyup")}},1)),i.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(n,t){var i=!1,f=this,r,u;if(!n||!n.target||n.target.nodeName==="OPTION"||n.target.nodeName==="OPTGROUP"){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(r=0;r<t.addedNodes.length;r++)u=t.addedNodes[r],u.selected&&(i=!0);else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(n){f.trigger("selection:update",{data:n})})}},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"},e,i;if(t===undefined&&(t={}),n in f&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented)){t.prevented=!0;return}r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');(n==null||n.length===0)&&(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),t==null||t.length===0)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u});t.define("select2/compat/utils",["jquery"],function(n){function t(t,i,r){var u,f=[],e;u=n.trim(t.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){this.indexOf("select2-")===0&&f.push(this)}));u=n.trim(i.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){this.indexOf("select2-")!==0&&(e=r(this),e!=null&&f.push(e))}));t.attr("class",f.join(" "))}return{syncCssClasses:t}});t.define("select2/compat/containerCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("containerCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptContainerCssClass"),f=f||r,u.indexOf(":all:")!==-1&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return t!=null?t+" "+n:n}),e=this.options.get("containerCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i});t.define("select2/compat/dropdownCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("dropdownCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptDropdownCssClass"),f=f||r,u.indexOf(":all:")!==-1&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return t!=null?t+" "+n:n}),e=this.options.get("dropdownCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i});t.define("select2/compat/initSelection",["jquery"],function(n){function t(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");this.initSelection=i.get("initSelection");this._isInitialized=!1;n.call(this,t,i)}return t.prototype.current=function(t,i){var r=this;if(this._isInitialized){t.call(this,i);return}this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0;n.isArray(t)||(t=[t]);i(t)})},t});t.define("select2/compat/inputData",["jquery"],function(n){function t(n,t,i){this._currentData=[];this._valueSeparator=i.get("valueSeparator")||",";t.prop("type")==="hidden"&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");n.call(this,t,i)}return t.prototype.current=function(t,i){function f(t,i){var r=[];return t.selected||n.inArray(t.id,i)!==-1?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,f(t.children,i)),r}for(var e,r=[],u=0;u<this._currentData.length;u++)e=this._currentData[u],r.push.apply(r,f(e,this.$element.val().split(this._valueSeparator)));i(r)},t.prototype.select=function(t,i){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+i.id;this.$element.val(r);this.$element.trigger("change")}else this.current(function(t){n.map(t,function(n){n.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},t.prototype.unselect=function(n,t){var i=this;t.selected=!1;this.current(function(n){for(var u,f=[],r=0;r<n.length;r++)(u=n[r],t.id!=u.id)&&f.push(u.id);i.$element.val(f.join(i._valueSeparator));i.$element.trigger("change")})},t.prototype.query=function(n,t,i){for(var e,u,f=[],r=0;r<this._currentData.length;r++)e=this._currentData[r],u=this.matches(t,e),u!==null&&f.push(u);i({results:f})},t.prototype.addOptions=function(t,i){var r=n.map(i,function(t){return n.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t});t.define("select2/compat/matcher",["jquery"],function(n){function t(t){function i(i,r){var u=n.extend(!0,{},r),f,e,o;if(i.term==null||n.trim(i.term)==="")return u;if(r.children){for(f=r.children.length-1;f>=0;f--)e=r.children[f],o=t(i.term,e.text,e),o||u.children.splice(f,1);if(u.children.length>0)return u}return t(i.term,r.text,r)?u:null}return i}return t});t.define("select2/compat/query",[],function(){function n(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.callback=i;var r=this.options.get("query");r.call(null,t)},n});t.define("select2/dropdown/attachContainer",[],function(){function n(n,t,i){n.call(this,t,i)}return n.prototype.position=function(n,t,i){var r=i.find(".dropdown-wrapper");r.append(t);t.addClass("select2-dropdown--below");i.addClass("select2-container--below")},n});t.define("select2/dropdown/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n});t.define("select2/selection/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
return function(i){typeof t.define=="function"&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):typeof exports=="object"?module.exports=i:i(n)}(function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(n,t,i,r){if(n.fn.select2==null){var u=["open","close","destroy"];n.fn.select2=function(t){if(t=t||{},typeof t=="object")return this.each(function(){var r=n.extend(!0,{},t),u=new i(n(this),r)}),this;if(typeof t=="string"){var r,f=Array.prototype.slice.call(arguments,1);return(this.each(function(){var i=n(this).data("select2");i==null&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=i[t].apply(i,f)}),n.inArray(t,u)>-1)?this:r}throw new Error("Invalid arguments for Select2: "+t);}}return n.fn.select2.defaults==null&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});
/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var n=jQuery.fn.select2.amd;return n.define("select2/i18n/pt-BR",[],function(){return{errorLoading:function(){return"Os resultados não puderam ser carregados."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Apague "+t+" caracter";return t!=1&&(i+="es"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Digite "+t+" ou mais caracteres"},loadingMore:function(){return"Carregando mais resultados…"},maximumSelected:function(n){var t="Você só pode selecionar "+n.maximum+" ite";return t+=n.maximum==1?"m":"ns",t},noResults:function(){return"Nenhum resultado encontrado"},searching:function(){return"Buscando…"}}}),{define:n.define,require:n.require}})(),function(n){var r=[],t=[];n.fn.doAutosize=function(t){var r=n(this).data("minwidth"),h=n(this).data("maxwidth"),u="",f=n(this),e=n("#"+n(this).data("tester_id")),o;if(u!==(u=f.val())){o=u.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.html(o);var s=e.width(),i=s+t.comfortZone>=r?s+t.comfortZone:r,c=f.width(),l=i<c&&i>=r||i>r&&i<h;l&&f.width(i)}};n.fn.resetAutosize=function(t){var u=n(this).data("minwidth")||t.minInputWidth||n(this).width(),e=n(this).data("maxwidth")||t.maxInputWidth||n(this).closest(".tagsinput").width()-t.inputPadding,i=n(this),f=n("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"}),r=n(this).attr("id")+"_autosize_tester";!n("#"+r).length>0&&(f.attr("id",r),f.appendTo("body"));i.data("minwidth",u);i.data("maxwidth",e);i.data("tester_id",r);i.css("width",u)};n.fn.addTag=function(i,u){return u=jQuery.extend({focus:!1,callback:!0},u),this.each(function(){var f=n(this).attr("id"),e=n(this).val().split(r[f]),o,h,s;e[0]==""&&(e=[]);i=jQuery.trim(i);u.unique?(o=n(this).tagExist(i),o==!0&&n("#"+f+"_tag").addClass("not_valid")):o=!1;i!=""&&o!=!0&&(n("<span>").addClass("tag").append(n("<span>").text(i).append("&nbsp;&nbsp;"),n("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return n("#"+f).removeTag(escape(i))})).insertBefore("#"+f+"_addTag"),e.push(i),n("#"+f+"_tag").val(""),u.focus?n("#"+f+"_tag").focus():n("#"+f+"_tag").blur(),n.fn.tagsInput.updateTagsField(this,e),u.callback&&t[f]&&t[f].onAddTag&&(s=t[f].onAddTag,s.call(this,i)),t[f]&&t[f].onChange&&(h=e.length,s=t[f].onChange,s.call(this,n(this),e[h-1])))}),!1};n.fn.removeTag=function(u){return u=unescape(u),this.each(function(){var f=n(this).attr("id"),e=n(this).val().split(r[f]),o;for(n("#"+f+"_tagsinput .tag").remove(),str="",i=0;i<e.length;i++)e[i]!=u&&(str=str+r[f]+e[i]);n.fn.tagsInput.importTags(this,str);t[f]&&t[f].onRemoveTag&&(o=t[f].onRemoveTag,o.call(this,u))}),!1};n.fn.tagExist=function(t){var i=n(this).attr("id"),u=n(this).val().split(r[i]);return jQuery.inArray(t,u)>=0};n.fn.importTags=function(t){id=n(this).attr("id");n("#"+id+"_tagsinput .tag").remove();n.fn.tagsInput.importTags(this,t)};n.fn.tagsInput=function(i){var u=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){var f,i,e;if(u.hide&&n(this).hide(),f=n(this).attr("id"),(!f||r[n(this).attr("id")])&&(f=n(this).attr("id","tags"+(new Date).getTime()).attr("id")),i=jQuery.extend({pid:f,real_input:"#"+f,holder:"#"+f+"_tagsinput",input_wrapper:"#"+f+"_addTag",fake_input:"#"+f+"_tag"},u),r[f]=i.delimiter,(u.onAddTag||u.onRemoveTag||u.onChange)&&(t[f]=[],t[f].onAddTag=u.onAddTag,t[f].onRemoveTag=u.onRemoveTag,t[f].onChange=u.onChange),e='<div id="'+f+'_tagsinput" class="tagsinput"><div id="'+f+'_addTag">',u.interactive&&(e=e+'<input id="'+f+'_tag" value="" data-default="'+u.defaultText+'" />'),e=e+'<\/div><div class="tags_clear"><\/div><\/div>',n(e).insertAfter(this),n(i.holder).css("width",u.width),n(i.holder).css("min-height",u.height),n(i.holder).css("height","100%"),n(i.real_input).val()!=""&&n.fn.tagsInput.importTags(n(i.real_input),n(i.real_input).val()),u.interactive){if(n(i.fake_input).val(n(i.fake_input).attr("data-default")),n(i.fake_input).css("color",u.placeholderColor),n(i.fake_input).resetAutosize(u),n(i.holder).bind("click",i,function(t){n(t.data.fake_input).focus()}),n(i.fake_input).bind("focus",i,function(t){n(t.data.fake_input).val()==n(t.data.fake_input).attr("data-default")&&n(t.data.fake_input).val("");n(t.data.fake_input).css("color","#000000")}),u.autocomplete_url!=undefined){autocomplete_options={source:u.autocomplete_url};for(attrname in u.autocomplete)autocomplete_options[attrname]=u.autocomplete[attrname];jQuery.Autocompleter!==undefined?(n(i.fake_input).autocomplete(u.autocomplete_url,u.autocomplete),n(i.fake_input).bind("result",i,function(t,i){i&&n("#"+f).addTag(i[0]+"",{focus:!0,unique:u.unique})})):jQuery.ui.autocomplete!==undefined&&(n(i.fake_input).autocomplete(autocomplete_options),n(i.fake_input).bind("autocompleteselect",i,function(t,i){return n(t.data.real_input).addTag(i.item.value,{focus:!0,unique:u.unique}),!1}))}else n(i.fake_input).bind("blur",i,function(t){var i=n(this).attr("data-default");return n(t.data.fake_input).val()!=""&&n(t.data.fake_input).val()!=i?t.data.minChars<=n(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=n(t.data.fake_input).val().length)&&n(t.data.real_input).addTag(n(t.data.fake_input).val(),{focus:!0,unique:u.unique}):(n(t.data.fake_input).val(n(t.data.fake_input).attr("data-default")),n(t.data.fake_input).css("color",u.placeholderColor)),!1});n(i.fake_input).bind("keypress",i,function(t){if(t.which==t.data.delimiter.charCodeAt(0)||t.which==13)return t.preventDefault(),t.data.minChars<=n(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=n(t.data.fake_input).val().length)&&n(t.data.real_input).addTag(n(t.data.fake_input).val(),{focus:!0,unique:u.unique}),n(t.data.fake_input).resetAutosize(u),!1;t.data.autosize&&n(t.data.fake_input).doAutosize(u)});i.removeWithBackspace&&n(i.fake_input).bind("keydown",function(t){if(t.keyCode==8&&n(this).val()==""){t.preventDefault();var i=n(this).closest(".tagsinput").find(".tag:last").text(),r=n(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s]+x$/,"");n("#"+r).removeTag(escape(i));n(this).trigger("focus")}});n(i.fake_input).blur();i.unique&&n(i.fake_input).keydown(function(t){(t.keyCode==8||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&n(this).removeClass("not_valid")})}}),this};n.fn.tagsInput.updateTagsField=function(t,i){var u=n(t).attr("id");n(t).val(i.join(r[u]))};n.fn.tagsInput.importTags=function(u,f){var e,o,s;for(n(u).val(""),e=n(u).attr("id"),o=f.split(r[e]),i=0;i<o.length;i++)n(u).addTag(o[i],{focus:!1,callback:!1});t[e]&&t[e].onChange&&(s=t[e].onChange,s.call(u,u,o[i]))}}(jQuery);
/*!
* jquery.counterup.js 1.0
*
* Copyright 2013, Benjamin Intal http://gambit.ph @bfintal
* Released under the GPL v2 License
*
* Date: Nov 26, 2013
*/
!function(n){"use strict";n.fn.counterUp=function(t){var i=n.extend({time:400,delay:10},t);return this.each(function(){var t=n(this),r=i,u=function(){var f=r.time/r.delay,n=t.attr("data-value"),e=[n],h=/[0-9]+,[0-9]+/.test(n),i,s;n=n.replace(/,/g,"");for(var o=(/^[0-9]+$/.test(n),/^[0-9]+\.[0-9]+$/.test(n)),c=o?(n.split(".")[1]||[]).length:0,u=f;u>=1;u--){if(i=parseInt(n/f*u),o&&(i=parseFloat(n/f*u).toFixed(c)),h)for(;/(\d+)(\d{3})/.test(i.toString());)i=i.toString().replace(/(\d+)(\d{3})/,"$1,$2");e.unshift(i)}t.data("counterup-nums",e);t.text("0");s=function(){t.text(t.data("counterup-nums").shift());t.data("counterup-nums").length?setTimeout(t.data("counterup-func"),r.delay):(delete t.data("counterup-nums"),t.data("counterup-nums",null),t.data("counterup-func",null))};t.data("counterup-func",s);setTimeout(t.data("counterup-func"),r.delay)};t.waypoint(u,{offset:"100%",triggerOnce:!0})})}}(jQuery),function(){var t=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1},n=[].slice;(function(n,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(i){return t(i,n)}):t(n.jQuery,n)})(this,function(i,r){var a,b,v,o,k,h,s,y,u,f,p,w,d,l,c,e;return a=i(r),y=t.call(r,"ontouchstart")>=0,o={horizontal:{},vertical:{}},k=1,s={},h="waypoints-context-id",p="resize.waypoints",w="scroll.waypoints",d=1,l="waypoints-waypoint-ids",c="waypoint",e="waypoints",b=function(){function n(n){var t=this;this.$element=n;this.element=n[0];this.didResize=!1;this.didScroll=!1;this.id="context"+k++;this.oldScroll={x:n.scrollLeft(),y:n.scrollTop()};this.waypoints={horizontal:{},vertical:{}};n.data(h,this.id);s[this.id]=this;n.bind(w,function(){var n;if(!(t.didScroll||y))return t.didScroll=!0,n=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(n,i[e].settings.scrollThrottle)});n.bind(p,function(){var n;if(!t.didResize)return t.didResize=!0,n=function(){return i[e]("refresh"),t.didResize=!1},r.setTimeout(n,i[e].settings.resizeThrottle)})}return n.prototype.doScroll=function(){var n,t=this;return n={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!y||n.vertical.oldScroll&&n.vertical.newScroll||i[e]("refresh"),i.each(n,function(n,r){var e,f,u;return u=[],f=r.newScroll>r.oldScroll,e=f?r.forward:r.backward,i.each(t.waypoints[n],function(n,t){var i,f;return r.oldScroll<(i=t.offset)&&i<=r.newScroll?u.push(t):r.newScroll<(f=t.offset)&&f<=r.oldScroll?u.push(t):void 0}),u.sort(function(n,t){return n.offset-t.offset}),f||u.reverse(),i.each(u,function(n,t){if(t.options.continuous||n===u.length-1)return t.trigger([e])})}),this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},n.prototype.refresh=function(){var r,t,n,u=this;return n=i.isWindow(this.element),t=this.$element.offset(),this.doScroll(),r={horizontal:{contextOffset:n?0:t.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:t.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[e]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(r,function(n,t){return i.each(u.waypoints[n],function(n,r){var u,e,f,o,s;if(u=r.options.offset,f=r.offset,e=i.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],i.isFunction(u)?u=u.apply(r.element):typeof u=="string"&&(u=parseFloat(u),r.options.offset.indexOf("%")>-1&&(u=Math.ceil(t.contextDimension*u/100))),r.offset=e-t.contextOffset+t.contextScroll-u,(!r.options.onlyOnScroll||f==null)&&r.enabled)return f!==null&&f<(o=t.oldScroll)&&o<=r.offset?r.trigger([t.backward]):f!==null&&f>(s=t.oldScroll)&&s>=r.offset?r.trigger([t.forward]):f===null&&t.oldScroll>=r.offset?r.trigger([t.forward]):void 0})})},n.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,w].join(" ")),delete s[this.id]},n}(),v=function(){function n(n,t,r){var u,f;r=i.extend({},i.fn[c].defaults,r);r.offset==="bottom-in-view"&&(r.offset=function(){var n;return n=i[e]("viewportHeight"),i.isWindow(t.element)||(n=t.$element.height()),n-i(this).outerHeight()});this.$element=n;this.element=n[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+d++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;o[this.axis][this.id]=this;u=(f=n.data(l))!=null?f:[];u.push(this.id);n.data(l,u)}return n.prototype.trigger=function(n){if(this.enabled)return this.callback!=null&&this.callback.apply(this.element,n),this.options.triggerOnce?this.destroy():void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},n.prototype.destroy=function(){return delete o[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},n.getWaypointsByElement=function(n){var r,t;return(t=i(n).data(l),!t)?[]:(r=i.extend({},o.horizontal,o.vertical),i.map(t,function(n){return r[n]}))},n}(),f={init:function(n,t){var r;return t==null&&(t={}),(r=t.handler)==null&&(t.handler=n),this.each(function(){var u,r,n,f;return u=i(this),n=(f=t.context)!=null?f:i.fn[c].defaults.context,i.isWindow(n)||(n=u.closest(n)),n=i(n),r=s[n.data(h)],r||(r=new b(n)),new v(u,r,t)}),i[e]("refresh"),this},disable:function(){return f._invoke(this,"disable")},enable:function(){return f._invoke(this,"enable")},destroy:function(){return f._invoke(this,"destroy")},prev:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t>0)return n.push(i[t-1])})},next:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t<i.length-1)return n.push(i[t+1])})},_traverse:function(n,t,f){var e,o;return n==null&&(n="vertical"),t==null&&(t=r),o=u.aggregate(t),e=[],this.each(function(){var t;return t=i.inArray(this,o[n]),f(e,t,o[n])}),this.pushStack(e)},_invoke:function(n,t){return n.each(function(){var n;return n=v.getWaypointsByElement(this),i.each(n,function(n,i){return i[t](),!0})}),this}},i.fn[c]=function(){var r,t;return t=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],f[t]?f[t].apply(this,r):i.isFunction(t)?f.init.apply(this,arguments):i.isPlainObject(t)?f.init.apply(this,[null,t]):t?i.error("The "+t+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[c].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},u={refresh:function(){return i.each(s,function(n,t){return t.refresh()})},viewportHeight:function(){var n;return(n=r.innerHeight)!=null?n:a.height()},aggregate:function(n){var r,t,u;return(r=o,n&&(r=(u=s[i(n).data(h)])!=null?u.waypoints:void 0),!r)?[]:(t={horizontal:[],vertical:[]},i.each(t,function(n,u){return i.each(r[n],function(n,t){return u.push(t)}),u.sort(function(n,t){return n.offset-t.offset}),t[n]=i.map(u,function(n){return n.element}),t[n]=i.unique(t[n])}),t)},above:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset<=n.oldScroll.y})},below:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset>n.oldScroll.y})},left:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset<=n.oldScroll.x})},right:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset>n.oldScroll.x})},enable:function(){return u._invoke("enable")},disable:function(){return u._invoke("disable")},destroy:function(){return u._invoke("destroy")},extendFn:function(n,t){return f[n]=t},_invoke:function(n){var t;return t=i.extend({},o.vertical,o.horizontal),i.each(t,function(t,i){return i[n](),!0})},_filter:function(n,t,r){var u,f;return(u=s[i(n).data(h)],!u)?[]:(f=[],i.each(u.waypoints[t],function(n,t){if(r(u,t))return f.push(t)}),f.sort(function(n,t){return n.offset-t.offset}),i.map(f,function(n){return n.element}))}},i[e]=function(){var i,t;return t=arguments[0],i=2<=arguments.length?n.call(arguments,1):[],u[t]?u[t].apply(null,i):u.aggregate.call(null,t)},i[e].settings={resizeThrottle:100,scrollThrottle:30},a.load(function(){return i[e]("refresh")})})}.call(this);
/*!
 * Nestable jQuery Plugin - Copyright (c) 2012 David Bushell - http://dbushell.com/
 * Dual-licensed under the BSD or MIT licenses
 */
(function(n,t,i,r){function c(i,r){this.w=n(t);this.el=n(i);this.options=n.extend({},h,r);this.init()}var u="ontouchstart"in t,h;u=navigator.appVersion.indexOf("Win")!=-1?!1:"ontouchstart"in t;var f=function(){var n=i.createElement("div"),r=i.documentElement,u;return("pointerEvents"in n.style)?(n.style.pointerEvents="auto",n.style.pointerEvents="x",r.appendChild(n),u=t.getComputedStyle&&t.getComputedStyle(n,"").pointerEvents==="auto",r.removeChild(n),!!u):!1}(),e=u?"touchstart":"mousedown",o=u?"touchmove":"mousemove",s=u?"touchend":"mouseup";eCancel=u?"touchcancel":"mouseup";h={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand<\/button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse<\/button>',group:0,maxDepth:5,threshold:20,dropCallback:null};c.prototype={init:function(){var i=this;i.reset();i.el.data("nestable-group",this.options.group);i.placeEl=n('<div class="'+i.options.placeClass+'"/>');n.each(this.el.find(i.options.itemNodeName),function(t,r){i.setParent(n(r))});i.el.on("click","button",function(t){if(!i.dragEl&&(u||t.button===0)){var r=n(t.currentTarget),f=r.data("action"),e=r.parent(i.options.itemNodeName);f==="collapse"&&i.collapseItem(e);f==="expand"&&i.expandItem(e)}});var f=function(t){var r=n(t.target);if(!r.hasClass(i.options.handleClass)){if(r.closest("."+i.options.noDragClass).length)return;r=r.closest("."+i.options.handleClass)}r.length&&!i.dragEl&&(u||t.button===0)&&(!u||t.touches.length===1)&&(t.preventDefault(),i.dragStart(u?t.touches[0]:t))},h=function(n){i.dragEl&&(n.preventDefault(),i.dragMove(u?n.touches[0]:n))},r=function(n){i.dragEl&&(n.preventDefault(),i.dragStop(u?n.touches[0]:n))};if(u)i.el[0].addEventListener(e,f,!1),t.addEventListener(o,h,!1),t.addEventListener(s,r,!1),t.addEventListener(eCancel,r,!1);else{i.el.on(e,f);i.w.on(o,h);i.w.on(s,r)}},serialize:function(){var t=this;return step=function(i,r){var u=[],f=i.children(t.options.itemNodeName);return f.each(function(){var i=n(this),f=n.extend({},i.data()),e=i.children(t.options.listNodeName);e.length&&(f.children=step(e,r+1));u.push(f)}),u},step(t.el.find(t.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0};this.moving=!1;this.dragEl=null;this.dragRootEl=null;this.dragDepth=0;this.hasNewRoot=!1;this.pointEl=null;this.sourceRoot=null},expandItem:function(n){n.removeClass(this.options.collapsedClass);n.children('[data-action="expand"]').hide();n.children('[data-action="collapse"]').show();n.children(this.options.listNodeName).show()},collapseItem:function(n){var t=n.children(this.options.listNodeName);t.length&&(n.addClass(this.options.collapsedClass),n.children('[data-action="collapse"]').hide(),n.children('[data-action="expand"]').show(),n.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(n(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(n(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(n(this.options.expandBtnHTML)),t.prepend(n(this.options.collapseBtnHTML)));t.children('[data-action="expand"]').hide()},unsetParent:function(n){n.removeClass(this.options.collapsedClass);n.children("[data-action]").remove();n.children(this.options.listNodeName).remove()},dragStart:function(t){var u=this.mouse,e=n(t.target),f=e.closest(this.options.itemNodeName),o,s,h;for(this.sourceRoot=e.closest("."+this.options.rootClass),this.placeEl.css("height",f.height()),u.offsetX=t.offsetX!==r?t.offsetX:t.pageX-e.offset().left,u.offsetY=t.offsetY!==r?t.offsetY:t.pageY-e.offset().top,u.startX=u.lastX=t.pageX,u.startY=u.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=n(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",f.width()),f.after(this.placeEl),f[0].parentNode.removeChild(f[0]),f.appendTo(this.dragEl),n(i.body).append(this.dragEl),this.dragEl.css({left:t.pageX-u.offsetX,top:t.pageY-u.offsetY}),h=this.dragEl.find(this.options.itemNodeName),o=0;o<h.length;o++)s=n(h[o]).parents(this.options.listNodeName).length,s>this.dragDepth&&(this.dragDepth=s)},dragStop:function(){var t=this.dragEl.children(this.options.itemNodeName).first(),i,r,u;t[0].parentNode.removeChild(t[0]);this.placeEl.replaceWith(t);this.dragEl.remove();this.el.trigger("change");i=t.parent().parent();r=null;i===null||i.is("."+this.options.rootClass)||(r=i.data("id"));n.isFunction(this.options.dropCallback)&&(u={sourceId:t.data("id"),destId:r,sourceEl:t,destParent:i,destRoot:t.closest("."+this.options.rootClass),sourceRoot:this.sourceRoot},this.options.dropCallback.call(this,u));this.hasNewRoot&&this.dragRootEl.trigger("change");this.reset()},dragMove:function(r){var o,h,s,p,c,e=this.options,u=this.mouse,l,a,v,y,w;if(this.dragEl.css({left:r.pageX-u.offsetX,top:r.pageY-u.offsetY}),u.lastX=u.nowX,u.lastY=u.nowY,u.nowX=r.pageX,u.nowY=r.pageY,u.distX=u.nowX-u.lastX,u.distY=u.nowY-u.lastY,u.lastDirX=u.dirX,u.lastDirY=u.dirY,u.dirX=u.distX===0?0:u.distX>0?1:-1,u.dirY=u.distY===0?0:u.distY>0?1:-1,l=Math.abs(u.distX)>Math.abs(u.distY)?1:0,!u.moving){u.dirAx=l;u.moving=!0;return}if(u.dirAx!==l?(u.distAxX=0,u.distAxY=0):(u.distAxX+=Math.abs(u.distX),u.dirX!==0&&u.dirX!==u.lastDirX&&(u.distAxX=0),u.distAxY+=Math.abs(u.distY),u.dirY!==0&&u.dirY!==u.lastDirY&&(u.distAxY=0)),u.dirAx=l,u.dirAx&&u.distAxX>=e.threshold&&(u.distAxX=0,s=this.placeEl.prev(e.itemNodeName),u.distX>0&&s.length&&!s.hasClass(e.collapsedClass)&&(o=s.find(e.listNodeName).last(),c=this.placeEl.parents(e.listNodeName).length,c+this.dragDepth<=e.maxDepth&&(o.length?(o=s.children(e.listNodeName).last(),o.append(this.placeEl)):(o=n("<"+e.listNodeName+"/>").addClass(e.listClass),o.append(this.placeEl),s.append(o),this.setParent(s)))),u.distX<0&&(p=this.placeEl.next(e.itemNodeName),p.length||(h=this.placeEl.parent(),this.placeEl.closest(e.itemNodeName).after(this.placeEl),h.children().length||this.unsetParent(h.parent())))),a=!1,f||(this.dragEl[0].style.visibility="hidden"),this.pointEl=n(i.elementFromPoint(r.pageX-i.body.scrollLeft,r.pageY-(t.pageYOffset||i.documentElement.scrollTop))),f||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(e.handleClass)&&(this.pointEl=this.pointEl.parent(e.itemNodeName)),this.pointEl.hasClass(e.emptyClass))a=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(e.itemClass))return;if(v=this.pointEl.closest("."+e.rootClass),y=this.dragRootEl.data("nestable-id")!==v.data("nestable-id"),!u.dirAx||y||a){if(y&&e.group!==v.data("nestable-group"))return;if(c=this.dragDepth-1+this.pointEl.parents(e.listNodeName).length,c>e.maxDepth)return;w=r.pageY<this.pointEl.offset().top+this.pointEl.height()/2;h=this.placeEl.parent();a?(o=n(i.createElement(e.listNodeName)).addClass(e.listClass),o.append(this.placeEl),this.pointEl.replaceWith(o)):w?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl);h.children().length||this.unsetParent(h.parent());this.dragRootEl.find(e.itemNodeName).length||this.dragRootEl.append('<div class="'+e.emptyClass+'"/>');y&&(this.dragRootEl=v,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}};n.fn.nestable=function(t){var i=this,r=this;return i.each(function(){var i=n(this).data("nestable");i?typeof t=="string"&&typeof i[t]=="function"&&(r=i[t]()):(n(this).data("nestable",new c(this,t)),n(this).data("nestable-id",(new Date).getTime()))}),r||i}})(window.jQuery||window.Zepto,window,document);
/*!
 handlebars v1.3.0
Copyright (C) 2011 by Yehuda Katz
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
@license
*/
Handlebars=function(){var r=function(){"use strict";function n(n){this.string=n}var t;return n.prototype.toString=function(){return""+this.string},t=n}(),t=function(n){"use strict";function f(n){return c[n]||"&amp;"}function e(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}function o(n){return n instanceof h?n.toString():n||0===n?(n=""+n,a.test(n)?n.replace(l,f):n):""}function s(n){return n||0===n?u(n)&&0===n.length?!0:!1:!0}var t={},h=n,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,a=/[&<>"'`]/,i,r,u;return t.extend=e,i=Object.prototype.toString,t.toString=i,r=function(n){return"function"==typeof n},r(/x/)&&(r=function(n){return"function"==typeof n&&"[object Function]"===i.call(n)}),t.isFunction=r,u=Array.isArray||function(n){return n&&"object"==typeof n?"[object Array]"===i.call(n):!1},t.isArray=u,t.escapeExpression=o,t.isEmpty=s,t}(r),n=function(){"use strict";function t(t,i){var u,f,r;for(i&&i.firstLine&&(u=i.firstLine,t+=" - "+u+":"+i.firstColumn),f=Error.prototype.constructor.call(this,t),r=0;r<n.length;r++)this[n[r]]=f[n[r]];u&&(this.lineNumber=u,this.column=i.firstColumn)}var i,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,i=t}(),i=function(n,t){"use strict";function e(n,t){this.helpers=n||{};this.partials=t||{};p(this)}function p(n){n.registerHelper("helperMissing",function(n){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+n+"'");});n.registerHelper("blockHelperMissing",function(t,i){var r=i.inverse||function(){},u=i.fn;return f(t)&&(t=t.call(this)),t===!0?u(this):t===!1||null==t?r(this):a(t)?t.length>0?n.helpers.each(t,i):r(this):u(t)});n.registerHelper("each",function(n,t){var i,s=t.fn,c=t.inverse,r=0,u="",h,e;if(f(n)&&(n=n.call(this)),t.data&&(i=o(t.data)),n&&"object"==typeof n)if(a(n))for(h=n.length;h>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===n.length-1),u+=s(n[r],{data:i});else for(e in n)n.hasOwnProperty(e)&&(i&&(i.key=e,i.index=r,i.first=0===r),u+=s(n[e],{data:i}),r++);return 0===r&&(u=c(this)),u});n.registerHelper("if",function(n,t){return f(n)&&(n=n.call(this)),!t.hash.includeZero&&!n||r.isEmpty(n)?t.inverse(this):t.fn(this)});n.registerHelper("unless",function(t,i){return n.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})});n.registerHelper("with",function(n,t){return f(n)&&(n=n.call(this)),r.isEmpty(n)?void 0:t.fn(n)});n.registerHelper("log",function(t,i){var r=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;n.log(r,t)})}function s(n,t){u.log(n,t)}var i={},r=n,h=t,c,l,u,o;i.VERSION="1.3.0";c=4;i.COMPILER_REVISION=c;l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};i.REVISION_CHANGES=l;var a=r.isArray,f=r.isFunction,v=r.toString,y="[object Object]";return i.HandlebarsEnvironment=e,e.prototype={constructor:e,logger:u,log:s,registerHelper:function(n,t,i){if(v.call(n)===y){if(i||t)throw new h("Arg not supported with multiple helpers");r.extend(this.helpers,n)}else i&&(t.not=i),this.helpers[n]=t},registerPartial:function(n,t){v.call(n)===y?r.extend(this.partials,n):this.partials[n]=t}},u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(n,t){if(u.level<=n){var i=u.methodMap[n];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}},i.logger=u,i.log=s,o=function(n){var t={};return r.extend(t,n),t},i.createFrame=o,i}(t,n),f=function(n,t,i){"use strict";function s(n){var t=n&&n[0]||1,i=v,r,f;if(t!==i){if(i>t){r=o[i];f=o[t];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+f+").");}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").");}}function h(n,t){if(!t)throw new u("No environment passed to template");var r=function(n,i,r,f,e,o){var s=t.VM.invokePartial.apply(this,arguments),h;if(null!=s)return s;if(t.compile)return h={helpers:f,partials:e,data:o},e[i]=t.compile(n,{data:void 0!==o},t),e[i](r,h);throw new u("The partial "+i+" could not be compiled when running in runtime-only mode");},i={escapeExpression:e.escapeExpression,invokePartial:r,programs:[],program:function(n,t,i){var r=this.programs[n];return i?r=f(n,t,i):r||(r=this.programs[n]=f(n,t)),r},merge:function(n,t){var i=n||t;return n&&t&&n!==t&&(i={},e.extend(i,t),e.extend(i,n)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(r,u){var f,e,o,s;return u=u||{},o=u.partial?u:t,u.partial||(f=u.helpers,e=u.partials),s=n.call(i,o,r,f,e,u.data),u.partial||t.VM.checkRevision(i.compilerInfo),s}}function c(n,t,i){var u=Array.prototype.slice.call(arguments,3),r=function(n,r){return r=r||{},t.apply(this,[n,r.data||i].concat(u))};return r.program=n,r.depth=u.length,r}function f(n,t,i){var r=function(n,r){return r=r||{},t(n,r.data||i)};return r.program=n,r.depth=0,r}function l(n,t,i,r,f,e){var o={partial:!0,helpers:r,partials:f,data:e};if(void 0===n)throw new u("The partial "+t+" could not be found");if(n instanceof Function)return n(i,o)}function a(){return""}var r={},e=n,u=t,v=i.COMPILER_REVISION,o=i.REVISION_CHANGES;return r.checkRevision=s,r.template=h,r.programWithDepth=c,r.program=f,r.invokePartial=l,r.noop=a,r}(t,n,i),e=function(n,t,i,r,u){"use strict";var c,f=n,l=t,a=i,e=r,o=u,s=function(){var n=new f.HandlebarsEnvironment;return e.extend(n,f),n.SafeString=l,n.Exception=a,n.Utils=e,n.VM=o,n.template=function(t){return o.template(t,n)},n},h=s();return h.create=s,c=h}(i,r,n,t,f),u=function(n){"use strict";function t(n){n=n||{};this.firstLine=n.first_line;this.firstColumn=n.first_column;this.lastColumn=n.last_column;this.lastLine=n.last_line}var r=n,i={ProgramNode:function(n,r,u,f){var o,e;3===arguments.length?(f=u,u=null):2===arguments.length&&(f=r,r=null);t.call(this,f);this.type="program";this.statements=n;this.strip={};u?(e=u[0],e?(o={first_line:e.firstLine,last_line:e.lastLine,last_column:e.lastColumn,first_column:e.firstColumn},this.inverse=new i.ProgramNode(u,r,o)):this.inverse=new i.ProgramNode(u,r),this.strip.right=r.left):r&&(this.strip.left=r.right)},MustacheNode:function(n,r,u,f,e){if(t.call(this,e),this.type="mustache",this.strip=f,null!=u&&u.charAt){var o=u.charAt(3)||u.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!u;this.sexpr=n instanceof i.SexprNode?n:new i.SexprNode(n,r);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(n,i,r){t.call(this,r);this.type="sexpr";this.hash=i;var u=this.id=n[0],f=this.params=n.slice(1),e=this.eligibleHelper=u.isSimple;this.isHelper=e&&(f.length||i)},PartialNode:function(n,i,r,u){t.call(this,u);this.type="partial";this.partialName=n;this.context=i;this.strip=r},BlockNode:function(n,i,u,f,e){if(t.call(this,e),n.sexpr.id.original!==f.path.original)throw new r(n.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block";this.mustache=n;this.program=i;this.inverse=u;this.strip={left:n.strip.left,right:f.strip.right};(i||u).strip.left=n.strip.right;(u||i).strip.right=f.strip.left;u&&!i&&(this.isInverse=!0)},ContentNode:function(n,i){t.call(this,i);this.type="content";this.string=n},HashNode:function(n,i){t.call(this,i);this.type="hash";this.pairs=n},IdNode:function(n,i){var u;t.call(this,i);this.type="ID";for(var o="",f=[],s=0,e=0,h=n.length;h>e;e++)if(u=n[e].part,o+=(n[e].separator||"")+u,".."===u||"."===u||"this"===u){if(f.length>0)throw new r("Invalid path: "+o,this);".."===u?s++:this.isScoped=!0}else f.push(u);this.original=o;this.parts=f;this.string=f.join(".");this.depth=s;this.isSimple=1===n.length&&!this.isScoped&&0===s;this.stringModeValue=this.string},PartialNameNode:function(n,i){t.call(this,i);this.type="PARTIAL_NAME";this.name=n.original},DataNode:function(n,i){t.call(this,i);this.type="DATA";this.id=n},StringNode:function(n,i){t.call(this,i);this.type="STRING";this.original=this.string=this.stringModeValue=n},IntegerNode:function(n,i){t.call(this,i);this.type="INTEGER";this.original=this.integer=n;this.stringModeValue=Number(n)},BooleanNode:function(n,i){t.call(this,i);this.type="BOOLEAN";this.bool=n;this.stringModeValue="true"===n},CommentNode:function(n,i){t.call(this,i);this.type="comment";this.comment=n}};return i}(n),o=function(){"use strict";return function(){function n(n,t){return{left:"~"===n.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,i,r,u,f,e){var o=e.length-1;switch(f){case 1:return new u.ProgramNode(e[o-1],this._$);case 2:return new u.ProgramNode([],this._$);case 3:this.$=new u.ProgramNode([],e[o-1],e[o],this._$);break;case 4:this.$=new u.ProgramNode(e[o-2],e[o-1],e[o],this._$);break;case 5:this.$=new u.ProgramNode(e[o-1],e[o],[],this._$);break;case 6:this.$=new u.ProgramNode(e[o],this._$);break;case 7:this.$=new u.ProgramNode([],this._$);break;case 8:this.$=new u.ProgramNode([],this._$);break;case 9:this.$=[e[o]];break;case 10:e[o-1].push(e[o]);this.$=e[o-1];break;case 11:this.$=new u.BlockNode(e[o-2],e[o-1].inverse,e[o-1],e[o],this._$);break;case 12:this.$=new u.BlockNode(e[o-2],e[o-1],e[o-1].inverse,e[o],this._$);break;case 13:this.$=e[o];break;case 14:this.$=e[o];break;case 15:this.$=new u.ContentNode(e[o],this._$);break;case 16:this.$=new u.CommentNode(e[o],this._$);break;case 17:this.$=new u.MustacheNode(e[o-1],null,e[o-2],n(e[o-2],e[o]),this._$);break;case 18:this.$=new u.MustacheNode(e[o-1],null,e[o-2],n(e[o-2],e[o]),this._$);break;case 19:this.$={path:e[o-1],strip:n(e[o-2],e[o])};break;case 20:this.$=new u.MustacheNode(e[o-1],null,e[o-2],n(e[o-2],e[o]),this._$);break;case 21:this.$=new u.MustacheNode(e[o-1],null,e[o-2],n(e[o-2],e[o]),this._$);break;case 22:this.$=new u.PartialNode(e[o-2],e[o-1],n(e[o-3],e[o]),this._$);break;case 23:this.$=n(e[o-1],e[o]);break;case 24:this.$=new u.SexprNode([e[o-2]].concat(e[o-1]),e[o],this._$);break;case 25:this.$=new u.SexprNode([e[o]],null,this._$);break;case 26:this.$=e[o];break;case 27:this.$=new u.StringNode(e[o],this._$);break;case 28:this.$=new u.IntegerNode(e[o],this._$);break;case 29:this.$=new u.BooleanNode(e[o],this._$);break;case 30:this.$=e[o];break;case 31:e[o-1].isHelper=!0;this.$=e[o-1];break;case 32:this.$=new u.HashNode(e[o],this._$);break;case 33:this.$=[e[o-2],e[o]];break;case 34:this.$=new u.PartialNameNode(e[o],this._$);break;case 35:this.$=new u.PartialNameNode(new u.StringNode(e[o],this._$),this._$);break;case 36:this.$=new u.PartialNameNode(new u.IntegerNode(e[o],this._$));break;case 37:this.$=new u.DataNode(e[o],this._$);break;case 38:this.$=new u.IdNode(e[o],this._$);break;case 39:e[o-2].push({part:e[o],separator:e[o-1]});this.$=e[o-2];break;case 40:this.$=[{part:e[o]}];break;case 43:this.$=[];break;case 44:e[o-1].push(e[o]);break;case 47:this.$=[e[o]];break;case 48:e[o-1].push(e[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(n){throw new Error(n);},parse:function(n){function it(){var n;return n=k.lexer.lex()||1,"number"!=typeof n&&(n=k.symbols_[n]||n),n}var k=this,r=[0],e=[null],t=[],h=this.table,d="",c=0,g=0,y=0,l,nt,i,p,o,u,w,a,f,tt,v,s,b;for(this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={}),l=this.lexer.yylloc,t.push(l),nt=this.lexer.options&&this.lexer.options.ranges,"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError),s={};;){if((o=r[r.length-1],this.defaultActions[o]?u=this.defaultActions[o]:((null===i||"undefined"==typeof i)&&(i=it()),u=h[o]&&h[o][i]),"undefined"==typeof u||!u.length||!u[0])&&(b="",!y)){v=[];for(a in h[o])this.terminals_[a]&&a>2&&v.push("'"+this.terminals_[a]+"'");b=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[i]||i)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==i?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(b,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:l,expected:v})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+o+", token: "+i);switch(u[0]){case 1:r.push(i);e.push(this.lexer.yytext);t.push(this.lexer.yylloc);r.push(u[1]);i=null;p?(i=p,p=null):(g=this.lexer.yyleng,d=this.lexer.yytext,c=this.lexer.yylineno,l=this.lexer.yylloc,y>0&&y--);break;case 2:if(f=this.productions_[u[1]][1],s.$=e[e.length-f],s._$={first_line:t[t.length-(f||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(f||1)].first_column,last_column:t[t.length-1].last_column},nt&&(s._$.range=[t[t.length-(f||1)].range[0],t[t.length-1].range[1]]),w=this.performAction.call(s,d,g,c,this.yy,u[1],e,t),"undefined"!=typeof w)return w;f&&(r=r.slice(0,-2*f),e=e.slice(0,-1*f),t=t.slice(0,-1*f));r.push(this.productions_[u[1]][0]);e.push(s.$);t.push(s._$);tt=h[r[r.length-2]][r[r.length-1]];r.push(tt);break;case 3:return!0}}return!0}},r=function(){var n={EOF:1,parseError:function(n,t){if(!this.yy.parser)throw new Error(n);this.yy.parser.parseError(n,t)},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var n=this._input[0],t;return this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,t=n.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),n},unput:function(n){var i=n.length,t=n.split(/(?:\r\n?|\n)/g),r,u;return this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-i-1),this.offset-=i,r=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),u=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-i},this.options.ranges&&(this.yylloc.range=[u[0],u[0]+this.yyleng-i]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),t=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+t+"^"},next:function(){var f,n,r,e,t,u,i;if(this.done)return this.EOF;for(this._input||(this.done=!0),this._more||(this.yytext="",this.match=""),u=this._currentRules(),i=0;i<u.length&&(r=this._input.match(this.rules[u[i]]),!r||n&&!(r[0].length>n[0].length)||(n=r,e=i,this.options.flex));i++);return n?(t=n[0].match(/(?:\r\n?|\n).*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-t[t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],f=this.performAction.call(this,this.yy,this,u[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f?f:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return"undefined"!=typeof n?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return n.options={},n.performAction=function(n,t,i){function r(n,i){return t.yytext=t.yytext.substr(n,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState();this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},n.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],n.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},n}();return i.lexer=r,t.prototype=i,i.Parser=t,new t}()}(),s=function(n,t){"use strict";function f(n){return n.constructor===u.ProgramNode?n:(r.yy=u,r.parse(n))}var i={},r=n,u=t;return i.parser=r,i.parse=f,i}(o,u),h=function(n){"use strict";function r(){}function u(n,t,r){if(null==n||"string"!=typeof n&&n.constructor!==r.AST.ProgramNode)throw new i("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);t=t||{};"data"in t||(t.data=!0);var u=r.parse(n),f=(new r.Compiler).compile(u,t);return(new r.JavaScriptCompiler).compile(f,t)}function f(n,t,r){function f(){var i=r.parse(n),u=(new r.Compiler).compile(i,t),f=(new r.JavaScriptCompiler).compile(u,t,void 0,!0);return r.template(f)}if(null==n||"string"!=typeof n&&n.constructor!==r.AST.ProgramNode)throw new i("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);t=t||{};"data"in t||(t.data=!0);var u;return function(n,t){return u||(u=f()),u.call(this,n,t)}}var t={},i=n;return t.Compiler=r,r.prototype={compiler:r,disassemble:function(){for(var i,n,r,t,e=this.opcodes,u=[],f=0,o=e.length;o>f;f++)if(n=e[f],"DECLARE"===n.opcode)u.push("DECLARE "+n.name+"="+n.value);else{for(r=[],i=0;i<n.args.length;i++)t=n.args[i],"string"==typeof t&&(t='"'+t.replace("\n","\\n")+'"'),r.push(t);u.push(n.opcode+" "+r.join(" "))}return u.join("\n")},equals:function(n){var i=this.opcodes.length,t,r,f,u;if(n.opcodes.length!==i)return!1;for(t=0;i>t;t++){if(r=this.opcodes[t],f=n.opcodes[t],r.opcode!==f.opcode||r.args.length!==f.args.length)return!1;for(u=0;u<r.args.length;u++)if(r.args[u]!==f.args[u])return!1}if(i=this.children.length,n.children.length!==i)return!1;for(t=0;i>t;t++)if(!this.children[t].equals(n.children[t]))return!1;return!0},guid:0,compile:function(n,t){var i,r;if(this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t,i=this.options.knownHelpers,this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(r in i)this.options.knownHelpers[r]=i[r];return this.accept(n)},accept:function(n){var t,i=n.strip||{};return i.left&&this.opcode("strip"),t=this[n.type](n),i.right&&this.opcode("strip"),t},program:function(n){for(var i=n.statements,t=0,r=i.length;r>t;t++)this.accept(i[t]);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(n,t){return n-t}),this},compileProgram:function(n){var r,t=(new this.compiler).compile(n,this.options),u=this.guid++,i,f;for(this.usePartial=this.usePartial||t.usePartial,this.children[u]=t,i=0,f=t.depths.list.length;f>i;i++)r=t.depths.list[i],2>r||this.addDepth(r-1);return u},block:function(n){var f=n.mustache,t=n.program,i=n.inverse,r,u;t&&(t=this.compileProgram(t));i&&(i=this.compileProgram(i));r=f.sexpr;u=this.classifySexpr(r);"helper"===u?this.helperSexpr(r,t,i):"simple"===u?(this.simpleSexpr(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(n){var r,t,u=n.pairs,i,f;for(this.opcode("pushHash"),i=0,f=u.length;f>i;i++)r=u[i],t=r[1],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this.accept(t),this.opcode("assignToHash",r[0]);this.opcode("popHash")},partial:function(n){var t=n.partialName;this.usePartial=!0;n.context?this.ID(n.context):this.opcode("push","depth0");this.opcode("invokePartial",t.name);this.opcode("append")},content:function(n){this.opcode("appendContent",n.string)},mustache:function(n){this.sexpr(n.sexpr);this.opcode(n.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(n,t,i){var r=n.id,u=r.parts[0],f=null!=t||null!=i;this.opcode("getContext",r.depth);this.opcode("pushProgram",t);this.opcode("pushProgram",i);this.opcode("invokeAmbiguous",u,f)},simpleSexpr:function(n){var t=n.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(n,t,r){var f=this.setupFullMustacheParams(n,t,r),u=n.id.parts[0];if(this.options.knownHelpers[u])this.opcode("invokeKnownHelper",f.length,u);else{if(this.options.knownHelpersOnly)throw new i("You specified knownHelpersOnly, but used the unknown helper "+u,n);this.opcode("invokeHelper",f.length,u,n.isRoot)}},sexpr:function(n){var t=this.classifySexpr(n);"simple"===t?this.simpleSexpr(n):"helper"===t?this.helperSexpr(n):this.ambiguousSexpr(n)},ID:function(n){var i,t,r;for(this.addDepth(n.depth),this.opcode("getContext",n.depth),i=n.parts[0],i?this.opcode("lookupOnContext",n.parts[0]):this.opcode("pushContext"),t=1,r=n.parts.length;r>t;t++)this.opcode("lookup",n.parts[t])},DATA:function(n){if(this.options.data=!0,n.id.isScoped||n.id.depth)throw new i("Scoped data references are not supported: "+n.original,n);this.opcode("lookupData");for(var r=n.id.parts,t=0,u=r.length;u>t;t++)this.opcode("lookup",r[t])},STRING:function(n){this.opcode("pushString",n.string)},INTEGER:function(n){this.opcode("pushLiteral",n.integer)},BOOLEAN:function(n){this.opcode("pushLiteral",n.bool)},comment:function(){},opcode:function(n){this.opcodes.push({opcode:n,args:[].slice.call(arguments,1)})},declare:function(n,t){this.opcodes.push({opcode:"DECLARE",name:n,value:t})},addDepth:function(n){0!==n&&(this.depths[n]||(this.depths[n]=!0,this.depths.list.push(n)))},classifySexpr:function(n){var t=n.isHelper,i=n.eligibleHelper,r=this.options,u;return i&&!t&&(u=n.id.parts[0],r.knownHelpers[u]?t=!0:r.knownHelpersOnly&&(i=!1)),t?"helper":i?"ambiguous":"simple"},pushParams:function(n){for(var t,i=n.length;i--;)t=n[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(n,t,i){var r=n.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),n.hash?this.hash(n.hash):this.opcode("emptyHash"),r}},t.precompile=u,t.compile=f,t}(n),c=function(n,t){"use strict";function r(n){this.value=n}function i(){}var s,h=n.COMPILER_REVISION,c=n.REVISION_CHANGES,f=n.log,e=t;i.prototype={nameLookup:function(n,t){var u,r;return 0===n.indexOf("depth")&&(u=!0),r=/^[0-9]+$/.test(t)?n+"["+t+"]":i.isValidJavaScriptVariableName(t)?n+"."+t:n+"['"+t+"']",u?"("+n+" && "+r+")":r},compilerInfo:function(){var n=h,t=c[n];return"this.compilerInfo = ["+n+",'"+t+"'];\n"},appendToBuffer:function(n){return this.environment.isSimple?"return "+n+";":{appendToBuffer:!0,content:n,toString:function(){return"buffer += "+n+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(n,t,i,r){var u,o,s;for(this.environment=n,this.options=t||{},f("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(n,t),o=n.opcodes,this.i=0,s=o.length;this.i<s;this.i++)u=o[this.i],"DECLARE"===u.opcode?this[u.name]=u.value:this[u.opcode].apply(this,u.args),u.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new e("Compile completed with content left on stack");return this.createFunctionContext(r)},preamble:function(){var t=[],i,n;this.isChild?t.push(""):(i=this.namespace,n="helpers = this.merge(helpers, "+i+".helpers);",this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+i+".partials);"),this.options.data&&(n+=" data = data || {};"),t.push(n));t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=t},createFunctionContext:function(n){var o=this.stackVars.concat(this.registers.list),i,t,e;if(o.length>0&&(this.source[1]=this.source[1]+", "+o.join(", ")),!this.isChild)for(i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],u=0,s=this.environment.depths.list.length;s>u;u++)r.push("depth"+this.environment.depths.list[u]);return(t=this.mergeSource(),this.isChild||(t=this.compilerInfo()+t),n)?(r.push(t),Function.apply(this,r)):(e="function "+(this.name||"")+"("+r.join(",")+") {\n  "+t+"}",f("debug",e+"\n\n"),e)},mergeSource:function(){for(var t,n,i="",r=0,u=this.source.length;u>r;r++)t=this.source[r],t.appendToBuffer?n=n?n+"\n    + "+t.content:t.content:(n&&(i+="buffer += "+n+";\n  ",n=void 0),i+=t+"\n  ");return i},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var n=["depth0"];this.setupParams(0,n);this.replaceStack(function(t){return n.splice(1,0,t),"blockHelperMissing.call("+n.join(", ")+")"})},ambiguousBlockValue:function(){var n,t;this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";n=["depth0"];this.setupParams(0,n);t=this.topStack();n.splice(1,0,t);this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+n.join(", ")+"); }")},appendContent:function(n){this.pendingContent&&(n=this.pendingContent+n);this.stripNext&&(n=n.replace(/^\s+/,""));this.pendingContent=n},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var n=this.popStack();this.pushSource("if("+n+" || "+n+" === 0) { "+this.appendToBuffer(n)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(n){this.lastContext!==n&&(this.lastContext=n)},lookupOnContext:function(n){this.push(this.nameLookup("depth"+this.lastContext,n,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(n){return"typeof "+n+" === functionType ? "+n+".apply(depth0) : "+n})},lookup:function(n){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,n,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(n,t){this.pushStackLiteral("depth"+this.lastContext);this.pushString(t);"sexpr"!==t&&("string"==typeof n?this.pushString(n):this.pushStackLiteral(n))},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[]}},popHash:function(){var n=this.hash;this.hash=this.hashes.pop();this.options.stringParams&&(this.push("{"+n.contexts.join(",")+"}"),this.push("{"+n.types.join(",")+"}"));this.push("{\n    "+n.values.join(",\n    ")+"\n  }")},pushString:function(n){this.pushStackLiteral(this.quotedString(n))},push:function(n){return this.inlineStack.push(n),n},pushLiteral:function(n){this.pushStackLiteral(n)},pushProgram:function(n){this.pushStackLiteral(null!=n?this.programExpression(n):null)},invokeHelper:function(n,t,i){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");var r=this.lastHelper=this.setupHelper(n,t,!0),f=this.nameLookup("depth"+this.lastContext,t,"context"),u="helper = "+r.name+" || "+f;r.paramsInit&&(u+=","+r.paramsInit);this.push("("+u+",helper ? helper.call("+r.callParams+") : helperMissing.call("+r.helperMissingParams+"))");i||this.flushInline()},invokeKnownHelper:function(n,t){var i=this.setupHelper(n,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(n,t){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var i=this.setupHelper(0,n,t),u=this.lastHelper=this.nameLookup("helpers",n,"helper"),f=this.nameLookup("depth"+this.lastContext,n,"context"),r=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit);this.pushSource("if (helper = "+u+") { "+r+" = helper.call("+i.callParams+"); }");this.pushSource("else { helper = "+f+"; "+r+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(n){var t=[this.nameLookup("partials",n,"partial"),"'"+n+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(n){var i,r,u=this.popStack(),t;this.options.stringParams&&(r=this.popStack(),i=this.popStack());t=this.hash;i&&t.contexts.push("'"+n+"': "+i);r&&t.types.push("'"+n+"': "+r);t.values.push("'"+n+"': ("+u+")")},compiler:i,compileChildren:function(n,t){for(var i,r,f,e=n.children,u=0,o=e.length;o>u;u++)r=e[u],f=new this.compiler,i=this.matchExistingProgram(r),null==i?(this.context.programs.push(""),i=this.context.programs.length,r.index=i,r.name="program"+i,this.context.programs[i]=f.compile(r,t,this.context),this.context.environments[i]=r):(r.index=i,r.name="program"+i)},matchExistingProgram:function(n){for(var i,t=0,r=this.context.environments.length;r>t;t++)if(i=this.context.environments[t],i&&i.equals(n))return t},programExpression:function(n){if(this.context.aliases.self="this",null==n)return"self.noop";for(var t,i=this.environment.children[n],r=i.depths.list,f=[i.index,i.name,"data"],u=0,e=r.length;e>u;u++)t=r[u],f.push(1===t?"depth0":"depth"+(t-1));return(0===r.length?"self.program(":"self.programWithDepth(")+f.join(", ")+")"},register:function(n,t){this.useRegister(n);this.pushSource(n+" = "+t+";")},useRegister:function(n){this.registers[n]||(this.registers[n]=!0,this.registers.list.push(n))},pushStackLiteral:function(n){return this.push(new r(n))},pushSource:function(n){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);n&&this.source.push(n)},pushStack:function(n){this.flushInline();var t=this.incrStack();return n&&this.pushSource(t+" = "+n+";"),this.compileStack.push(t),t},replaceStack:function(n){var t,u,o,f="",s=this.isInline(),i,h,e;return s?(i=this.popStack(!0),i instanceof r?(t=i.value,o=!0):(u=!this.stackSlot,h=u?this.incrStack():this.topStackName(),f="("+this.push(h)+" = "+i+"),",t=this.topStack())):t=this.topStack(),e=n.call(this,t),s?(o||this.popStack(),u&&this.stackSlot--,this.push("("+f+e+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+f+e+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var i=this.inlineStack,n,u,t;if(i.length)for(this.inlineStack=[],n=0,u=i.length;u>n;n++)t=i[n],t instanceof r?this.compileStack.push(t):this.pushStack(t)},isInline:function(){return this.inlineStack.length},popStack:function(n){var i=this.isInline(),t=(i?this.inlineStack:this.compileStack).pop();if(!n&&t instanceof r)return t.value;if(!i){if(!this.stackSlot)throw new e("Invalid stack pop");this.stackSlot--}return t},topStack:function(n){var i=this.isInline()?this.inlineStack:this.compileStack,t=i[i.length-1];return!n&&t instanceof r?t.value:t},quotedString:function(n){return'"'+n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(n,t,i){var r=[],u=this.setupParams(n,r,i),f=this.nameLookup("helpers",t,"helper");return{params:r,paramsInit:u,name:f,callParams:["depth0"].concat(r).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupOptions:function(n,t){var e,r,u,i=[],o=[],s=[],f;for(i.push("hash:"+this.popStack()),this.options.stringParams&&(i.push("hashTypes:"+this.popStack()),i.push("hashContexts:"+this.popStack())),r=this.popStack(),u=this.popStack(),(u||r)&&(u||(this.context.aliases.self="this",u="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),i.push("inverse:"+r),i.push("fn:"+u)),f=0;n>f;f++)e=this.popStack(),t.push(e),this.options.stringParams&&(s.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(i.push("contexts:["+o.join(",")+"]"),i.push("types:["+s.join(",")+"]")),this.options.data&&i.push("data:data"),i},setupParams:function(n,t,i){var r="{"+this.setupOptions(n,t).join(",")+"}";return i?(this.useRegister("options"),t.push("options"),"options="+r):(t.push(r),"")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),l=i.RESERVED_WORDS={},u=0,a=o.length;a>u;u++)l[o[u]]=!0;return i.isValidJavaScriptVariableName=function(n){return!i.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)?!0:!1},s=i}(i,n);return function(n,t,i,r,u){"use strict";var o,f=n,s=t,h=i.parser,c=i.parse,l=r.Compiler,a=r.compile,v=r.precompile,y=u,p=f.create,e=function(){var n=p();return n.compile=function(t,i){return a(t,i,n)},n.precompile=function(t,i){return v(t,i,n)},n.AST=s,n.Compiler=l,n.JavaScriptCompiler=y,n.Parser=h,n.parse=c,n};return f=e(),f.create=e,o=f}(e,u,s,h,c)}();
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(n,t){typeof define=="function"&&define.amd?define("bloodhound",["jquery"],function(i){return n.Bloodhound=t(i)}):typeof exports=="object"?module.exports=t(require("jquery")):n.Bloodhound=t(jQuery)})(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),u="0.11.1",f=function(){"use strict";function n(n){return n=t.toStr(n),n?n.split(/\s+/):[]}function i(n){return n=t.toStr(n),n?n.split(/\W+/):[]}function r(n){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(r){var u=[];return t.each(i,function(i){u=u.concat(n(t.toStr(r[i])))}),u}}}return{nonword:i,whitespace:n,obj:{nonword:r(i),whitespace:r(n)}}}(),i=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100;this.reset();this.maxSize<=0&&(this.set=this.get=n.noop)}function r(){this.head=this.tail=null}function u(n,t){this.key=n;this.val=t;this.prev=this.next=null}return t.mixin(i.prototype,{set:function(n,t){var r=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--);(i=this.hash[n])?(i.val=t,this.list.moveToFront(i)):(i=new u(n,t),this.list.add(i),this.hash[n]=i,this.size++)},get:function(n){var t=this.hash[n];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0;this.hash={};this.list=new r}}),t.mixin(r.prototype,{add:function(n){this.head&&(n.next=this.head,this.head.prev=n);this.head=n;this.tail=this.tail||n},remove:function(n){n.prev?n.prev.next=n.next:this.head=n.next;n.next?n.next.prev=n.prev:this.tail=n.prev},moveToFront:function(n){this.remove(n);this.add(n)}}),i}(),e=function(){"use strict";function r(n,r){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||i;this.ls||this._noop()}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(t){return n.parseJSON(t)}function o(n){for(var r,u=[],f=i.length,t=0;t<f;t++)(r=i.key(t)).match(n)&&u.push(r.replace(n,""));return u}var i;try{i=window.localStorage;i.setItem("~~~","!");i.removeItem("~~~")}catch(s){i=null}return t.mixin(r.prototype,{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(n,t){try{this.ls.setItem(n,t)}catch(i){i.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(n){return this.isExpired(n)&&this.remove(n),e(this.ls.getItem(this._prefix(n)))},set:function(n,i,r){return t.isNumber(r)?this._safeSet(this._ttlKey(n),f(u()+r)):this.ls.removeItem(this._ttlKey(n)),this._safeSet(this._prefix(n),f(i))},remove:function(n){return this.ls.removeItem(this._ttlKey(n)),this.ls.removeItem(this._prefix(n)),this},clear:function(){for(var t=o(this.keyMatcher),n=t.length;n--;)this.remove(t[n]);return this},isExpired:function(n){var i=e(this.ls.getItem(this._ttlKey(n)));return t.isNumber(i)&&u()>i?!0:!1}}),r}(),r=function(){"use strict";function r(n){n=n||{};this.cancelled=!1;this.lastReq=null;this._send=n.transport;this._get=n.limiter?n.limiter(this._get):this._get;this._cache=n.cache===!1?new i(0):o}var u=0,f={},e=6,o=new i(10);return r.setMaxPendingRequests=function(n){e=n},r.resetCache=function(){o.reset()},t.mixin(r.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+n.param(t.data||{})},_get:function(n,t){function s(n){t(null,n);i._cache.set(r,n)}function h(){t(!0)}function c(){u--;delete f[r];i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r,o;(r=this._fingerprint(n),this.cancelled||r!==this.lastReq)||((o=f[r])?o.done(s).fail(h):u<e?(u++,f[r]=this._send(n).done(s).fail(h).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,r){var f,u;r=r||n.noop;i=t.isString(i)?{url:i}:i||{};u=this._fingerprint(i);this.cancelled=!1;this.lastReq=u;(f=this._cache.get(u))?r(null,f):this._get(i,r)},cancel:function(){this.cancelled=!0}}),r}(),o=window.SearchIndex=function(){"use strict";function u(i){i=i||{};i.datumTokenizer&&i.queryTokenizer||n.error("datumTokenizer and queryTokenizer are both required");this.identify=i.identify||t.stringify;this.datumTokenizer=i.datumTokenizer;this.queryTokenizer=i.queryTokenizer;this.reset()}function f(n){return n=t.filter(n,function(n){return!!n}),t.map(n,function(n){return n.toLowerCase()})}function e(){var n={};return n[r]=[],n[i]={},n}function o(n){for(var i={},r=[],t=0,u=n.length;t<u;t++)i[n[t]]||(i[n[t]]=!0,r.push(n[t]));return r}function s(n,t){var i=0,r=0,u=[],f,e;for(n=n.sort(),t=t.sort(),f=n.length,e=t.length;i<f&&r<e;)n[i]<t[r]?i++:n[i]>t[r]?r++:(u.push(n[i]),i++,r++);return u}var i="c",r="i";return t.mixin(u.prototype,{bootstrap:function(n){this.datums=n.datums;this.trie=n.trie},add:function(n){var u=this;n=t.isArray(n)?n:[n];t.each(n,function(n){var o,s;u.datums[o=u.identify(n)]=n;s=f(u.datumTokenizer(n));t.each(s,function(n){for(var f,t=u.trie,s=n.split("");f=s.shift();)t=t[i][f]||(t[i][f]=e()),t[r].push(o)})})},get:function(n){var i=this;return t.map(n,function(n){return i.datums[n]})},search:function(n){var e=this,h,u;return h=f(this.queryTokenizer(n)),t.each(h,function(n){var t,f,h,o;if(u&&u.length===0)return!1;for(t=e.trie,f=n.split("");t&&(h=f.shift());)t=t[i][h];if(t&&f.length===0)o=t[r].slice(0),u=u?s(u,o):o;else return u=[],!1}),u?t.map(o(u),function(n){return e.datums[n]}):[]},all:function(){var n=[];for(var t in this.datums)n.push(this.datums[t]);return n},reset:function(){this.datums={};this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),u}(),s=function(){"use strict";function i(n){this.url=n.url;this.ttl=n.ttl;this.cache=n.cache;this.prepare=n.prepare;this.transform=n.transform;this.transport=n.transport;this.thumbprint=n.thumbprint;this.storage=new e(n.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t={},i;return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),i=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!i?t.data:null):null},fromNetwork:function(n){function r(){n(!0)}function u(t){n(null,i.transform(t))}var i=this,t;n&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(u))},clear:function(){return this.storage.clear(),this}}),i}(),h=function(){"use strict";function n(n){this.url=n.url;this.prepare=n.prepare;this.transform=n.transform;this.transport=new r({cache:n.cache,limiter:n.limiter,transport:n.transport})}return t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(n,t){function u(n,i){n?t([]):t(r.transform(i))}var r=this,i;if(t)return n=n||"",i=this.prepare(n,this._settings()),this.transport.get(i,u)},cancelLastRequest:function(){this.transport.cancel()}}),n}(),c=function(){"use strict";function r(r){var f;return r?(f={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(f,r),r.url||n.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=u+r.thumbprint,r.transport=r.transport?i(r.transport):n.ajax,r):null}function f(r){var u;if(r)return u={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),r.url||n.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=e(r),r.limiter=o(r),r.transport=r.transport?i(r.transport):n.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r}function e(n){function u(n,t){return t.url=i(t.url,n),t}function f(n,t){return t.url=t.url.replace(r,encodeURIComponent(n)),t}function e(n,t){return t}var t,i,r;return(t=n.prepare,i=n.replace,r=n.wildcard,t)?t:i?u:n.wildcard?f:e}function o(n){function f(n){return function(i){return t.debounce(i,n)}}function e(n){return function(i){return t.throttle(i,n)}}var i,u,r;return i=n.limiter,u=n.rateLimitBy,r=n.rateLimitWait,i||(i=/^throttle$/i.test(u)?e(r):f(r)),i}function i(i){return function(r){function f(n){t.defer(function(){u.resolve(n)})}function e(n){t.defer(function(){u.reject(n)})}var u=n.Deferred();return i(r,f,e),u}}return function(i){var e,u;return e={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(e,i||{}),i.datumTokenizer||n.error("datumTokenizer is required"),i.queryTokenizer||n.error("queryTokenizer is required"),u=i.sorter,i.sorter=u?function(n){return n.sort(u)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=r(i.prefetch),i.remote=f(i.remote),i}}();return function(){"use strict";function i(n){n=c(n);this.sorter=n.sorter;this.identify=n.identify;this.sufficient=n.sufficient;this.local=n.local;this.remote=n.remote?new h(n.remote):null;this.prefetch=n.prefetch?new s(n.prefetch):null;this.index=new o({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer});n.initialize!==!1&&this.initialize()}var u;return u=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=u),i},i.tokenizers=f,t.mixin(i.prototype,{__ttAdapter:function(){function t(t,i,r){return n.search(t,i,r)}function i(t,i){return n.search(t,i)}var n=this;return this.remote?t:i},_loadPrefetch:function(){function u(n,r){if(n)return t.reject();i.add(r);i.prefetch.store(i.index.serialize());t.resolve()}var i=this,t,r;return t=n.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),t.resolve()):this.prefetch.fromNetwork(u):t.resolve(),t.promise()},_initialize:function(){function t(){n.add(n.local)}var n=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){return this.index.add(n),this},get:function(n){return n=t.isArray(n)?n:[].slice.call(arguments),this.index.get(n)},search:function(n,i,r){function e(n){var i=[];t.each(n,function(n){t.some(u,function(t){return f.identify(n)===f.identify(t)})||i.push(n)});r&&r(i)}var f=this,u;return u=this.sorter(this.index.search(n)),i(this.remote?u.slice():u),this.remote&&u.length<this.sufficient?this.remote.get(n,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(n,t){typeof define=="function"&&define.amd?define("typeahead.js",["jquery"],function(n){return t(n)}):typeof exports=="object"?module.exports=t(require("jquery")):t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),e=function(){"use strict";function i(i){var e,o;return o=t.mixin({},n,i),e={css:f(),classes:o,html:r(o),selectors:u(o)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){t.mixin(n,e)}}}function r(n){return{wrapper:'<span class="'+n.wrapper+'"><\/span>',menu:'<div class="'+n.menu+'"><\/div>'}}function u(n){var i={};return t.each(n,function(n,t){i[t]="."+n}),i}function f(){var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n}var n={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i}(),o=function(){"use strict";function u(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(u.prototype,{_trigger:function(t,r){var u;return u=n.Event(i+t),(r=r||[]).unshift(u),this.$el.trigger.apply(this.$el,r),u},before:function(n){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+n,t),i.isDefaultPrevented()},trigger:function(n){var t;this._trigger(n,[].slice.call(arguments,1));(t=r[n])&&this._trigger(t,[].slice.call(arguments,1))}}),u}(),r=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?h(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function u(n,i,r){return t.call(this,"async",n,i,r)}function f(n,i,r){return t.call(this,"sync",n,i,r)}function e(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function o(t){var u,f,e,o,s;if(!this._callbacks)return this;for(t=t.split(n),e=[].slice.call(arguments,1);(u=t.shift())&&(f=this._callbacks[u]);)o=i(f.sync,this,[u].concat(e)),s=i(f.async,this,[u].concat(e)),o()&&r(s);return this}function i(n,t,i){function r(){for(var r,u=0,f=n.length;!r&&u<f;u+=1)r=n[u].apply(t,i)===!1;return!r}return r}function s(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function h(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,r=s();return{onSync:f,onAsync:u,off:e,trigger:o}}(),s=function(n){"use strict";function r(n,i,r){for(var u=[],f,e=0,o=n.length;e<o;e++)u.push(t.escapeRegExChars(n[e]));return f=r?"\\b("+u.join("|")+")\\b":"("+u.join("|")+")",i?new RegExp(f):new RegExp(f,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,e;return(i=f.exec(t.data))&&(e=n.createElement(u.tagName),u.className&&(e.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),e.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(e,r)),!!i}function e(n,t){for(var i,r=0;r<n.childNodes.length;r++)i=n.childNodes[r],i.nodeType===3?r+=t(i)?1:0:e(i,t)}var f;(u=t.mixin({},i,u),u.node&&u.pattern)&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],f=r(u.pattern,u.caseSensitive,u.wordsOnly),e(u.node,o))}}(window.document),u=function(){"use strict";function i(i,r){i=i||{};i.input||n.error("input is missing");r.mixin(this);this.$hint=n(i.hint);this.$input=n(i.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=e(this.$input);this._checkLanguageDirection();this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function e(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function f(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return t.toStr(n).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(n){var t=u[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(n,t){var i;switch(n){case"up":case"down":i=!f(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!f(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var n=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==n&&(this.dir=n,this.$hint.attr("dir",n),this.trigger("langDirChanged",n))},_setQuery:function(n,t){var i,r;i=o(n,this.query);r=i?this.query.length!==n.length:!1;this.query=n;t||i?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var n=this,i,r,f,e;i=t.bind(this._onBlur,this);r=t.bind(this._onFocus,this);f=t.bind(this._onKeydown,this);e=t.bind(this._onInput,this);this.$input.on("blur.tt",i).on("focus.tt",r).on("keydown.tt",f);if(!t.isMsie()||t.isMsie()>9)this.$input.on("input.tt",e);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(i){u[i.which||i.keyCode]||t.defer(t.bind(n._onInput,n,i))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(n,t){this.setInputValue(n);this._setQuery(n,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(n){this.$input.val(n);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&t.indexOf(n)===0;r=n!==""&&i&&!this.hasOverflow();r||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return(n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i))?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=n("<div>")}}),i}(),f=function(){"use strict";function u(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;i.source||n.error("missing source");i.node||n.error("missing node");i.name&&!h(i.name)&&n.error("invalid dataset name: "+i.name);r.mixin(this);this.highlight=!!i.highlight;this.name=i.name||f();this.limit=i.limit||5;this.displayFn=e(i.display||i.displayKey);this.templates=o(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=n(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function e(n){function i(t){return t[n]}return n=n||t.stringify,t.isFunction(n)?n:i}function o(i,r){function u(t){return n("<div>").text(r(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||u}}function h(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var i,f;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},f=t.getIdGenerator(),u.extractData=function(t){var r=n(t);return r.data(i.obj)?{val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(u.prototype,r,{_overwrite:function(n,t){t=t||[];t.length?this._renderSuggestions(n,t):this.async&&this.templates.pending?this._renderPending(n):!this.async&&this.templates.notFound?this._renderNotFound(n):this._empty();this.trigger("rendered",this.name,t,!1)},_append:function(n,t){t=t||[];t.length&&this.$lastSuggestion.length?this._appendSuggestions(n,t):t.length?this._renderSuggestions(n,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(n);this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(n,t){var i;i=this._getSuggestionsFragment(n,t);this.$lastSuggestion=i.children().last();this.$el.html(i).prepend(this._getHeader(n,t)).append(this._getFooter(n,t))},_appendSuggestions:function(n,t){var i,r;i=this._getSuggestionsFragment(n,t);r=i.children().last();this.$lastSuggestion.after(i);this.$lastSuggestion=r},_renderPending:function(n){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_renderNotFound:function(n){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(r,u){var f=this,e;return e=document.createDocumentFragment(),t.each(u,function(t){var u,o;o=f._injectQuery(r,t);u=n(f.templates.suggestion(o)).data(i.obj,t).data(i.val,f.displayFn(t)).addClass(f.classes.suggestion+" "+f.classes.selectable);e.appendChild(u[0])}),this.highlight&&s({className:this.classes.highlight,node:e,pattern:r}),n(e)},_getFooter:function(n,t){return this.templates.footer?this.templates.footer({query:n,suggestions:t,dataset:this.name}):null},_getHeader:function(n,t){return this.templates.header?this.templates.header({query:n,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=n()},_injectQuery:function(n,i){return t.isObject(i)?t.mixin({_query:n},i):i},update:function(t){function e(n){u||(u=!0,n=(n||[]).slice(0,i.limit),r=n.length,i._overwrite(t,n),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}function o(u){u=u||[];!f&&r<i.limit&&(i.cancel=n.noop,r+=u.length,i._append(t,u.slice(0,i.limit-r)),i.async&&i.trigger("asyncReceived",t))}var i=this,f=!1,u=!1,r=0;this.cancel();this.cancel=function(){f=!0;i.cancel=n.noop;i.async&&i.trigger("asyncCanceled",t)};this.source(t,e,o);u||e([])},cancel:n.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=n("<div>")}}),u}(),i=function(){"use strict";function i(i,r){function e(t){var i=u.$node.find(t.node).first();return t.node=i.length?i:n("<div>").appendTo(u.$node),new f(t,r)}var u=this;i=i||{};i.node||n.error("node is required");r.mixin(this);this.$node=n(i.node);this.query=null;this.datasets=t.map(i.datasets,e)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",n(t.currentTarget))},_onRendered:function(n,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(n){return n.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var n=this.getActiveSelectable();n&&n.removeClass(this.classes.cursor)},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$node.scrollTop();u=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);t<0?this.$node.scrollTop(r+t):u<i&&this.$node.scrollTop(r+(i-u))},bind:function(){var n=this,i=t.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,i);return t.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(n){this.$node.attr("dir",n)},selectableRelativeToCursor:function(n){var i,r,u,t;return r=this.getActiveSelectable(),i=this._getSelectables(),u=r?i.index(r):-1,t=u+n,t=(t+1)%(i.length+1)-1,t=t<-1?i.length-1:t,t===-1?null:i.eq(t)},setCursor:function(n){this._removeCursor();(n=n&&n.first())&&(n.addClass(this.classes.cursor),this._ensureVisible(n))},getSelectableData:function(n){return n&&n.length?f.extractData(n):null},getActiveSelectable:function(){var n=this._getSelectables().filter(this.selectors.cursor).first();return n.length?n:null},getTopSelectable:function(){var n=this._getSelectables().first();return n.length?n:null},update:function(n){function r(t){t.update(n)}var i=n!==this.query;return i&&(this.query=n,t.each(this.datasets,r)),i},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){function i(n){n.destroy()}this.$node.off(".tt");this.$node=n("<div>");t.each(this.datasets,i)}}),i}(),h=function(){"use strict";function r(){i.apply(this,[].slice.call(arguments,0))}var n=i.prototype;return t.mixin(r.prototype,i.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css(t==="ltr"?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),c=function(){"use strict";function r(r,u){var f,e,o,s,h,c,l,a,v,y,p;r=r||{};r.input||n.error("missing input");r.menu||n.error("missing menu");r.eventBus||n.error("missing event bus");u.mixin(this);this.eventBus=r.eventBus;this.minLength=t.isNumber(r.minLength)?r.minLength:1;this.input=r.input;this.menu=r.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=i(this,"activate","open","_onFocused");e=i(this,"deactivate","_onBlurred");o=i(this,"isActive","isOpen","_onEnterKeyed");s=i(this,"isActive","isOpen","_onTabKeyed");h=i(this,"isActive","_onEscKeyed");c=i(this,"isActive","open","_onUpKeyed");l=i(this,"isActive","open","_onDownKeyed");a=i(this,"isActive","isOpen","_onLeftKeyed");v=i(this,"isActive","isOpen","_onRightKeyed");y=i(this,"_openIfActive","_onQueryChanged");p=i(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",e,this).onSync("enterKeyed",o,this).onSync("tabKeyed",s,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",l,this).onSync("leftKeyed",a,this).onSync("rightKeyed",v,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(n){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return n[t].apply(n,r)})}}return t.mixin(r.prototype,{_hacks:function(){var r,i;r=this.input.$input||n("<div>");i=this.menu.$node||n("<div>");r.on("blur.tt",function(n){var u,f,e;u=document.activeElement;f=i.is(u);e=i.has(u).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){r.focus()}))});i.on("mousedown.tt",function(n){n.preventDefault()})},_onSelectableClicked:function(n,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,t,i,r){this._updateHint();this.eventBus.trigger("render",i,r,t)},_onAsyncRequested:function(n,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(n,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(n,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var f,i,n,e,o,s,r;f=this.menu.getTopSelectable();i=this.menu.getSelectableData(f);n=this.input.getInputValue();!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(e=u.normalizeQuery(n),o=t.escapeRegExChars(e),s=new RegExp("^(?:"+o+")(.+$)","i"),r=s.exec(i.val),r&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var t=this.menu.getSelectableData(n);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(n){var i,t,r;return(i=this.input.getQuery(),t=this.menu.getSelectableData(n),r=t&&i!==t.val,r&&!this.eventBus.before("autocomplete",t.obj))?(this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0):!1},moveCursor:function(n){var u,i,t,r,f;return(u=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(n),t=this.menu.getSelectableData(i),r=t?t.obj:null,f=this._minLengthMet()&&this.menu.update(u),!f&&!this.eventBus.before("cursorchange",r))?(this.menu.setCursor(i),t?this.input.setInputValue(t.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0):!1},destroy:function(){this.input.destroy();this.menu.destroy()}}),r}();(function(){"use strict";function r(t,i){t.each(function(){var t=n(this),r;(r=t.data(f.typeahead))&&i(r,t)})}function v(n,t){return n.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(p(n)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function y(n,t){n.data(f.attrs,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{n.attr("dir")||n.attr("dir","auto")}catch(i){}return n}function p(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function w(n){var r,i;r=n.data(f.www);i=n.parent().filter(r.selectors.wrapper);t.each(n.data(f.attrs),function(i,r){t.isUndefined(i)?n.removeAttr(r):n.attr(r,i)});n.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(r.classes.input);i.length&&(n.detach().insertAfter(i),i.remove())}function a(i){var u,r;return u=t.isJQuery(i)||t.isElement(i),r=u?n(i).first():[],r.length?r:null}var l,f,s;l=n.fn.typeahead;f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};s={initialize:function(r,s){function p(){var e,d,p,w,b,k,g,nt,tt,it,rt;t.each(s,function(n){n.highlight=!!r.highlight});e=n(this);d=n(l.html.wrapper);p=a(r.hint);w=a(r.menu);b=r.hint!==!1&&!p;k=r.menu!==!1&&!w;b&&(p=v(e,l));k&&(w=n(l.html.menu).css(l.css.menu));p&&p.val("");e=y(e,l);(b||k)&&(d.css(l.css.wrapper),e.css(b?l.css.input:l.css.inputWithNoHint),e.wrap(d).parent().prepend(b?p:null).append(k?w:null));rt=k?h:i;g=new o({el:e});nt=new u({hint:p,input:e},l);tt=new rt({node:w,datasets:s},l);it=new c({input:nt,menu:tt,eventBus:g,minLength:r.minLength},l);e.data(f.www,l);e.data(f.typeahead,it)}var l;return s=t.isArray(s)?s:[].slice.call(arguments,1),r=r||{},l=e(r.classNames),this.each(p)},isEnabled:function(){var n;return r(this.first(),function(t){n=t.isEnabled()}),n},enable:function(){return r(this,function(n){n.enable()}),this},disable:function(){return r(this,function(n){n.disable()}),this},isActive:function(){var n;return r(this.first(),function(t){n=t.isActive()}),n},activate:function(){return r(this,function(n){n.activate()}),this},deactivate:function(){return r(this,function(n){n.deactivate()}),this},isOpen:function(){var n;return r(this.first(),function(t){n=t.isOpen()}),n},open:function(){return r(this,function(n){n.open()}),this},close:function(){return r(this,function(n){n.close()}),this},select:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.select(u)}),i},autocomplete:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.autocomplete(u)}),i},moveCursor:function(n){var t=!1;return r(this.first(),function(i){t=i.moveCursor(n)}),t},val:function(n){var t;return arguments.length?(r(this,function(t){t.setVal(n)}),this):(r(this.first(),function(n){t=n.getVal()}),t)},destroy:function(){return r(this,function(n,t){w(t);n.destroy()}),this}};n.fn.typeahead=function(n){return s[n]?s[n].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=l,this}})()});
/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.5
 **/
!function(n,t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(n.jQuery)}(this,function(n){var t=function(n,t){var f,r=document.createElement("canvas"),i,u,e;n.appendChild(r);"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(r);i=r.getContext("2d");r.width=r.height=t.size;u=1;window.devicePixelRatio>1&&(u=window.devicePixelRatio,r.style.width=r.style.height=[t.size,"px"].join(""),r.width=r.height=t.size*u,i.scale(u,u));i.translate(t.size/2,t.size/2);i.rotate((-.5+t.rotate/180)*Math.PI);e=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(e-=t.scaleLength+2);Date.now=Date.now||function(){return+new Date};var o=function(n,t,r){r=Math.min(Math.max(-1,r||0),1);var u=0>=r?!0:!1;i.beginPath();i.arc(0,0,e,0,2*Math.PI*r,u);i.strokeStyle=n;i.lineWidth=t;i.stroke()},c=function(){var u,n,r;for(i.lineWidth=1,i.fillStyle=t.scaleColor,i.save(),r=24;r>0;--r)r%6==0?(n=t.scaleLength,u=0):(n=.6*t.scaleLength,u=t.scaleLength-n),i.fillRect(-t.size/2+u,0,n,1),i.rotate(Math.PI/12);i.restore()},s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),h=function(){t.scaleColor&&c();t.trackColor&&o(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return r};this.getCtx=function(){return i};this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)};this.draw=function(n){t.scaleColor||t.trackColor?i.getImageData&&i.putImageData?f?i.putImageData(f,0,0):(h(),f=i.getImageData(0,0,t.size*u,t.size*u)):(this.clear(),h()):this.clear();i.lineCap=t.lineCap;var r;r="function"==typeof t.barColor?t.barColor(n):t.barColor;o(r,t.lineWidth,n/100)}.bind(this);this.animate=function(n,i){var u=Date.now(),r;t.onStart(n,i);r=function(){var f=Math.min(Date.now()-u,t.animate.duration),e=t.easing(this,f,n,i-n,t.animate.duration);this.draw(e);t.onStep(n,i,e);f>=t.animate.duration?t.onStop(n,i):s(r)}.bind(this);s(r)}.bind(this)},i=function(n,i){var u={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(n,t,i,r,u){return t/=u/2,1>t?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof t)u.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");u.renderer=SVGRenderer}var r={},f=0,e=function(){this.el=n;this.options=r;for(var t in u)u.hasOwnProperty(t)&&(r[t]=i&&"undefined"!=typeof i[t]?i[t]:u[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));r.easing="string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?jQuery.easing[r.easing]:u.easing;"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0});"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate});this.renderer=new r.renderer(n,r);this.renderer.draw(f);n.dataset&&n.dataset.percent?this.update(parseFloat(n.dataset.percent)):n.getAttribute&&n.getAttribute("data-percent")&&this.update(parseFloat(n.getAttribute("data-percent")))}.bind(this);this.update=function(n){return n=parseFloat(n),r.animate.enabled?this.renderer.animate(f,n):this.renderer.draw(n),f=n,this}.bind(this);this.disableAnimation=function(){return r.animate.enabled=!1,this};this.enableAnimation=function(){return r.animate.enabled=!0,this};e()};n.fn.easyPieChart=function(t){return this.each(function(){var r;n.data(this,"easyPieChart")||(r=n.extend({},t,n(this).data()),n.data(this,"easyPieChart",new i(this,r)))})}}),function(n,t,i){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)})(function(r){"use strict";var c={},tt,u,e,s,l,o,v,it,rt,y,pt,ut,ft,et,h,ot,st,a,p,ht,ct,lt,w,b,k,at,vt,yt,d,g,nt,f,wt=0;tt=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new e("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new e("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new e("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};at='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';u=function(){var n,t;return n=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(n.prototype=r.extend(new arguments[0],arguments[arguments.length-1]),n._super=arguments[0].prototype):n.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(n.prototype),r.extend.apply(r,t))):n.prototype=arguments[0],n.prototype.cls=n,n};r.SPFormatClass=e=u({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,t){this.format=n;this.fclass=t},render:function(n,t,r){var h=this,c=n,e,o,f,u,s;return this.format.replace(this.fre,function(){var n;return o=arguments[1],f=arguments[3],e=h.precre.exec(o),e?(s=e[2],o=e[1]):s=!1,u=c[o],u===i?"":f&&t&&t[f]?(n=t[f],n.get?t[f].get(u)||u:t[f][u]||u):(rt(u)&&(u=r.get("numberFormatter")?r.get("numberFormatter")(u):et(u,s,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),u)})}});r.spformat=function(n,t){return new e(n,t)};s=function(n,t,i){return n<t?t:n>i?i:n};l=function(n,i){var r;return i===2?(r=t.floor(n.length/2),n.length%2?n[r]:(n[r-1]+n[r])/2):n.length%2?(r=(n.length*i+i)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1]):(r=(n.length*i+2)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1])};o=function(n){var t;switch(n){case"undefined":n=i;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n};v=function(n){for(var i=[],t=n.length;t--;)i[t]=o(n[t]);return i};it=function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u};rt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};et=function(n,t,i,u,f){var e,o;for(n=(t===!1?parseFloat(n).toString():n.toFixed(t)).split(""),e=(e=r.inArray(".",n))<0?n.length:e,e<n.length&&(n[e]=f),o=e-i;o>0;o-=i)n.splice(o,0,u);return n.join("")};y=function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0};pt=function(n){for(var i=0,t=n.length;t--;)i+=typeof n[t]=="number"?n[t]:0;return i};ft=function(n){return r.isArray(n)?n:[n]};ut=function(t){var i;n.createStyleSheet?n.createStyleSheet().cssText=t:(i=n.createElement("style"),i.type="text/css",n.getElementsByTagName("head")[0].appendChild(i),i[typeof n.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)};r.fn.simpledraw=function(t,u,f,e){var o,s,h;if(f&&(o=this.data("_jqs_vcanvas")))return o;if(r.fn.sparkline.canvas===!1)return!1;if(r.fn.sparkline.canvas===i)if(h=n.createElement("canvas"),h.getContext&&h.getContext("2d"))r.fn.sparkline.canvas=function(n,t,i,r){return new g(n,t,i,r)};else{if(!n.namespaces||!!n.namespaces.v)return r.fn.sparkline.canvas=!1,!1;n.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");r.fn.sparkline.canvas=function(n,t,i){return new nt(n,t,i)}}return t===i&&(t=r(this).innerWidth()),u===i&&(u=r(this).innerHeight()),o=r.fn.sparkline.canvas(t,u,this,e),s=r(this).data("_jqs_mhandler"),s&&s.registerCanvas(o),o};r.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");n&&n.reset()};r.RangeMapClass=h=u({init:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var r=this.rangelist,u,t,f;if((f=this.map[n])!==i)return f;if(r)for(u=r.length;u--;)if(t=r[u],t[0]<=n&&t[1]>=n)return t[2];return i}});r.range_map=function(n){return new h(n)};ot=u({init:function(n,t){var i=r(n);this.$el=i;this.options=t;this.currentPageX=0;this.currentPageY=0;this.el=n;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!t.get("disableTooltips");this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);this.over&&this.updateDisplay()},registerCanvas:function(n){var t=r(n.canvas);this.canvas=n;this.$canvas=t;t.mouseenter(r.proxy(this.mouseenter,this));t.mouseleave(r.proxy(this.mouseleave,this));t.click(r.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];this.tooltip&&n&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(n){var t=r.Event("sparklineClick");t.originalEvent=n;t.sparklines=this.splist;this.$el.trigger(t)},mouseenter:function(t){r(n.body).unbind("mousemove.jqs");r(n.body).bind("mousemove.jqs",r.proxy(this.mousemove,this));this.over=!0;this.currentPageX=t.pageX;this.currentPageY=t.pageY;this.currentEl=t.target;!this.tooltip&&this.displayTooltips&&(this.tooltip=new st(this.options),this.tooltip.updatePosition(t.pageX,t.pageY));this.updateDisplay()},mouseleave:function(){r(n.body).unbind("mousemove.jqs");var i=this.splist,e=i.length,u=!1,f,t;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<e;t++)f=i[t],f.clearRegionHighlight()&&(u=!0);u&&this.canvas.render()},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;this.tooltip&&this.tooltip.updatePosition(n.pageX,n.pageY);this.updateDisplay()},updateDisplay:function(){var i=this.splist,o=i.length,s=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,l=this.currentPageY-h.top,u,t,n,f,e;if(this.over){for(n=0;n<o;n++)t=i[n],f=t.setRegionHighlight(this.currentEl,c,l),f&&(s=!0);if(s){if(e=r.Event("sparklineRegionChange"),e.sparklines=this.splist,this.$el.trigger(e),this.tooltip){for(u="",n=0;n<o;n++)t=i[n],u+=t.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}f===null&&this.mouseleave()}}});st=u({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var u=t.get("tooltipClassname","jqstooltip"),f=this.sizeStyle,i;this.container=t.get("tooltipContainer")||n.body;this.tooltipOffsetX=t.get("tooltipOffsetX",10);this.tooltipOffsetY=t.get("tooltipOffsetY",12);r("#jqssizetip").remove();r("#jqstooltip").remove();this.sizetip=r("<div/>",{id:"jqssizetip",style:f,"class":u});this.tooltip=r("<div/>",{id:"jqstooltip","class":u}).appendTo(this.container);i=this.tooltip.offset();this.offsetLeft=i.left;this.offsetTop=i.top;this.hidden=!0;r(window).unbind("resize.jqs scroll.jqs");r(window).bind("resize.jqs scroll.jqs",r.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=r(window).scrollTop();this.scrollLeft=r(window).scrollLeft();this.scrollRight=this.scrollLeft+r(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=!0;return}this.getSize(n);this.tooltip.html(n).css({width:this.width,height:this.height,visibility:"visible"});this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(n,t){if(n===i){if(this.mousex===i)return;n=this.mousex-this.offsetLeft;t=this.mousey-this.offsetTop}else this.mousex=n-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,n+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),n<this.scrollLeft?n=this.scrollLeft:n+this.width>this.scrollRight&&(n=this.scrollRight-this.width),this.tooltip.css({left:n,top:t}))},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=i;r(window).unbind("resize.jqs scroll.jqs")}});vt=function(){ut(at)};r(vt);f=[];r.fn.sparkline=function(t,u){return this.each(function(){var e=new r.fn.sparkline.options(this,u),h=r(this),s,o;if(s=function(){var s,a,c,f,u,l,o;if(t==="html"||t===i?(o=this.getAttribute(e.get("tagValuesAttribute")),(o===i||o===null)&&(o=h.html()),s=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=t,a=e.get("width")==="auto"?s.length*e.get("defaultPixelsPerValue"):e.get("width"),e.get("height")==="auto"?e.get("composite")&&r.data(this,"_jqs_vcanvas")||(f=n.createElement("span"),f.innerHTML="a",h.html(f),c=r(f).innerHeight()||r(f).height(),r(f).remove(),f=null):c=e.get("height"),e.get("disableInteraction")?u=!1:(u=r.data(this,"_jqs_mhandler"),u?e.get("composite")||u.reset():(u=new ot(this,e),r.data(this,"_jqs_mhandler",u))),e.get("composite")&&!r.data(this,"_jqs_vcanvas")){r.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),r.data(this,"_jqs_errnotify",!0));return}l=new r.fn.sparkline[e.get("type")](this,s,e,a,c);l.render();u&&u.registerSparkline(l)},r(this).html()&&!e.get("disableHiddenCheck")&&r(this).is(":hidden")||!r(this).parents("body").length){if(!e.get("composite")&&r.data(this,"_jqs_pending"))for(o=f.length;o;o--)f[o-1][0]==this&&f.splice(o-1,1);f.push([this,s]);r.data(this,"_jqs_pending",!0)}else s.call(this)})};r.fn.sparkline.defaults=tt();r.sparkline_display_visible=function(){for(var t,i=[],n=0,u=f.length;n<u;n++)t=f[n][0],r(t).is(":visible")&&!r(t).parents().is(":hidden")?(f[n][1].call(t),r.data(f[n][0],"_jqs_pending",!1),i.push(n)):!r(t).closest("html").length&&!r.data(t,"_jqs_pending")&&(r.data(f[n][0],"_jqs_pending",!1),i.push(n));for(n=i.length;n;n--)f.splice(i[n-1],1)};r.fn.sparkline.options=u({init:function(n,t){var e,i,u,f;this.userOptions=t=t||{};this.tag=n;this.tagValCache={};i=r.fn.sparkline.defaults;u=i.common;this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||u.tagOptionsPrefix);f=this.getTagSetting("type");e=f===c?i[t.type||u.type]:i[f];this.mergedOptions=r.extend({},u,e,t)},getTagSetting:function(n){var u=this.tagOptionsPrefix,t,r,f,e;if(u===!1||u===i)return c;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(u+n),t===i||t===null)t=c;else if(t.substr(0,1)==="[")for(t=t.substr(1,t.length-2).split(","),r=t.length;r--;)t[r]=o(t[r].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)==="{")for(f=t.substr(1,t.length-2).split(","),t={},r=f.length;r--;)e=f[r].split(":",2),t[e[0].replace(/(^\s*)|(\s*$)/g,"")]=o(e[1].replace(/(^\s*)|(\s*$)/g,""));else t=o(t);this.tagValCache.key=t}return t},get:function(n,t){var r=this.getTagSetting(n),u;return r!==c?r:(u=this.mergedOptions[n])===i?t:u}});r.fn.sparkline._base=u({disabled:!1,init:function(n,t,u,f,e){this.el=n;this.$el=r(n);this.values=t;this.options=u;this.width=f;this.height=e;this.currentRegion=i},initTarget:function(){var n=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(n,t,r){var f=this.currentRegion,e=!this.options.get("disableHighlight"),u;return t>this.canvasWidth||r>this.canvasHeight||t<0||r<0?null:(u=this.getRegion(n,t,r),f!==u?(f!==i&&e&&this.removeHighlight(),this.currentRegion=u,u!==i&&e&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t=this.options,y="",h=[],n,o,p,w,b,u,c,l,a,k,v,s,d,f;if(this.currentRegion===i)return"";if(n=this.getCurrentRegionFields(),v=t.get("tooltipFormatter"),v)return v(this,t,n);if(t.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"<\/div>\n"),o=this.options.get("tooltipFormat"),!o)return"";if(r.isArray(o)||(o=[o]),r.isArray(n)||(n=[n]),c=this.options.get("tooltipFormatFieldlist"),l=this.options.get("tooltipFormatFieldlistKey"),c&&l){for(a=[],u=n.length;u--;)k=n[u][l],(f=r.inArray(k,c))!=-1&&(a[f]=n[u]);n=a}for(p=o.length,d=n.length,u=0;u<p;u++)for(s=o[u],typeof s=="string"&&(s=new e(s)),w=s.fclass||"jqsfield",f=0;f<d;f++)n[f].isNull&&t.get("tooltipSkipNull")||(r.extend(n[f],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),b=s.render(n[f],t.get("tooltipValueLookups"),t),h.push('<div class="'+w+'">'+b+"<\/div>"));return h.length?y+h.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(n,i){var e=i.get("highlightColor"),o=i.get("highlightLighten"),u,h,f,r;if(e)return e;if(o&&(u=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),u)){for(f=[],h=n.length===4?16:1,r=0;r<3;r++)f[r]=s(t.round(parseInt(u[r+1],16)*h*o),0,255);return"rgb("+f.join(",")+")"}return n}});a={changeHighlight:function(n){var i=this.currentRegion,f=this.target,u=this.regionShapes[i],t;u&&(t=this.renderRegion(i,n),r.isArray(t)||r.isArray(u)?(f.replaceWithShapes(u,t),this.regionShapes[i]=r.map(t,function(n){return n.id})):(f.replaceWithShape(u,t),this.regionShapes[i]=t.id))},render:function(){var e=this.values,o=this.target,u=this.regionShapes,n,f,t,i;if(this.cls._super.render.call(this)){for(t=e.length;t--;)if(n=this.renderRegion(t),n)if(r.isArray(n)){for(f=[],i=n.length;i--;)n[i].append(),f.push(n[i].id);u[t]=f}else n.append(),u[t]=n.id;else u[t]=null;o.render()}}};r.fn.sparkline.line=p=u(r.fn.sparkline._base,{type:"line",init:function(n,t,i,r,u){p._super.init.call(this,n,t,i,r,u);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,t){for(var u=this.regionMap,r=u.length;r--;)if(u[r]!==null&&t>=u[r][0]&&t<=u[r][1])return u[r][2];return i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var h=this.currentRegion,t=this.target,n=this.vertices[h],r=this.options,e=r.get("spotRadius"),o=r.get("highlightSpotColor"),s=r.get("highlightLineColor"),u,f;n&&(e&&o&&(u=t.drawCircle(n[0],n[1],e,i,o),this.highlightSpotId=u.id,t.insertAfterShape(this.lastShapeId,u)),s&&(f=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,s),this.highlightLineId=f.id,t.insertAfterShape(this.lastShapeId,f)))},removeHighlight:function(){var n=this.target;this.highlightSpotId&&(n.removeShapeId(this.highlightSpotId),this.highlightSpotId=null);this.highlightLineId&&(n.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var i=this.values,c=i.length,r=this.xvalues,e=this.yvalues,u=this.yminmax,f,s,h,o,n=0;n<c;n++)f=i[n],s=typeof i[n]=="string",h=typeof i[n]=="object"&&i[n]instanceof Array,o=s&&i[n].split(":"),s&&o.length===2?(r.push(Number(o[0])),e.push(Number(o[1])),u.push(Number(o[1]))):h?(r.push(f[0]),e.push(f[1]),u.push(f[1])):(r.push(n),i[n]===null||i[n]==="null"?e.push(null):(e.push(Number(f)),u.push(Number(f))));this.options.get("xvalues")&&(r=this.options.get("xvalues"));this.maxy=this.maxyorg=t.max.apply(t,u);this.miny=this.minyorg=t.min.apply(t,u);this.maxx=t.max.apply(t,r);this.minx=t.min.apply(t,r);this.xvalues=r;this.yvalues=e;this.yminmax=u},processRangeOptions:function(){var n=this.options,t=n.get("normalRangeMin"),r=n.get("normalRangeMax");t!==i&&(t<this.miny&&(this.miny=t),r>this.maxy&&(this.maxy=r));n.get("chartRangeMin")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.miny)&&(this.miny=n.get("chartRangeMin"));n.get("chartRangeMax")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.maxy)&&(this.maxy=n.get("chartRangeMax"));n.get("chartRangeMinX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMinX")<this.minx)&&(this.minx=n.get("chartRangeMinX"));n.get("chartRangeMaxX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMaxX")>this.maxx)&&(this.maxx=n.get("chartRangeMaxX"))},drawNormalRange:function(n,r,u,f,e){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),h=r+t.round(u-u*((o-this.miny)/e)),c=t.round(u*(o-s)/e);this.target.drawRect(n,h,f,c,i,this.options.get("normalRangeColor")).append()},render:function(){var n=this.options,v=this.target,c=this.canvasWidth,o=this.canvasHeight,at=this.vertices,f=n.get("spotRadius"),pt=this.regionMap,b,y,k,l,a,ht,e,ut,g,d,vt,tt,yt,ct,ft,et,ot,st,nt,it,rt,lt,w,s,u;if(p._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,s=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(l=a=0,b=this.maxx-this.minx==0?1:this.maxx-this.minx,y=this.maxy-this.miny==0?1:this.maxy-this.miny,k=this.yvalues.length-1,f&&(c<f*4||o<f*4)&&(f=0),f&&(rt=n.get("highlightSpotColor")&&!n.get("disableInteraction"),(rt||n.get("minSpotColor")||n.get("spotColor")&&s[k]===this.miny)&&(o-=t.ceil(f)),(rt||n.get("maxSpotColor")||n.get("spotColor")&&s[k]===this.maxy)&&(o-=t.ceil(f),l+=t.ceil(f)),(rt||(n.get("minSpotColor")||n.get("maxSpotColor"))&&(s[0]===this.miny||s[0]===this.maxy))&&(a+=t.ceil(f),c-=t.ceil(f)),(rt||n.get("spotColor")||n.get("minSpotColor")||n.get("maxSpotColor")&&(s[k]===this.miny||s[k]===this.maxy))&&(c-=t.ceil(f))),o--,n.get("normalRangeMin")!==i&&!n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),e=[],ut=[e],ct=ft=null,et=s.length,u=0;u<et;u++)g=w[u],vt=w[u+1],d=s[u],tt=a+t.round((g-this.minx)*(c/b)),yt=u<et-1?a+t.round((vt-this.minx)*(c/b)):c,ft=tt+(yt-tt)/2,pt[u]=[ct||0,ft,u],ct=ft,d===null?u&&(s[u-1]!==null&&(e=[],ut.push(e)),at.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),e.length||e.push([tt,l+o]),ht=[tt,l+t.round(o-o*((d-this.miny)/y))],e.push(ht),at.push(ht));for(ot=[],st=[],nt=ut.length,u=0;u<nt;u++)e=ut[u],e.length&&(n.get("fillColor")&&(e.push([e[e.length-1][0],l+o]),st.push(e.slice(0)),e.pop()),e.length>2&&(e[0]=[e[0][0],e[1][1]]),ot.push(e));for(nt=st.length,u=0;u<nt;u++)v.drawShape(st[u],n.get("fillColor"),n.get("fillColor")).append();for(n.get("normalRangeMin")!==i&&n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),nt=ot.length,u=0;u<nt;u++)v.drawShape(ot[u],n.get("lineColor"),i,n.get("lineWidth")).append();if(f&&n.get("valueSpots"))for(it=n.get("valueSpots"),it.get===i&&(it=new h(it)),u=0;u<et;u++)lt=it.get(s[u]),lt&&v.drawCircle(a+t.round((w[u]-this.minx)*(c/b)),l+t.round(o-o*((s[u]-this.miny)/y)),f,i,lt).append();f&&n.get("spotColor")&&s[k]!==null&&v.drawCircle(a+t.round((w[w.length-1]-this.minx)*(c/b)),l+t.round(o-o*((s[k]-this.miny)/y)),f,i,n.get("spotColor")).append();this.maxy!==this.minyorg&&(f&&n.get("minSpotColor")&&(g=w[r.inArray(this.minyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.minyorg-this.miny)/y)),f,i,n.get("minSpotColor")).append()),f&&n.get("maxSpotColor")&&(g=w[r.inArray(this.maxyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.maxyorg-this.miny)/y)),f,i,n.get("maxSpotColor")).append()));this.lastShapeId=v.getLastShapeId();this.canvasTop=l;v.render()}}});r.fn.sparkline.bar=ht=u(r.fn.sparkline._base,a,{type:"bar",init:function(n,u,f,e,c){var ct=parseInt(f.get("barWidth"),10),lt=parseInt(f.get("barSpacing"),10),dt=f.get("chartRangeMin"),gt=f.get("chartRangeMax"),at=f.get("chartRangeClip"),nt=Infinity,d=-Infinity,vt,yt,pt,tt,b,a,rt,wt,ut,ft,y,p,bt,kt,w,et,g,ni,ti,l,k,ii,ot,st;for(ht._super.init.call(this,n,u,f,e,c),a=0,rt=u.length;a<rt;a++)l=u[a],vt=typeof l=="string"&&l.indexOf(":")>-1,(vt||r.isArray(l))&&(w=!0,vt&&(l=u[a]=v(l.split(":"))),l=it(l,null),yt=t.min.apply(t,l),pt=t.max.apply(t,l),yt<nt&&(nt=yt),pt>d&&(d=pt));for(this.stacked=w,this.regionShapes={},this.barWidth=ct,this.barSpacing=lt,this.totalBarWidth=ct+lt,this.width=e=u.length*ct+(u.length-1)*lt,this.initTarget(),at&&(bt=dt===i?-Infinity:dt,kt=gt===i?Infinity:gt),b=[],tt=w?[]:b,ot=[],st=[],a=0,rt=u.length;a<rt;a++)if(w)for(et=u[a],u[a]=ti=[],ot[a]=0,tt[a]=st[a]=0,g=0,ni=et.length;g<ni;g++)l=ti[g]=at?s(et[g],bt,kt):et[g],l!==null&&(l>0&&(ot[a]+=l),nt<0&&d>0?l<0?st[a]+=t.abs(l):tt[a]+=l:tt[a]+=t.abs(l-(l<0?d:nt)),b.push(l));else l=at?s(u[a],bt,kt):u[a],l=u[a]=o(l),l!==null&&b.push(l);this.max=p=t.max.apply(t,b);this.min=y=t.min.apply(t,b);this.stackMax=d=w?t.max.apply(t,ot):p;this.stackMin=nt=w?t.min.apply(t,b):y;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>p)&&(p=f.get("chartRangeMax"));this.zeroAxis=ut=f.get("zeroAxis",!0);ft=y<=0&&p>=0&&ut?0:ut==0?y:y>0?y:p;this.xaxisOffset=ft;wt=w?t.max.apply(t,tt)+t.max.apply(t,st):p-y;this.canvasHeightEf=ut&&y<0?this.canvasHeight-2:this.canvasHeight-1;y<ft?(ii=w&&p>=0?d:p,k=(ii-ft)/wt*this.canvasHeight,k!==t.ceil(k)&&(this.canvasHeightEf-=2,k=t.ceil(k))):k=this.canvasHeight;this.yoffset=k;r.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.range=wt},getRegion:function(n,r){var u=t.floor(r/this.totalBarWidth);return u<0||u>=this.values.length?i:u},getCurrentRegionFields:function(){for(var i=this.currentRegion,r=ft(this.values[i]),u=[],n,t=r.length;t--;)n=r[t],u.push({isNull:n===null,value:n,color:this.calcColor(t,n,i),offset:i});return u},calcColor:function(n,t,u){var o=this.colorMapByIndex,s=this.colorMapByValue,e=this.options,f,h;return f=this.stacked?e.get("stackedBarColor"):t<0?e.get("negBarColor"):e.get("barColor"),t===0&&e.get("zeroColor")!==i&&(f=e.get("zeroColor")),s&&(h=s.get(t))?f=h:o&&o.length>u&&(f=o[u]),r.isArray(f)?f[n%f.length]:f},renderRegion:function(n,u){var f=this.values[n],h=this.options,c=this.xaxisOffset,p=[],b=this.range,rt=this.stacked,k=this.target,d=n*this.totalBarWidth,ut=this.canvasHeightEf,o=this.yoffset,l,a,e,g,w,v,nt,s,tt,it;if(f=r.isArray(f)?f:[f],nt=f.length,s=f[0],g=y(null,f),it=y(c,f,!0),g)return h.get("nullColor")?(e=u?h.get("nullColor"):this.calcHighlightColor(h.get("nullColor"),h),l=o>0?o-1:o,k.drawRect(d,l,this.barWidth-1,0,e,e)):i;for(w=o,v=0;v<nt;v++){if(s=f[v],rt&&s===c){if(!it||tt)continue;tt=!0}a=b>0?t.floor(ut*(t.abs(s-c)/b))+1:1;s<c||s===c&&o===0?(l=w,w+=a):(l=o-a,o-=a);e=this.calcColor(v,s,n);u&&(e=this.calcHighlightColor(e,h));p.push(k.drawRect(d,l,this.barWidth-1,a-1,e,e))}return p.length===1?p[0]:p}});r.fn.sparkline.tristate=ct=u(r.fn.sparkline._base,a,{type:"tristate",init:function(n,t,u,f,e){var o=parseInt(u.get("barWidth"),10),s=parseInt(u.get("barSpacing"),10);ct._super.init.call(this,n,t,u,f,e);this.regionShapes={};this.barWidth=o;this.barSpacing=s;this.totalBarWidth=o+s;this.values=r.map(t,Number);this.width=f=t.length*o+(t.length-1)*s;r.isArray(u.get("colorMap"))?(this.colorMapByIndex=u.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=u.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.initTarget()},getRegion:function(n,i){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var u=this.values,i=this.options,r=this.colorMapByIndex,f=this.colorMapByValue,e,o;return e=f&&(o=f.get(n))?o:r&&r.length>t?r[t]:u[t]<0?i.get("negBarColor"):u[t]>0?i.get("posBarColor"):i.get("zeroBarColor"),e},renderRegion:function(n,i){var o=this.values,l=this.options,s=this.target,h,f,u,c,e,r;if(h=s.pixelHeight,u=t.round(h/2),c=n*this.totalBarWidth,o[n]<0?(e=u,f=u-1):o[n]>0?(e=0,f=u-1):(e=u-1,f=2),r=this.calcColor(o[n],n),r!==null)return i&&(r=this.calcHighlightColor(r,l)),s.drawRect(c,e,this.barWidth-1,f-1,r,r)}});r.fn.sparkline.discrete=lt=u(r.fn.sparkline._base,a,{type:"discrete",init:function(n,u,f,e,o){lt._super.init.call(this,n,u,f,e,o);this.regionShapes={};this.values=u=r.map(u,Number);this.min=t.min.apply(t,u);this.max=t.max.apply(t,u);this.range=this.max-this.min;this.width=e=f.get("width")==="auto"?u.length*2:this.width;this.interval=t.floor(e/u.length);this.itemWidth=e/u.length;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax"));this.initTarget();this.target&&(this.lineHeight=f.get("lineHeight")==="auto"?t.round(this.canvasHeight*.3):f.get("lineHeight"))},getRegion:function(n,i){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],offset:n}},renderRegion:function(n,i){var a=this.values,r=this.options,h=this.min,v=this.max,y=this.range,p=this.interval,w=this.target,b=this.canvasHeight,c=this.lineHeight,l=b-c,f,e,u,o;return e=s(a[n],h,v),o=n*p,f=t.round(l-l*((e-h)/y)),u=r.get("thresholdColor")&&e<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(u=this.calcHighlightColor(u,r)),w.drawLine(o,f,o,f+c,u)}});r.fn.sparkline.bullet=w=u(r.fn.sparkline._base,{type:"bullet",init:function(n,r,u,f,e){var s,h,o;w._super.init.call(this,n,r,u,f,e);this.values=r=v(r);o=r.slice();o[0]=o[0]===null?o[2]:o[0];o[1]=r[1]===null?o[2]:o[1];s=t.min.apply(t,r);h=t.max.apply(t,r);s=u.get("base")===i?s<0?s:0:u.get("base");this.min=s;this.max=h;this.range=h-s;this.shapes={};this.valueShapes={};this.regiondata={};this.width=f=u.get("width")==="auto"?"4.0em":f;this.target=this.$el.simpledraw(f,e,u.get("composite"));r.length||(this.disabled=!0);this.initTarget()},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(n){var i=this.currentRegion,r=this.valueShapes[i],t;delete this.shapes[r];switch(i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),n);break;case"p":t=this.renderPerformance(n);break;case"t":t=this.renderTarget(n)}this.valueShapes[i]=t.id;this.shapes[t.id]=i;this.target.replaceWithShape(r,t)},renderRange:function(n,i){var u=this.values[n],f=t.round(this.canvasWidth*((u-this.min)/this.range)),r=this.options.get("rangeColors")[n-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,f-1,this.canvasHeight-1,r,r)},renderPerformance:function(n){var r=this.values[1],u=t.round(this.canvasWidth*((r-this.min)/this.range)),i=this.options.get("performanceColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,t.round(this.canvasHeight*.3),u-1,t.round(this.canvasHeight*.4)-1,i,i)},renderTarget:function(n){var u=this.values[0],f=t.round(this.canvasWidth*((u-this.min)/this.range)-this.options.get("targetWidth")/2),r=t.round(this.canvasHeight*.1),e=this.canvasHeight-r*2,i=this.options.get("targetColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(f,r,this.options.get("targetWidth")-1,e-1,i,i)},render:function(){var i=this.values.length,r=this.target,t,n;if(w._super.render.call(this)){for(t=2;t<i;t++)n=this.renderRange(t).append(),this.shapes[n.id]="r"+t,this.valueShapes["r"+t]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id);this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id);r.render()}}});r.fn.sparkline.pie=b=u(r.fn.sparkline._base,{type:"pie",init:function(n,i,u,f,e){var s=0,o;if(b._super.init.call(this,n,i,u,f,e),this.shapes={},this.valueShapes={},this.values=i=r.map(i,Number),u.get("width")==="auto"&&(this.width=this.height),i.length>0)for(o=i.length;o--;)s+=i[o];this.total=s;this.initTarget();this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(n){var t=this.currentRegion,i=this.renderSlice(t,n),r=this.valueShapes[t];delete this.shapes[r];this.target.replaceWithShape(r,i);this.valueShapes[t]=i.id;this.shapes[i.id]=t},renderSlice:function(n,r){for(var p=this.target,f=this.options,h=this.radius,w=f.get("borderWidth"),c=f.get("offset"),b=2*t.PI,l=this.values,a=this.total,e=c?2*t.PI*(c/360):0,v,o,s,y=l.length,u=0;u<y;u++){if(v=e,o=e,a>0&&(o=e+b*(l[u]/a)),n===u)return s=f.get("sliceColors")[u%f.get("sliceColors").length],r&&(s=this.calcHighlightColor(s,f)),p.drawPieSlice(h,h,h-w,v,o,i,s);e=o}},render:function(){var e=this.target,o=this.values,s=this.options,r=this.radius,u=s.get("borderWidth"),f,n;if(b._super.render.call(this)){for(u&&e.drawCircle(r,r,t.floor(r-u/2),s.get("borderColor"),i,u).append(),n=o.length;n--;)o[n]&&(f=this.renderSlice(n).append(),this.valueShapes[n]=f.id,this.shapes[f.id]=n);e.render()}}});r.fn.sparkline.box=k=u(r.fn.sparkline._base,{type:"box",init:function(n,t,i,u,f){k._super.init.call(this,n,t,i,u,f);this.values=r.map(t,Number);this.width=i.get("width")==="auto"?"4.0em":u;this.initTarget();this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&n.push({field:"lo",value:this.loutlier}),this.routlier!==i&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&n.push({field:"rw",value:this.rwhisker}),n},render:function(){var s=this.target,r=this.values,g=r.length,n=this.options,nt=this.canvasWidth,u=this.canvasHeight,e=n.get("chartRangeMin")===i?t.min.apply(t,r):n.get("chartRangeMin"),it=n.get("chartRangeMax")===i?t.max.apply(t,r):n.get("chartRangeMax"),o=0,h,w,tt,a,p,v,c,b,y,d,f;if(k._super.render.call(this)){if(n.get("raw"))n.get("showOutliers")&&r.length>5?(w=r[0],h=r[1],a=r[2],p=r[3],v=r[4],c=r[5],b=r[6]):(h=r[0],a=r[1],p=r[2],v=r[3],c=r[4]);else if(r.sort(function(n,t){return n-t}),a=l(r,1),p=l(r,2),v=l(r,3),tt=v-a,n.get("showOutliers")){for(h=c=i,y=0;y<g;y++)h===i&&r[y]>a-tt*n.get("outlierIQR")&&(h=r[y]),r[y]<v+tt*n.get("outlierIQR")&&(c=r[y]);w=r[0];b=r[g-1]}else h=r[0],c=r[g-1];this.quartiles=[a,p,v];this.lwhisker=h;this.rwhisker=c;this.loutlier=w;this.routlier=b;f=nt/(it-e+1);n.get("showOutliers")&&(o=t.ceil(n.get("spotRadius")),nt-=2*t.ceil(n.get("spotRadius")),f=nt/(it-e+1),w<h&&s.drawCircle((w-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),b>c&&s.drawCircle((b-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append());s.drawRect(t.round((a-e)*f+o),t.round(u*.1),t.round((v-a)*f),t.round(u*.8),n.get("boxLineColor"),n.get("boxFillColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/2),t.round((a-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/4),t.round((h-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/2),t.round((v-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/4),t.round((c-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((p-e)*f+o),t.round(u*.1),t.round((p-e)*f+o),t.round(u*.9),n.get("medianColor")).append();n.get("target")&&(d=t.ceil(n.get("spotRadius")),s.drawLine(t.round((n.get("target")-e)*f+o),t.round(u/2-d),t.round((n.get("target")-e)*f+o),t.round(u/2+d),n.get("targetColor")).append(),s.drawLine(t.round((n.get("target")-e)*f+o-d),t.round(u/2),t.round((n.get("target")-e)*f+o+d),t.round(u/2),n.get("targetColor")).append());s.render()}}});yt=u({init:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}});d=u({_pxregex:/(\d+)(px)?\s*$/i,init:function(n,t,i){n&&(this.width=n,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),r.data(i,"_jqs_vcanvas",this))},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(n,t){r(t).html(n)},_calculatePixelDims:function(n,t,i){var u;u=this._pxregex.exec(t);this.pixelHeight=u?u[1]:r(i).height();u=this._pxregex.exec(n);this.pixelWidth=u?u[1]:r(i).width()},_genShape:function(n,t){var i=wt++;return t.unshift(i),new yt(this,i,n,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});g=u(d,{init:function(t,u,f,e){g._super.init.call(this,t,u,f);this.canvas=n.createElement("canvas");f[0]&&(f=f[0]);r.data(f,"_jqs_vcanvas",this);r(this.canvas).css({display:"inline-block",width:t,height:u,verticalAlign:"top"});this._insert(this.canvas,f);this._calculatePixelDims(t,u,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=e;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i;r(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(n,t,r){var u=this.canvas.getContext("2d");return n!==i&&(u.strokeStyle=n),u.lineWidth=r===i?1:r,t!==i&&(u.fillStyle=t),u},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i},_drawShape:function(n,t,r,u,f){var e=this._getContext(r,u,f),o,s;for(e.beginPath(),e.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,s=t.length;o<s;o++)e.lineTo(t[o][0]+.5,t[o][1]+.5);r!==i&&e.stroke();u!==i&&e.fill();this.targetX!==i&&this.targetY!==i&&e.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,r,u,f,e,o,s){var h=this._getContext(e,o,s);h.beginPath();h.arc(r,u,f,0,2*t.PI,!1);this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);e!==i&&h.stroke();o!==i&&h.fill()},_drawPieSlice:function(n,t,r,u,f,e,o,s){var h=this._getContext(o,s);h.beginPath();h.moveTo(t,r);h.arc(t,r,u,f,e,!1);h.lineTo(t,r);h.closePath();o!==i&&h.stroke();s&&h.fill();this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}});nt=u(d,{init:function(t,i,u){var f;nt._super.init.call(this,t,i,u);u[0]&&(u=u[0]);r.data(u,"_jqs_vcanvas",this);this.canvas=n.createElement("span");r(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,u);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"><\/v:group>';this.canvas.insertAdjacentHTML("beforeEnd",f);this.group=r(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(n,t,r,u,f){for(var e=[],s,h,c,l,a,o=0,v=t.length;o<v;o++)e[o]=""+t[o][0]+","+t[o][1];return s=e.splice(0,1),f=f===i?1:f,h=r===i?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+r+'" ',c=u===i?' filled="false"':' fillColor="'+u+'" filled="true" ',l=e[0]===e[e.length-1]?"x ":"",a='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+h+c+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+e.join(", ")+" "+l+'e"> <\/v:shape>',a},_drawCircle:function(n,t,r,u,f,e,o){var s,h,c;return t-=u,r-=u,s=f===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+f+'" ',h=e===i?' filled="false"':' fillColor="'+e+'" filled="true" ',c='<v:oval  id="jqsshape'+n+'" '+s+h+' style="position:absolute;top:'+r+"px; left:"+t+"px; width:"+u*2+"px; height:"+u*2+'px"><\/v:oval>',c},_drawPieSlice:function(n,r,u,f,e,o,s,h){var y,c,l,a,v,p,w,b;if(e===o)return"";if(o-e==2*t.PI&&(e=0,o=2*t.PI),c=r+t.round(t.cos(e)*f),l=u+t.round(t.sin(e)*f),a=r+t.round(t.cos(o)*f),v=u+t.round(t.sin(o)*f),c===a&&l===v){if(o-e<t.PI)return"";c=a=r+f;l=v=u}return c===a&&l===v&&o-e<t.PI?"":(y=[r-f,u-f,r+f,u+f,c,l,a,v],p=s===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',w=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',b='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+p+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+","+u+" wa "+y.join(", ")+' x e"> <\/v:shape>',b)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){this.group.innerHTML=""},appendShape:function(n){var t=this["_draw"+n.type].apply(this,n.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=u},replaceWithShapes:function(n,t){for(var f=r("#jqsshape"+n[0]),u="",e=t.length,i=0;i<e;i++)u+=this["_draw"+t[i].type].apply(this,t[i].args);for(f[0].outerHTML=u,i=1;i<n.length;i++)r("#jqsshape"+n[i]).remove()},insertAfterShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",u)},removeShapeId:function(n){var t=r("#jqsshape"+n);this.group.removeChild(t[0])},getShapeAt:function(n){return n.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(){var n;window.AmCharts?n=window.AmCharts:(n={},window.AmCharts=n,n.themes={},n.maps={},n.inheriting={},n.charts=[],n.onReadyArray=[],n.useUTC=!1,n.updateRate=60,n.uid=0,n.lang={},n.translations={},n.mapTranslations={},n.windows={},n.initHandlers=[],n.amString="am",n.pmString="pm");n.Class=function(t){var i=function(){arguments[0]!==n.inheriting&&(this.events={},this.construct.apply(this,arguments))},r;t.inherits?(i.prototype=new t.inherits(n.inheriting),i.base=t.inherits.prototype,delete t.inherits):(i.prototype.createEvents=function(){for(var n=0;n<arguments.length;n++)this.events[arguments[n]]=[]},i.prototype.listenTo=function(n,t,i){this.removeListener(n,t,i);n.events[t].push({handler:i,scope:this})},i.prototype.addListener=function(n,t,i){this.removeListener(this,n,t);n&&this.events[n]&&this.events[n].push({handler:t,scope:i})},i.prototype.removeListener=function(n,t,i){if(n&&n.events&&(n=n.events[t]))for(t=n.length-1;0<=t;t--)n[t].handler===i&&n.splice(t,1)},i.prototype.fire=function(n){for(var r,i=this.events[n.type],t=0;t<i.length;t++)r=i[t],r.handler.call(r.scope,n)});for(r in t)i.prototype[r]=t[r];return i};n.addChart=function(t){window.requestAnimationFrame?n.animationRequested||(n.animationRequested=!0,window.requestAnimationFrame(n.update)):n.updateInt||(n.updateInt=setInterval(function(){n.update()},Math.round(1e3/n.updateRate)));n.charts.push(t)};n.removeChart=function(t){for(var i=n.charts,r=i.length-1;0<=r;r--)i[r]==t&&i.splice(r,1);0===i.length&&(n.requestAnimation&&(window.cancelAnimationFrame(n.requestAnimation),n.animationRequested=!1),n.updateInt&&(clearInterval(n.updateInt),n.updateInt=NaN))};n.isModern=!0;n.getIEVersion=function(){var n=0,t,i;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,i=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==i.exec(t)&&(n=parseFloat(RegExp.$1))),n};n.applyLang=function(t,i){var r=n.translations;i.dayNames=n.extend({},n.dayNames);i.shortDayNames=n.extend({},n.shortDayNames);i.monthNames=n.extend({},n.monthNames);i.shortMonthNames=n.extend({},n.shortMonthNames);i.amString="am";i.pmString="pm";r&&(r=r[t])&&(n.lang=r,i.langObj=r,r.monthNames&&(i.dayNames=n.extend({},r.dayNames),i.shortDayNames=n.extend({},r.shortDayNames),i.monthNames=n.extend({},r.monthNames),i.shortMonthNames=n.extend({},r.shortMonthNames)),r.am&&(i.amString=r.am),r.pm&&(i.pmString=r.pm));n.amString=i.amString;n.pmString=i.pmString};n.IEversion=n.getIEVersion();9>n.IEversion&&0<n.IEversion&&(n.isModern=!1,n.isIE=!0);n.dx=0;n.dy=0;(document.addEventListener||window.opera)&&(n.isNN=!0,n.isIE=!1,n.dx=.5,n.dy=.5);document.attachEvent&&(n.isNN=!1,n.isIE=!0,n.isModern||(n.dx=0,n.dy=0));window.chrome&&(n.chrome=!0);n.handleMouseUp=function(t){for(var r,u=n.charts,i=0;i<u.length;i++)r=u[i],r&&r.handleReleaseOutside&&r.handleReleaseOutside(t)};n.handleMouseMove=function(t){for(var r,u=n.charts,i=0;i<u.length;i++)r=u[i],r&&r.handleMouseMove&&r.handleMouseMove(t)};n.handleWheel=function(t){for(var i,u=n.charts,r=0;r<u.length;r++)if(i=u[r],i&&i.mouseIsOver){(i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled)&&i.handleWheel&&i.handleWheel(t);break}};n.resetMouseOver=function(){for(var r,i=n.charts,t=0;t<i.length;t++)r=i[t],r&&(r.mouseIsOver=!1)};n.ready=function(t){n.onReadyArray.push(t)};n.handleLoad=function(){var i,t,r;for(n.isReady=!0,i=n.onReadyArray,t=0;t<i.length;t++)r=i[t],isNaN(n.processDelay)?r():setTimeout(r,n.processDelay*t)};n.addInitHandler=function(t,i){n.initHandlers.push({method:t,types:i})};n.callInitHandler=function(t){var u=n.initHandlers,r,i;if(n.initHandlers)for(r=0;r<u.length;r++)i=u[r],i.types?n.isInArray(i.types,t.type)&&i.method(t):i.method(t)};n.getUniqueId=function(){return n.uid++,"AmChartsEl-"+n.uid};n.isNN&&(document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp,!0),window.addEventListener("load",n.handleLoad,!0));n.isIE&&(document.attachEvent("onmousemove",n.handleMouseMove),document.attachEvent("onmouseup",n.handleMouseUp),window.attachEvent("onload",n.handleLoad));n.addWheelListeners=function(){n.wheelIsListened||(n.isNN&&(window.addEventListener("DOMMouseScroll",n.handleWheel,!0),document.addEventListener("mousewheel",n.handleWheel,!0)),n.isIE&&document.attachEvent("onmousewheel",n.handleWheel));n.wheelIsListened=!0};n.clear=function(){var i=n.charts,t;if(i)for(t=i.length-1;0<=t;t--)i[t].clear();n.updateInt&&clearInterval(n.updateInt);n.requestAnimation&&window.cancelAnimationFrame(n.requestAnimation);n.charts=[];n.isNN&&(document.removeEventListener("mousemove",n.handleMouseMove,!0),document.removeEventListener("mouseup",n.handleMouseUp,!0),window.removeEventListener("load",n.handleLoad,!0),window.removeEventListener("DOMMouseScroll",n.handleWheel,!0),document.removeEventListener("mousewheel",n.handleWheel,!0));n.isIE&&(document.detachEvent("onmousemove",n.handleMouseMove),document.detachEvent("onmouseup",n.handleMouseUp),window.detachEvent("onload",n.handleLoad))};n.makeChart=function(t,i,r){var e=i.type,f=i.theme,u;n.isString(f)&&(f=n.themes[f],i.theme=f);switch(e){case"serial":u=new n.AmSerialChart(f);break;case"xy":u=new n.AmXYChart(f);break;case"pie":u=new n.AmPieChart(f);break;case"radar":u=new n.AmRadarChart(f);break;case"gauge":u=new n.AmAngularGauge(f);break;case"funnel":u=new n.AmFunnelChart(f);break;case"map":u=new n.AmMap(f);break;case"stock":u=new n.AmStockChart(f);break;case"gantt":u=new n.AmGanttChart(f)}return n.extend(u,i),n.isReady?isNaN(r)?u.write(t):setTimeout(function(){n.realWrite(u,t)},r):n.ready(function(){isNaN(r)?u.write(t):setTimeout(function(){n.realWrite(u,t)},r)}),u};n.realWrite=function(n,t){n.write(t)};n.updateCount=0;n.validateAt=Math.round(n.updateRate/10);n.update=function(){var i=n.charts,r,t;if(n.updateCount++,r=!1,n.updateCount==n.validateAt&&(r=!0,n.updateCount=0),i)for(t=i.length-1;0<=t;t--)i[t].update&&i[t].update(),r&&(i[t].autoResize?i[t].validateSize&&i[t].validateSize():i[t].premeasure&&i[t].premeasure());window.requestAnimationFrame&&(n.requestAnimation=window.requestAnimationFrame(n.update))};"complete"==document.readyState&&n.handleLoad()}(),function(){var n=window.AmCharts;n.toBoolean=function(n,t){if(void 0===n)return t;switch(String(n).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!n}};n.removeFromArray=function(n,t){var i;if(void 0!==t&&void 0!==n)for(i=n.length-1;0<=i;i--)n[i]==t&&n.splice(i,1)};n.getPath=function(){var t=document.getElementsByTagName("script"),n,i;if(t)for(n=0;n<t.length;n++)if(i=t[n].src,-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")};n.normalizeUrl=function(n){return""!==n&&-1===n.search(/\/$/)?n+"/":n};n.isAbsolute=function(n){return 0===n.search(/^http[s]?:|^\//)};n.isInArray=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1};n.getDecimals=function(n){var t=0;return isNaN(n)||(n=String(n),-1!=n.indexOf("e-")?t=Number(n.split("-")[1]):-1!=n.indexOf(".")&&(t=n.split(".")[1].length)),t};n.wordwrap=function(t,i,r,u){var o,e,f,s;if(t+="",1>i)return t;for(o=-1,t=(s=t.split(/\r\n|\n|\r/)).length;++o<t;s[o]+=f){for(f=s[o],s[o]="";f.length>i;s[o]+=n.trim(f.slice(0,e))+((f=f.slice(e)).length?r:""))e=2==u||(e=f.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:e.input.length-e[0].length||1==u&&i||e.input.length+(e=f.slice(i).match(/^\S*/))[0].length;f=n.trim(f)}return s.join(r)};n.trim=function(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};n.wrappedText=function(t,i,r,u,f,e,o,s){var h=n.text(t,i,r,u,f,e,o),c,l;return h&&(c=h.getBBox(),c.width>s&&(l="\n",n.isModern||(l="<br>"),s=Math.floor(s/(c.width/i.length)),2<s&&(s-=2),i=n.wordwrap(i,s,l,!0),h.remove(),h=n.text(t,i,r,u,f,e,o))),h};n.getStyle=function(n,t){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t)}catch(r){}else n.currentStyle&&(t=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i=n.currentStyle[t]);return i};n.removePx=function(n){if(void 0!==n)return Number(n.substring(0,n.length-2))};n.getURL=function(t,i){if(t)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=t;else if("_parent"==i&&window.parent)window.parent.location.href=t;else if("_blank"==i)window.open(t);else{var r=document.getElementsByName(i)[0];r?r.src=t:(r=n.windows[i])?r.opener&&!r.opener.closed?r.location.href=t:n.windows[i]=window.open(t):n.windows[i]=window.open(t)}else window.location.href=t};n.ifArray=function(n){return n&&"object"==typeof n&&0<n.length?!0:!1};n.callMethod=function(n,t){for(var i,e,u,f,r=0;r<t.length;r++)if(i=t[r],i&&(i[n]&&i[n](),e=i.length,0<e))for(u=0;u<e;u++)f=i[u],f&&f[n]&&f[n]()};n.toNumber=function(n){return"number"==typeof n?n:Number(String(n).replace(/[^0-9\-.]+/g,""))};n.toColor=function(n){var t,i;if(""!==n&&void 0!==n)if(-1!=n.indexOf(","))for(n=n.split(","),t=0;t<n.length;t++)i=n[t].substring(n[t].length-6,n[t].length),n[t]="#"+i;else n=n.substring(n.length-6,n.length),n="#"+n;return n};n.toCoordinate=function(n,t,i){var r;return void 0!==n&&(n=String(n),i&&i<t&&(t=i),r=Number(n),-1!=n.indexOf("!")&&(r=t-Number(n.substr(1))),-1!=n.indexOf("%")&&(r=t*Number(n.substr(0,n.length-1))/100)),r};n.fitToBounds=function(n,t,i){return n<t&&(n=t),n>i&&(n=i),n};n.isDefined=function(n){return void 0===n?!1:!0};n.stripNumbers=function(n){return n.replace(/[0-9]+/g,"")};n.roundTo=function(n,t){if(0>t)return n;var i=Math.pow(10,t);return Math.round(n*i)/i};n.toFixed=function(n,t){var i=String(Math.round(n*Math.pow(10,t))),r,u;if(0<t){if(r=i.length,r<t)for(u=0;u<t-r;u++)i="0"+i;return r=i.substring(0,i.length-t),""===r&&(r=0),r+"."+i.substring(i.length-t,i.length)}return String(i)};n.formatDuration=function(t,i,r,u,f,e){var s=n.intervals,h=e.decimalSeparator,o;if(t>=s[i].contains)return o=t-Math.floor(t/s[i].contains)*s[i].contains,"ss"==i?(o=n.formatNumber(o,e),1==o.split(h)[0].length&&(o="0"+o)):o=n.roundTo(o,e.precision),("mm"==i||"hh"==i)&&10>o&&(o="0"+o),r=o+""+u[i]+""+r,t=Math.floor(t/s[i].contains),i=s[i].nextInterval,n.formatDuration(t,i,r,u,f,e);if("ss"==i&&(t=n.formatNumber(t,e),1==t.split(h)[0].length&&(t="0"+t)),("mm"==i||"hh"==i)&&10>t&&(t="0"+t),r=t+""+u[i]+""+r,s[f].count>s[i].count)for(t=s[i].count;t<s[f].count;t++)i=s[i].nextInterval,"ss"==i||"mm"==i||"hh"==i?r="00"+u[i]+""+r:"DD"==i&&(r="0"+u[i]+""+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r};n.formatNumber=function(t,i,r,u,f){var c,l,e,h,s,o;if(t=n.roundTo(t,i.precision),isNaN(r)&&(r=i.precision),c=i.decimalSeparator,i=i.thousandsSeparator,l=0>t?"-":"",t=Math.abs(t),h=String(t),s=!1,-1!=h.indexOf("e")&&(s=!0),0<=r&&!s&&(h=n.toFixed(t,r)),e="",s)e=h;else{for(h=h.split("."),s=String(h[0]),o=s.length;0<=o;o-=3)e=o!=s.length?0!==o?s.substring(o-3,o)+i+e:s.substring(o-3,o)+e:s.substring(o-3,o);void 0!==h[1]&&(e=e+c+h[1]);void 0!==r&&0<r&&"0"!=e&&(e=n.addZeroes(e,c,r))}return e=l+e,""===l&&!0===u&&0!==t&&(e="+"+e),!0===f&&(e+="%"),e};n.addZeroes=function(t,i,r){return t=t.split(i),void 0===t[1]&&0<r&&(t[1]="0"),t[1].length<r?(t[1]+="0",n.addZeroes(t[0]+i+t[1],i,r)):void 0!==t[1]?t[0]+i+t[1]:t[0]};n.scientificToNormal=function(n){var t,i,r;if(n=String(n).split("e"),"-"==n[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(n[1]))-1;i++)t+="0";t+=n[0].split(".").join("")}else for(r=0,t=n[0].split("."),t[1]&&(r=t[1].length),t=n[0].split(".").join(""),i=0;i<Math.abs(Number(n[1]))-r;i++)t+="0";return t};n.toScientific=function(n,t){if(0===n)return"0";var r=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),i=String(i).split(".").join(t);return String(i)+"e"+r};n.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};n.hitTest=function(t,i,r){var u=!1,e=t.x,o=t.x+t.width,s=t.y,h=t.y+t.height,f=n.isInRectangle;return u||(u=f(e,s,i)),u||(u=f(e,h,i)),u||(u=f(o,s,i)),u||(u=f(o,h,i)),u||!0===r||(u=n.hitTest(i,t,!0)),u};n.isInRectangle=function(n,t,i){return n>=i.x-5&&n<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5?!0:!1};n.isPercents=function(n){if(-1!=String(n).indexOf("%"))return!0};n.formatValue=function(t,i,r,u,f,e,o,s){var c,l,h;if(i)for(void 0===f&&(f=""),c=0;c<r.length;c++)l=r[c],h=i[l],void 0!==h&&(h=e?n.addPrefix(h,s,o,u):n.formatNumber(h,u),t=t.replace(new RegExp("\\[\\["+f+""+l+"\\]\\]","g"),h));return t};n.formatDataContextValue=function(n,t){var u,r,i;if(n)for(u=n.match(/\[\[.*?\]\]/g),r=0;r<u.length;r++)i=u[r],i=i.substr(2,i.length-4),void 0!==t[i]&&(n=n.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]));return n};n.massReplace=function(n,t){var i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],void 0===r&&(r=""),n=n.replace(i,r));return n};n.cleanFromEmpty=function(n){return n.replace(/\[\[[^\]]*\]\]/g,"")};n.addPrefix=function(t,i,r,u,f){var h=n.formatNumber(t,u),c="",e,o,s;if(0===t)return"0";if(0>t&&(c="-"),t=Math.abs(t),1<t){for(e=i.length-1;-1<e;e--)if(t>=i[e].number&&(o=t/i[e].number,s=Number(u.precision),1>s&&(s=1),r=n.roundTo(o,s),s=n.formatNumber(r,{precision:-1,decimalSeparator:u.decimalSeparator,thousandsSeparator:u.thousandsSeparator}),!f||o==r)){h=c+""+s+""+i[e].prefix;break}}else for(e=0;e<r.length;e++)if(t<=r[e].number){o=t/r[e].number;s=Math.abs(Math.floor(Math.log(o)*Math.LOG10E));o=n.roundTo(o,s);h=c+""+o+""+r[e].prefix;break}return h};n.remove=function(n){n&&n.remove()};n.getEffect=function(n){return">"==n&&(n="easeOutSine"),"<"==n&&(n="easeInSine"),"elastic"==n&&(n="easeOutElastic"),n};n.getObjById=function(n,t){for(var u,r,i=0;i<n.length;i++)if(r=n[i],r.id==t){u=r;break}return u};n.applyTheme=function(t,i,r){i||(i=n.theme);try{i=JSON.parse(JSON.stringify(i))}catch(u){}i&&i[r]&&n.extend(t,i[r])};n.isString=function(n){return"string"==typeof n?!0:!1};n.extend=function(n,t,i){var r;n||(n={});for(r in t)i?n.hasOwnProperty(r)||(n[r]=t[r]):n[r]=t[r];return n};n.copyProperties=function(n,t){for(var i in n)n.hasOwnProperty(i)&&"events"!=i&&void 0!==n[i]&&"function"!=typeof n[i]&&"cname"!=i&&(t[i]=n[i])};n.processObject=function(t,i,r,u){if(!1==t instanceof i&&(t=u?n.extend(new i(r),t):n.extend(t,new i(r),!0),t.listeners))for(var f in t.listeners)i=t.listeners[f],t.addListener(i.event,i.method);return t};n.fixNewLines=function(n){var t=RegExp("\\n","g");return n&&(n=n.replace(t,"<br />")),n};n.fixBrakes=function(t){if(n.isModern){var i=RegExp("<br>","g");t&&(t=t.replace(i,"\n"))}else t=n.fixNewLines(t);return t};n.deleteObject=function(t,i){if(t&&((void 0===i||null===i)&&(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)n.deleteObject(t[r],i-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t.theme=null,t)t[r]&&("object"==typeof t[r]&&n.deleteObject(t[r],i-1),"function"!=typeof t[r]&&(t[r]=null))}catch(u){}};n.bounce=function(n,t,i,r,u){return(t/=u)<1/2.75?7.5625*r*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i};n.easeInOutQuad=function(n,t,i,r,u){return(t/=u/2,1>t)?r/2*t*t+i:(t--,-r/2*(t*(t-2)-1)+i)};n.easeInSine=function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i};n.easeOutSine=function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i};n.easeOutElastic=function(n,t,i,r,u){n=1.70158;var f=0,e=r;return 0===t?i:1==(t/=u)?i+r:(f||(f=.3*u),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin(2*(t*u-n)*Math.PI/f)+r+i)};n.fixStepE=function(t){t=t.toExponential(0).split("e");var i=Number(t[1]);return 9==Number(t[0])&&i++,n.generateNumber(1,i)};n.generateNumber=function(n,t){for(var i="",u=0>t?Math.abs(t)-1:Math.abs(t),r=0;r<u;r++)i+="0";return 0>t?Number("0."+i+String(n)):Number(String(n)+i)};n.setCN=function(n,t,i,r){if(n.addClassNames&&t&&(t=t.node)&&i){var u=t.getAttribute("class");n=n.classNamePrefix+"-";r&&(n="");u?t.setAttribute("class",u+" "+n+i):t.setAttribute("class",n+i)}};n.removeCN=function(n,t,i){t&&(t=t.node)&&i&&(t=t.classList)&&t.remove(n.classNamePrefix+"-"+i)};n.parseDefs=function(t,i){var r,u,f;for(r in t)if(u=typeof t[r],0<t[r].length&&"object"==u)for(f=0;f<t[r].length;f++)u=document.createElementNS(n.SVG_NS,r),i.appendChild(u),n.parseDefs(t[r][f],u);else"object"==u?(u=document.createElementNS(n.SVG_NS,r),i.appendChild(u),n.parseDefs(t[r],u)):i.setAttribute(r,t[r])}}(),function(){var n=window.AmCharts;n.AxisBase=n.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide");this.titleDY=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.centerLabels=!1;this.firstDayOfWeek=1;this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0;this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};n.applyTheme(this,t,"AxisBase")},zoom:function(n,t){this.start=n;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var n=this.position;"H"==this.orientation?("left"==n&&(n="bottom"),"right"==n&&(n="top")):("bottom"==n&&(n="left"),"top"==n&&(n="right"));this.position=n},init:function(){this.createBalloon()},draw:function(){var n=this.chart,t,i;this.prevBY=this.prevBX=NaN;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.setBalloonBounds();this.labels=[];t=n.container;i=t.set();n.gridSet.push(i);this.set=i;t=t.set();n.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(n=this.height/this.minVerticalGap,3>n&&(n=3)):n=this.width/this.minHorizontalGap,this.gridCountR=Math.max(n,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(n){this.orientation=n?"H":"V"},addTitle:function(){var i=this.title,t,r,u;this.titleLabel=null;i&&(t=this.chart,r=this.titleColor,void 0===r&&(r=t.color),u=this.titleFontSize,isNaN(u)&&(u=t.fontSize+1),i=n.text(t.container,i,r,t.fontFamily,u,this.titleAlign,this.titleBold),n.setCN(t,i,this.bcn+"title"),this.titleLabel=i)},positionTitle:function(){var f=this.titleLabel,i,e,t,r,s;if(f){r=this.labelsSet;t={};0<r.length()?t=r.getBBox():(t.x=0,t.y=0,t.width=this.width,t.height=this.height,n.VML&&(t.y+=this.y,t.x+=this.x));r.push(f);r=t.x;s=t.y;n.VML&&(s-=this.y,r-=this.x);var v=t.width,t=t.height,h=this.width,c=this.height,o=0,l=f.getBBox().height/2,a=this.inside,u=this.titleAlign;switch(this.position){case"top":i="left"==u?-1:"right"==u?h:h/2;e=s-10-l;break;case"bottom":i="left"==u?-1:"right"==u?h:h/2;e=s+t+10+l;break;case"left":i=r-10-l;a&&(i-=5);o=-90;e=("left"==u?c+1:"right"==u?-1:c/2)+this.titleDY;break;case"right":i=r+v+10+l;a&&(i+=7);e=("left"==u?c+2:"right"==u?-2:c/2)+this.titleDY;o=-90}this.marginsChanged?(f.translate(i,e),this.tx=i,this.ty=e):f.translate(this.tx,this.ty);this.marginsChanged=!1;isNaN(this.titleRotation)||(o=this.titleRotation);0!==o&&f.rotate(o)}},pushAxisItem:function(n,t){var i=this,r=n.graphics();0<r.length()&&(t?i.labelsSet.push(r):i.set.push(r));(r=n.getLabel())&&(i.labelsSet.push(r),r.click(function(t){i.handleMouse(t,n,"clickItem")}).touchend(function(t){i.handleMouse(t,n,"clickItem")}).mouseover(function(t){i.handleMouse(t,n,"rollOverItem")}).mouseout(function(t){i.handleMouse(t,n,"rollOutItem")}))},handleMouse:function(n,t,i){this.fire({type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:n})},addGuide:function(t){for(var i=this.guides,u=!1,f=i.length,r=0;r<i.length;r++)i[r]==t&&(u=!0,f=r);t=n.processObject(t,n.Guide,this.theme);t.id||(t.id="guideAuto"+f+"_"+(new Date).getTime());u||i.push(t)},removeGuide:function(n){for(var i=this.guides,t=0;t<i.length;t++)i[t]==n&&i.splice(t,1)},handleGuideOver:function(n){clearTimeout(this.chart.hoverInt);var t=n.graphics.getBBox(),r=this.x+t.x+t.width/2,t=this.y+t.y+t.height/2,i=n.fillColor;void 0===i&&(i=n.lineColor);this.chart.showBalloon(n.balloonText,i,!0,r,t);this.fire({type:"rollOverGuide",guide:n,chart:this.chart})},handleGuideOut:function(n){this.chart.hideBalloon();this.fire({type:"rollOutGuide",guide:n,chart:this.chart})},handleGuideClick:function(n){this.chart.hideBalloon();this.fire({type:"clickGuide",guide:n,chart:this.chart})},addEventListeners:function(n,t){var i=this;n.mouseover(function(){i.handleGuideOver(t)});n.mouseup(function(){i.handleGuideClick(t)});n.touchstart(function(){i.handleGuideOver(t)});n.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?n.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){n.remove(this.set);n.remove(this.labelsSet);var t=this.axisLine;t&&n.remove(t.axisSet);n.remove(this.grid0)},chooseMinorFrequency:function(n){for(var t=10;0<t;t--)if(n/t==Math.round(n/t))return n/t},parseDatesDraw:function(){var h,g=this.chart,tt=this.showFirstLabel,it=this.showLastLabel,r,t="",u=n.extractPeriod(this.minPeriod),c=n.getPeriodDuration(u.period,u.count),o,v,y,l,i,b=this.firstDayOfWeek,rt=this.boldPeriodBeginning,w,nt,k,d;h=this.minorGridEnabled;var a,ut=this.gridAlpha,p,s=this.choosePeriod(0),f=s.period,s=s.count,e=n.getPeriodDuration(f,s);if(e<c&&(f=u.period,s=u.count,e=c),u=f,"WW"==u&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),w=Math.ceil(this.timeDifference/e)+5,nt=o=n.resetDateToMin(new Date(this.startTime-e),f,s,b).getTime(),(u==f&&1==s&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(y=e*this.stepWidth,this.autoWrap&&!this.centerLabels&&(y=-y)),this.cellWidth=c*this.stepWidth,l=Math.round(o/e),c=-1,l/2==Math.round(l/2)&&(c=-2,o-=e),l=this.firstTime,k=0,d=0,h&&1<s&&(a=this.chooseMinorFrequency(s),p=n.getPeriodDuration(f,a),"DD"==f&&(p+=n.getPeriodDuration("hh")),"fff"==f&&(p=1)),0<this.gridCountR)for(w-5-c>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),h=c;h<=w;h++){if(i=l+e*(h+Math.floor((nt-l)/e))-k,"DD"==f&&(i+=36e5),i=n.resetDateToMin(new Date(i),f,s,b).getTime(),"MM"==f&&(r=(i-o)/e,1.5<=(i-o)/e&&(i=i-(r-1)*e+n.getPeriodDuration("DD",3),i=n.resetDateToMin(new Date(i),f,1).getTime(),k+=e)),r=(i-this.startTime)*this.stepWidth,"radar"==g.type){if(r=this.axisWidth-r,0>r||r>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(d=-e*this.stepWidth/2):"date"==this.type&&(r=this.axisWidth-r);if(t=!1,this.nextPeriod[u]&&(t=this.checkPeriodChange(this.nextPeriod[u],1,i,o,u)),o=!1,t&&this.markPeriodChange?(t=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(t=this.dateFormatsObject[u]+"\n"+t,t=n.fixBrakes(t)),o=!0):t=this.dateFormatsObject[u],rt||(o=!1),this.currentDateFormat=t,t=n.formatDate(new Date(i),t,g),(h!=c||tt)&&(h!=w||it)||(t=" "),this.labelFunction&&(t=this.labelFunction(t,new Date(i),this,f,s,v).toString()),this.boldLabels&&(o=!0),v=new this.axisItemRenderer(this,r,t,!1,y,d,!1,o),this.pushAxisItem(v),v=o=i,!isNaN(a))for(r=1;r<s;r+=a)this.gridAlpha=this.minorGridAlpha,t=i+p*r,t=n.resetDateToMin(new Date(t),f,a,b).getTime(),t=new this.axisItemRenderer(this,(t-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(t);this.gridAlpha=ut}},choosePeriod:function(t){var r=n.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=this.periods;return this.timeDifference<r&&0<t?i[t-1]:Math.ceil(this.timeDifference/r)<=this.gridCountR?i[t]:t+1<i.length?this.choosePeriod(t+1):i[t]},getStepWidth:function(n){var t;return this.startOnAxis?(t=this.axisWidth/(n-1),1==n&&(t=this.axisWidth)):t=this.axisWidth/n,t},timeZoom:function(n,t){this.startTime=n;this.endTime=t},minDuration:function(){var t=n.extractPeriod(this.minPeriod);return n.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,i,r,u,f){r=new Date(r);var o=new Date(u),e=this.firstDayOfWeek;return u=i,"DD"==t&&(i=1),r=n.resetDateToMin(r,t,i,e).getTime(),i=n.resetDateToMin(o,t,i,e).getTime(),"DD"==t&&"hh"!=f&&r-i<n.getPeriodDuration(t,u)-n.getPeriodDuration("hh",1)?!1:r!=i?!0:!1},generateDFObject:function(){var n,t;for(this.dateFormatsObject={},n=0;n<this.dateFormats.length;n++)t=this.dateFormats[n],this.dateFormatsObject[t.period]=t.format},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide();this.prevBY=this.prevBX=NaN},formatBalloonText:function(n){return n},showBalloon:function(n,t,i,r){var u=this.offset,f;switch(this.position){case"bottom":t=this.height+u;break;case"top":t=-u;break;case"left":n=-u;break;case"right":n=this.width+u}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>t||t>this.height)return;if(isNaN(t)){this.hideBalloon();return}t=this.adjustBalloonCoordinate(t,r);r=this.coordinateToValue(t)}else{if(0>n||n>this.width)return;if(isNaN(n)){this.hideBalloon();return}n=this.adjustBalloonCoordinate(n,r);r=this.coordinateToValue(n)}(u=this.chart.chartCursor)&&(f=u.index);this.balloon&&void 0!==r&&this.balloon.enabled&&(this.balloonTextFunction?(("date"==this.type||!0===this.parseDates)&&(r=new Date(r)),r=this.balloonTextFunction(r)):this.balloonText?r=this.formatBalloonText(this.balloonText,f,i):isNaN(r)||(r=this.formatValue(r,i)),(n!=this.prevBX||t!=this.prevBY)&&(this.balloon.setPosition(n,t),this.prevBX=n,this.prevBY=t,r&&this.balloon.showBalloon(r)))},adjustBalloonCoordinate:function(n){return n},createBalloon:function(){var i=this.chart,t=i.chartCursor;t&&(t=t.cursorPosition,"mouse"!=t&&(this.stickBalloonToCategory=!0),"start"==t&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1));this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),n.extend(this.balloon,i.balloon,!0))},setBalloonBounds:function(){var n=this.balloon,f;if(n){f=this.chart;n.cornerRadius=0;n.shadowAlpha=0;n.borderThickness=1;n.borderAlpha=1;n.adjustBorderColor=!1;n.showBullet=!1;this.balloon=n;n.chart=f;n.mainSet=f.plotBalloonsSet;n.pointerWidth=this.tickLength;(this.parseDates||"date"==this.type)&&(n.pointerWidth=0);n.className=this.id;f="V";"V"==this.orientation&&(f="H");this.stickBalloonToCategory||(n.animationDuration=0);var t,i,r,u,s=this.inside,e=this.width,o=this.height;switch(this.position){case"bottom":t=0;i=e;s?(r=0,u=o):(r=o,u=o+1e3);break;case"top":t=0;i=e;s?(r=0,u=o):(r=-1e3,u=0);break;case"left":r=0;u=o;s?(t=0,i=e):(t=-1e3,i=0);break;case"right":r=0;u=o;s?(t=0,i=e):(t=e,i=e+1e3)}n.drop||(n.pointerOrientation=f);n.setBounds(t,r,i,u)}}})}(),function(){var n=window.AmCharts;n.ValueAxis=n.Class({inherits:n.AxisBase,construct:function(t){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed");n.ValueAxis.base.construct.call(this,t);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.axisFrequency=1;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.pointPosition="axis";this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";this.relativeStart=0;this.relativeEnd=1;n.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(n.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){var h,tt,v,d,u,p,e,y,r,o,s,rt,nt,b,c,k,w,ut;if(n.ValueAxis.base.draw.call(this),h=this.chart,tt=this.set,this.labelRotationR=this.labelRotation,n.setCN(h,this.set,"value-axis value-axis-"+this.id),n.setCN(h,this.labelsSet,"value-axis value-axis-"+this.id),n.setCN(h,this.axisLine.axisSet,"value-axis value-axis-"+this.id),v=this.type,"duration"==v&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==v&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic&&(d=this.treatZeroAs,u=this.getExtremes(0,this.data.length-1).min,!isNaN(this.minimum)&&this.minimum<u&&(u=this.minimum),this.logMin=u,this.minReal<u&&(this.minReal=u),isNaN(this.minReal)&&(this.minReal=u),0<d&&0===u&&(this.minReal=u=d),0>=u||0>=this.minimum)){this.fire({type:"logarithmicAxisFailed",chart:h});return}this.grid0=null;var i,t,l=h.dx,a=h.dy,d=!1,u=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)d=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var it=this.labelFrequency,ft=this.showFirstLabel,et=this.showLastLabel,g=1,f=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;for(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic?(t=this.fullMin,e=this.fullMax,isNaN(this.minimum)||(t=this.minimum),isNaN(this.maximum)||(e=this.maximum),e=Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E,p=Math.log(this.max)/Math.LN10-Math.log(t)*Math.LOG10E,this.relativeStart=n.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(t)*Math.LOG10E)/e,5),this.relativeEnd=n.roundTo(p/e,5)):(this.relativeStart=n.roundTo(n.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=n.roundTo(n.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5)),e=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===u?(y=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/y,y>this.logGridLimit&&(e=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),e>this.gridCountR&&(g=Math.ceil(e/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min),o=0,1>this.step&&-1<this.step&&(o=n.getDecimals(this.step)),this.integersOnly&&(o=0),o>this.maxDecCount&&(o=this.maxDecCount),p=this.precision,isNaN(p)||(o=p),isNaN(this.maxZoom)&&(this.max=n.roundTo(this.max,this.maxDecCount),this.min=n.roundTo(this.min,this.maxDecCount)),t={},t.precision=o,t.decimalSeparator=h.nf.decimalSeparator,t.thousandsSeparator=h.nf.thousandsSeparator,this.numberFormatter=t,this.exponential=!1,t=f;t<e;t+=g)rt=n.roundTo(this.step*t+this.min,o),-1!=String(rt).indexOf("e")&&(this.exponential=!0);if(this.duration&&(this.maxInterval=n.getMaxInterval(this.max,this.duration)),o=this.step,rt=this.minorGridAlpha,this.minorGridEnabled&&(s=this.getMinorGridStep(o,this.stepWidth*o)),this.autoGridCount||0!==this.gridCount)if("date"==v)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(e>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),v=this.minCalc,u&&(e++,v=this.maxCalc-e*o),this.gridCountReal=e,t=this.startCount=f;t<e;t+=g)if((f=o*t+v,f=n.roundTo(f,this.maxDecCount+1),!this.integersOnly||Math.round(f)==f)&&(isNaN(p)||Number(n.toFixed(f,p))==f)){if(!0===u)if(y>this.logGridLimit)f=Math.pow(10,t);else if(0>=f&&(f=v+o*t+o/2,0>=f))continue;if(r=this.formatValue(f,!1,t),Math.round(t/it)!=t/it&&(r=void 0),(0!==t||ft)&&(t!=e-1||et)||(r=" "),i=this.getCoordinate(f),this.rotate&&this.autoWrap&&(nt=this.stepWidth*o-10),r=new this.axisItemRenderer(this,i,r,void 0,nt,void 0,void 0,this.boldLabels),this.pushAxisItem(r),f==this.baseValue&&"radar"!=h.type&&(k=this.width,w=this.height,"H"==this.orientation?0<=i&&i<=k+1&&(b=[i,i,i+l],c=[w,0,a]):0<=i&&i<=w+1&&(b=[0,k,k+l],c=[i,i,i+a]),b&&(i=n.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(i=this.zeroGridAlpha),i=n.line(h.container,b,c,this.gridColor,i,1,this.dashLength),i.translate(this.x,this.y),this.grid0=i,h.axesSet.push(i),i.toBack(),n.setCN(h,i,this.bcn+"zero-grid-"+this.id),n.setCN(h,i,this.bcn+"zero-grid"))),!isNaN(s)&&0<rt&&t<e-1){for(i=o/s,u&&(s=o*(t+g)+this.minCalc,s=n.roundTo(s,this.maxDecCount+1),y>this.logGridLimit&&(s=Math.pow(10,t+g)),i=9,s=(s-f)/i),k=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,w=1;w<i;w++)ut=this.getCoordinate(f+s*w),ut=new this.axisItemRenderer(this,ut,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(ut);this.gridAlpha=k}}if(y=this.guides,nt=y.length,0<nt){for(b=this.fillAlpha,t=this.fillAlpha=0;t<nt;t++)c=y[t],l=NaN,s=c.above,isNaN(c.toValue)||(l=this.getCoordinate(c.toValue),r=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,c),this.pushAxisItem(r,s)),a=NaN,isNaN(c.value)||(a=this.getCoordinate(c.value),r=new this.axisItemRenderer(this,a,c.label,!0,NaN,(l-a)/2,c),this.pushAxisItem(r,s)),isNaN(l)&&(a-=3,l=a+3),r&&(it=r.label)&&this.addEventListeners(it,c),isNaN(l-a)||0>a&&0>l||(l=new this.guideFillRenderer(this,a,l,c),this.pushAxisItem(l,s),s=l.graphics(),c.graphics=s,this.addEventListeners(s,c));this.fillAlpha=b}r=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(r=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(r=this.max);u&&r<this.minReal&&(r=this.minReal);this.baseCoord=this.getCoordinate(r,!0);r={type:"axisChanged",target:this,chart:h};r.min=u?this.minReal:this.min;r.max=this.max;this.fire(r);this.axisCreated=!0}u=this.axisLine.set;r=this.labelsSet;tt.translate(this.x,this.y);r.translate(this.x,this.y);this.positionTitle();"radar"!=h.type&&u.toFront();!this.visible||d?(tt.hide(),u.hide(),r.hide()):(tt.show(),u.show(),r.show());this.axisY=this.y;this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=n.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime());this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=n.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,i,r){var u=this.exponential,o=this.logarithmic,f=this.numberFormatter,e=this.chart;if(f)return!0===this.logarithmic&&(u=-1!=String(t).indexOf("e")?!0:!1),this.useScientificNotation&&(u=!0),this.usePrefixes&&(u=!1),u?(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t),u=r.split("e"),r=Number(u[0]),u=Number(u[1]),r=n.roundTo(r,14),i||isNaN(this.precision)||(r=n.roundTo(r,this.precision)),10==r&&(r=1,u+=1),r=r+"e"+u,0===t&&(r="0"),1==t&&(r="1")):(o&&(u=String(t).split("."),u[1]?(f.precision=u[1].length,0>r&&(f.precision=Math.abs(r)),i&&1<t&&(f.precision=0),i||isNaN(this.precision)||(f.precision=this.precision)):f.precision=-1),r=this.usePrefixes?n.addPrefix(t,e.prefixesOfBigNumbers,e.prefixesOfSmallNumbers,f,!i):n.formatNumber(t,f,f.precision)),this.duration&&(i&&(f.precision=0),r=n.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,f)),"date"==this.type&&(r=n.formatDate(new Date(t),this.currentDateFormat,e)),this.recalculateToPercents?r+="%":(i=this.unit)&&(r="left"==this.unitPosition?i+r:r+i),this.labelFunction&&(r="date"==this.type?this.labelFunction(r,new Date(t),this).toString():this.labelFunction(t,r,this).toString()),r},getMinorGridStep:function(n,t){var f=[5,4,2],e,u,i,r;for(60>t&&f.shift(),e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),u=0;u<f.length;u++)if(i=n/f[u],r=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),!(1<Math.abs(e-r)))if(1>n){if(r=Math.pow(10,-r)*i,r==Math.round(r))return i}else if(i==Math.round(i))return i},stackGraphs:function(t){var h=this.stackType,w,l;"stacked"==h&&(h="regular");"line"==h&&(h="none");"100% stacked"==h&&(h="100%");this.stackType=h;var c=[],o=[],s=[],a=[],f,y=this.chart.graphs,v,r,u,e,i,b=this.baseValue,p=!1;if(("line"==t||"step"==t||"smoothedLine"==t)&&(p=!0),p&&("regular"==h||"100%"==h))for(e=0;e<y.length;e++)u=y[e],u.stackGraph=null,u.hidden||(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable&&(v&&(u.stackGraph=v),v=u));for(u=this.start-10,v=this.end+10,e=this.data.length-1,u=n.fitToBounds(u,0,e),v=n.fitToBounds(v,0,e),i=u;i<=v;i++)for(w=0,e=0;e<y.length;e++)(u=y[e],u.hidden)?u.newStack&&(s[i]=NaN,o[i]=NaN):(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable)&&((r=this.data[i].axes[this.id].graphs[u.id],f=r.values.value,isNaN(f))?u.newStack&&(s[i]=NaN,o[i]=NaN):(l=n.getDecimals(f),w<l&&(w=l),isNaN(a[i])?a[i]=Math.abs(f):a[i]+=Math.abs(f),a[i]=n.roundTo(a[i],w),l=u.fillToGraph,p&&l&&(l=this.data[i].axes[this.id].graphs[l.id])&&(r.values.open=l.values.value),"regular"==h&&(p&&(isNaN(c[i])?(c[i]=f,r.values.close=f,r.values.open=this.baseValue):(r.values.close=isNaN(f)?c[i]:f+c[i],r.values.open=c[i],c[i]=r.values.close)),"column"==t&&(u.newStack&&(s[i]=NaN,o[i]=NaN),r.values.close=f,0>f?(r.values.close=f,isNaN(o[i])?r.values.open=b:(r.values.close+=o[i],r.values.open=o[i]),o[i]=r.values.close):(r.values.close=f,isNaN(s[i])?r.values.open=b:(r.values.close+=s[i],r.values.open=s[i]),s[i]=r.values.close)))));for(i=this.start;i<=this.end;i++)for(e=0;e<y.length;e++)(u=y[e],u.hidden)?u.newStack&&(s[i]=NaN,o[i]=NaN):(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable&&(r=this.data[i].axes[this.id].graphs[u.id],f=r.values.value,isNaN(f)||(c=f/a[i]*100,r.values.percents=c,r.values.total=a[i],u.newStack&&(s[i]=NaN,o[i]=NaN),"100%"==h&&(isNaN(o[i])&&(o[i]=0),isNaN(s[i])&&(s[i]=0),0>c?(r.values.close=n.fitToBounds(c+o[i],-100,100),r.values.open=o[i],o[i]=r.values.close):(r.values.close=n.fitToBounds(c+s[i],-100,100),r.values.open=s[i],s[i]=r.values.close)))))},recalculate:function(){for(var r=this.chart,l=r.graphs,u,f,i,e,s,h=0;h<l.length;h++)if(u=l[h],u.valueAxis==this){f="value";("candlestick"==u.type||"ohlc"==u.type)&&(f="open");var o,t,c=this.end+2,c=n.fitToBounds(this.end+1,0,this.data.length-1),e=this.start;if(0<e&&e--,t=this.start,u.compareFromStart&&(t=0),!isNaN(r.startTime)&&(i=r.categoryAxis)){var a=i.minDuration(),a=new Date(r.startTime+a/2),v=n.resetDateToMin(new Date(r.startTime),i.minPeriod).getTime();n.resetDateToMin(new Date(a),i.minPeriod).getTime()>v&&t++}for((i=r.recalculateFromDate)&&(i=n.getDate(i,r.dataDateFormat,"fff"),t=r.getClosestIndex(r.chartData,"time",i.getTime(),!0,0,r.chartData.length),c=r.chartData.length-1),i=t;i<=c&&(t=this.data[i].axes[this.id].graphs[u.id],o=t.values[f],u.recalculateValue&&(o=t.dataContext[u.valueField+u.recalculateValue]),isNaN(o));i++);for(this.recBaseValue=o,f=e;f<=c;f++){t=this.data[f].axes[this.id].graphs[u.id];t.percents={};e=t.values;for(s in e)t.percents[s]="percents"!=s?e[s]/o*100-100:e[s]}}},getMinMax:function(){for(var i=!1,u=this.chart,t=u.graphs,f,r=0;r<t.length;r++)f=t[r].type,("line"==f||"step"==f||"smoothedLine"==f)&&this.expandMinMax&&(i=!0);if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==u.type&&(!0!==u.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,u=this.getExtremes(this.start,this.end),this.min=u.min,this.max=u.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(u=0;u<i;u++)t=this.guides[u],t.toValue<this.min&&(this.min=t.toValue),t.value<this.min&&(this.min=t.value),t.toValue>this.max&&(this.max=t.toValue),t.value>this.max&&(this.max=t.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);"date"==this.type&&this.getDateMinMax();this.min>this.max&&(i=this.max,this.max=this.min,this.min=i);isNaN(this.minZoom)||(this.min=this.minZoom);isNaN(this.maxZoom)||(this.max=this.maxZoom);this.minCalc=this.min;this.maxCalc=this.max;this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);i=this.min;u=this.max;t=this.max-this.min;r=0===t?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10;isNaN(this.maximum)&&(this.max=Math.ceil(this.max/r)*r+r);isNaN(this.minimum)&&(this.min=Math.floor(this.min/r)*r-r);0>this.min&&0<=i&&(this.min=0);0<this.max&&0>=u&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);t=this.max-this.min;r=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10;this.step=Math.ceil(t/this.gridCountR/r)*r;t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));t=n.fixStepE(t);r=Math.ceil(this.step/t);5<r&&(r=10);5>=r&&2<r&&(r=5);this.step=Math.ceil(this.step/(t*r))*t*r;isNaN(this.setStep)||(this.step=this.setStep);1>t?(this.maxDecCount=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=n.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=i&&(this.min=0);0<this.max&&0>=u&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));t=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=t);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(u)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(u))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(n,t){for(var u,f,o,s,r,i,e,h=n;h<=t;h++){o=this.data[h].axes[this.id].graphs;for(s in o)if(o.hasOwnProperty(s)&&(r=this.chart.graphsById[s],r.includeInMinMax&&(!r.hidden||this.includeHidden)))if(isNaN(u)&&(u=Infinity),isNaN(f)&&(f=-Infinity),this.foundGraphs=!0,r=o[s].values,this.recalculateToPercents&&(r=o[s].percents),this.minMaxField)i=r[this.minMaxField],i<u&&(u=i),i>f&&(f=i);else for(e in r)r.hasOwnProperty(e)&&"percents"!=e&&"total"!=e&&"error"!=e&&(i=r[e],i<u&&(u=i),i>f&&(f=i))}return{min:u,max:f}},zoomOut:function(n){this.maxZoom=this.minZoom=NaN;this.zoomToRelativeValues(0,1,n)},zoomToRelativeValues:function(n,t,i){var r;this.reversed&&(r=n,n=1-t,t=1-r);var u=this.fullMax,r=this.fullMin,f=r+(u-r)*n,e=r+(u-r)*t;return 0<=this.minimum&&0>f&&(f=0),this.logarithmic&&(isNaN(this.minimum)||(r=this.minimum),isNaN(this.maximum)||(u=this.maximum),u=Math.log(u)*Math.LOG10E-Math.log(r)*Math.LOG10E,f=Math.pow(10,u*n+Math.log(r)*Math.LOG10E),e=Math.pow(10,u*t+Math.log(r)*Math.LOG10E)),this.zoomToValues(f,e,i)},zoomToValues:function(t,i,r){var u,f,e;return i<t&&(u=i,i=t,t=u),f=this.fullMax,u=this.fullMin,this.relativeStart=n.roundTo((t-u)/(f-u),9),this.relativeEnd=n.roundTo((i-u)/(f-u),9),this.logarithmic&&(isNaN(this.minimum)||(u=this.minimum),isNaN(this.maximum)||(f=this.maximum),f=Math.log(f)*Math.LOG10E-Math.log(u)*Math.LOG10E,e=Math.log(i)/Math.LN10-Math.log(u)*Math.LOG10E,this.relativeStart=n.roundTo((Math.log(t)/Math.LN10-Math.log(u)*Math.LOG10E)/f,9),this.relativeEnd=n.roundTo(e/f,9)),this.minZoom!=t||this.maxZoom!=i?(this.minZoom=t,this.maxZoom=i,u={type:"axisZoomed"},u.chart=this.chart,u.valueAxis=this,u.startValue=t,u.endValue=i,u.relativeStart=this.relativeStart,u.relativeEnd=this.relativeEnd,this.prevStartValue==t&&this.prevEndValue==i||this.fire(u),this.prevStartValue=t,this.prevEndValue=i,r||(t={},n.copyProperties(u,t),t.type="axisIntZoomed",this.fire(t)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0):void 0},coordinateToValue:function(n){if(isNaN(n))return NaN;var i=this.axisWidth,t=this.stepWidth,u=this.reversed,f=this.rotate,r=this.min,e=this.minReal;return!0===this.logarithmic?Math.pow(10,(f?!0===u?(i-n)/t:n/t:!0===u?n/t:(i-n)/t)+Math.log(e)*Math.LOG10E):!0===u?f?r-(n-i)/t:n/t+r:f?n/t+r:r-(n-i)/t},getCoordinate:function(n,t){if(isNaN(n))return NaN;var i=this.rotate,e=this.reversed,f=this.axisWidth,u=this.stepWidth,r=this.min,o=this.minReal;return!0===this.logarithmic?(0===n&&(n=this.treatZeroAs),r=Math.log(n)*Math.LOG10E-Math.log(o)*Math.LOG10E,i=i?!0===e?f-u*r:u*r:!0===e?u*r:f-u*r):i=!0===e?i?f-u*(n-r):u*(n-r):i?u*(n-r):f-u*(n-r),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),t||(i=Math.round(i)),i},synchronizeWithAxis:function(n){this.synchronizeWith=n;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){n.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,i=t.min,u=t.max,t=t.step,r=this.synchronizationMultiplier;r&&(this.min=i*r,this.max=u*r,this.step=t*r,i=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=i=Math.round(i),this.draw())}}})}(),function(){var n=window.AmCharts;n.RecAxis=n.Class({construct:function(t){var f=t.chart,i=t.axisThickness,r=t.axisColor,c=t.axisAlpha,e=t.offset,l=t.dx,u=t.dy,o=t.x,s=t.y,h=t.height,v=t.width,a=f.container;"H"==t.orientation?(r=n.line(a,[0,v],[0,0],r,c,i),this.axisWidth=t.width,"bottom"==t.position?(u=i/2+e+h+s-1,i=o):(u=-i/2-e+s+u,i=l+o)):(this.axisWidth=t.height,"right"==t.position?(r=n.line(a,[0,0,-l],[0,h,h-u],r,c,i),u=s+u,i=i/2+e+l+v+o-1):(r=n.line(a,[0,0],[0,h],r,c,i),u=s,i=-i/2-e+o));r.translate(i,u);i=f.container.set();i.push(r);f.axesSet.push(i);n.setCN(f,r,t.bcn+"line");this.axisSet=i;this.set=r}})}(),function(){var n=window.AmCharts;n.RecItem=n.Class({construct:function(t,i,r,u,f,e,o,s,h,c,l,a){var g,ii,b,bt,ot,pt,nt,w;i=Math.round(i);g=t.chart;this.value=r;void 0==r&&(r="");h||(h=0);void 0==u&&(u=!0);ii=g.fontFamily;b=t.fontSize;void 0==b&&(b=g.fontSize);bt=t.color;void 0==bt&&(bt=g.color);void 0!==l&&(bt=l);ot=t.chart.container;pt=ot.set();this.set=pt;var ht=t.axisThickness,oi=t.axisColor,ni=t.axisAlpha,y=t.tickLength,dt=t.gridAlpha,gt=t.gridThickness,ri=t.gridColor,ui=t.dashLength,si=t.fillColor,ti=t.fillAlpha,hi=t.labelsEnabled;l=t.labelRotationR;var fi=t.counter,d=t.inside,ct=t.labelOffset,ft=t.dx,rt=t.dy,ci=t.orientation,lt=t.position,kt=t.previousCoord,it=t.height,at=t.width,et=t.offset,ut,st;o?(void 0!==o.id&&(a=g.classNamePrefix+"-guide-"+o.id),hi=!0,isNaN(o.tickLength)||(y=o.tickLength),void 0!=o.lineColor&&(ri=o.lineColor),void 0!=o.color&&(bt=o.color),isNaN(o.lineAlpha)||(dt=o.lineAlpha),isNaN(o.dashLength)||(ui=o.dashLength),isNaN(o.lineThickness)||(gt=o.lineThickness),!0===o.inside&&(d=!0,0<et&&(et=0)),isNaN(o.labelRotation)||(l=o.labelRotation),isNaN(o.fontSize)||(b=o.fontSize),o.position&&(lt=o.position),void 0!==o.boldLabel&&(s=o.boldLabel),isNaN(o.labelOffset)||(ct=o.labelOffset)):""===r&&(y=0);c&&!isNaN(t.minorTickLength)&&(y=t.minorTickLength);nt="start";0<f&&(nt="middle");t.centerLabels&&(nt="middle");var k=l*Math.PI/180,vt,yt,p=0,v=0,wt=0,tt=vt=0,ei=0;"V"==ci&&(l=0);hi&&""!==r&&(w=t.autoWrap&&0===l?n.wrappedText(ot,r,bt,ii,b,nt,s,Math.abs(f),0):n.text(ot,r,bt,ii,b,nt,s),nt=w.getBBox(),tt=nt.width,ei=nt.height);"H"==ci?(0<=i&&i<=at+1&&(0<y&&0<ni&&i+h<=at+1&&(ut=n.line(ot,[i+h,i+h],[0,y],oi,ni,gt),pt.push(ut)),0<dt&&(st=n.line(ot,[i,i+ft,i+ft],[it,it+rt,rt],ri,dt,gt,ui),pt.push(st))),v=0,p=i,o&&90==l&&d&&(p-=b),!1===u?(nt="start",v="bottom"==lt?d?v+y:v-y:d?v-y:v+y,p+=3,0<f&&(p+=f/2-3,nt="middle"),0<l&&(nt="middle")):nt="middle",1==fi&&0<ti&&!o&&!c&&kt<at&&(u=n.fitToBounds(i,0,at),kt=n.fitToBounds(kt,0,at),vt=u-kt,0<vt&&(yt=n.rect(ot,vt,t.height,si,ti),yt.translate(u-vt+ft,rt),pt.push(yt))),"bottom"==lt?(v+=it+b/2+et,d?(0<l?(v=it-tt/2*Math.sin(k)-y-3,t.centerRotatedLabels||(p+=tt/2*Math.cos(k)-2)):0>l?(v=it+tt*Math.sin(k)-y-1,p+=-tt*Math.cos(k)-ei*Math.sin(k)-4):v-=y+b+3+3,v-=ct):(0<l?(v=it+tt/2*Math.sin(k)+y+3,t.centerRotatedLabels||(p-=tt/2*Math.cos(k))):0>l?(v=it+y+3-tt/2*Math.sin(k)+2,p+=tt/2*Math.cos(k)):v+=y+ht+3+3,v+=ct)):(v+=rt+b/2-et,p+=ft,d?(0<l?(v=tt/2*Math.sin(k)+y+3,t.centerRotatedLabels||(p-=tt/2*Math.cos(k))):v+=y+3,v+=ct):(0<l?(v=-(tt/2)*Math.sin(k)-y-6,t.centerRotatedLabels||(p+=tt/2*Math.cos(k))):v-=y+b+3+ht+3,v-=ct)),"bottom"==lt?vt=(d?it-y-1:it+ht-1)+et:(wt=ft,vt=(d?rt:rt-y-ht+1)-et),e&&(p+=e),b=p,0<l&&(b+=tt/2*Math.cos(k)),w&&(e=0,d&&(e=tt/2*Math.cos(k)),b+e>at+2||0>b))&&(w.remove(),w=null):(0<=i&&i<=it+1&&(0<y&&0<ni&&i+h<=it+1&&(ut=n.line(ot,[0,y+1],[i+h,i+h],oi,ni,gt),pt.push(ut)),0<dt&&(st=n.line(ot,[0,ft,at+ft],[i,i+rt,i+rt],ri,dt,gt,ui),pt.push(st))),nt="end",(!0===d&&"left"==lt||!1===d&&"right"==lt)&&(nt="start"),v=i-ei/2+2,1==fi&&0<ti&&!o&&!c&&(u=n.fitToBounds(i,0,it),kt=n.fitToBounds(kt,0,it),k=u-kt,yt=n.polygon(ot,[0,t.width,t.width,0],[0,0,k,k],si,ti),yt.translate(ft,u-k+rt),pt.push(yt)),v+=b/2,"right"==lt?(p+=ft+at+et,v+=rt,d?(e||(v-=b/2+3),p=p-(y+4)-ct):(p+=y+4+ht,v-=2,p+=ct)):d?(p+=y+4-et,e||(v-=b/2+3),o&&(p+=ft,v+=rt),p+=ct):(p+=-y-ht-6-et,v-=2,p-=ct),ut&&("right"==lt?(wt+=ft+et+at-1,vt+=rt,wt=d?wt-ht:wt+ht):(wt-=et,d||(wt-=y+ht))),e&&(v+=e),d=-3,"right"==lt&&(d+=rt),w&&(v>it+1||v<d-b/10)&&(w.remove(),w=null));ut&&(ut.translate(wt,vt),n.setCN(g,ut,t.bcn+"tick"),n.setCN(g,ut,a,!0),o&&n.setCN(g,ut,"guide"));!1===t.visible&&(ut&&ut.remove(),w&&(w.remove(),w=null));w&&(w.attr({"text-anchor":nt}),w.translate(p,v,NaN,!0),0!==l&&w.rotate(-l,t.chart.backgroundColor),t.allLabels.push(w),this.label=w,n.setCN(g,w,t.bcn+"label"),n.setCN(g,w,a,!0),o&&n.setCN(g,w,"guide"));st&&(n.setCN(g,st,t.bcn+"grid"),n.setCN(g,st,a,!0),o&&n.setCN(g,st,"guide"));yt&&(n.setCN(g,yt,t.bcn+"fill"),n.setCN(g,yt,a,!0));c?st&&n.setCN(g,st,t.bcn+"grid-minor"):(t.counter=0===fi?1:0,t.previousCoord=i);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var n=window.AmCharts;n.RecFill=n.Class({construct:function(t,i,r,u){var c=t.dx,l=t.dy,f=t.orientation,h=0,o,e,s;r<i&&(e=i,i=r,r=e);o=u.fillAlpha;isNaN(o)&&(o=0);e=t.chart.container;s=u.fillColor;"V"==f?(i=n.fitToBounds(i,0,t.height),r=n.fitToBounds(r,0,t.height)):(i=n.fitToBounds(i,0,t.width),r=n.fitToBounds(r,0,t.width));r-=i;isNaN(r)&&(r=4,h=2,o=0);0>r&&"object"==typeof s&&(s=s.join(",").split(",").reverse());"V"==f?(f=n.rect(e,t.width,r,s,o),f.translate(c,i-h+l)):(f=n.rect(e,r,t.height,s,o),f.translate(i-h+c,l));n.setCN(t.chart,f,"guide-fill");u.id&&n.setCN(t.chart,f,"guide-fill-"+u.id);this.set=e.set([f])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var n=window.AmCharts;n.AmChart=n.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0;this.theme=t;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.21.1";n.addChart(this);this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.autoResize=!0;this.autoDisplay=!1;this.addCodeCredits=this.accessible=!0;this.touchStartTime=this.touchClickDuration=0;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var r=document.createElement("div"),i=r.style;i.overflow="hidden";i.position="relative";i.textAlign="left";this.chartDiv=r;r=document.createElement("div");i=r.style;i.overflow="hidden";i.position="relative";i.textAlign="left";this.legendDiv=r;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.cssScale=this.handDrawThickness=1;this.cssAngle=0;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="amcharts";this.animations=[];this.balloon=new n.AmBalloon(this.theme);this.balloon.chart=this;this.processTimeout=0;this.processCount=1e3;this.animatable=[];this.langObj={};n.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(n,t,i){this.accessible&&n&&(i&&n.setAttr("role",i),n.setAttr("aria-label",t))},drawBackground:function(){var r,u;n.remove(this.background);var i=this.container,t=this.backgroundColor,f=this.backgroundAlpha,e=this.set;n.isModern||0!==f||(f=.001);r=this.updateWidth();this.realWidth=r;u=this.updateHeight();this.realHeight=u;t=n.polygon(i,[0,r-1,r-1,0],[0,0,u-1,u-1],t,f,1,this.borderColor,this.borderAlpha);n.setCN(this,t,"bg");this.background=t;e.push(t);(t=this.backgroundImage)&&(i=i.image(t,0,0,r,u),n.setCN(this,t,"bg-image"),this.bgImg=i,e.push(i))},drawTitles:function(t){var o=this.titles,u,f,i,r,e,s,h;if(this.titleHeight=0,n.ifArray(o)){for(u=20,f=0;f<o.length;f++)i=o[f],i=n.processObject(i,n.Title,this.theme),!1!==i.enabled&&(r=i.color,void 0===r&&(r=this.color),e=i.size,isNaN(e)&&(e=this.fontSize+2),isNaN(i.alpha),s=this.marginLeft,h=!0,void 0!==i.bold&&(h=i.bold),r=n.wrappedText(this.container,i.text,r,this.fontFamily,e,"middle",h,this.realWidth-35),r.translate(s+(this.realWidth-this.marginRight-s)/2,u),r.node.style.pointerEvents="none",i.sprite=r,void 0!==i.tabIndex&&r.setAttr("tabindex",i.tabIndex),n.setCN(this,r,"title"),i.id&&n.setCN(this,r,"title-"+i.id),r.attr({opacity:i.alpha}),u+=r.getBBox().height+5,t?r.remove():this.freeLabelsSet.push(r));this.titleHeight=u-10}},write:function(n){var t=this,i,r;if(t.listeners)for(i=0;i<t.listeners.length;i++)r=t.listeners[i],t.addListener(r.event,r.method);t.fire({type:"buildStarted",chart:t});t.afterWriteTO&&clearTimeout(t.afterWriteTO);0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,n)},t.processTimeout):t.afterWrite(n)},afterWrite:function(t){var f,s,i;if(f="object"!=typeof t?document.getElementById(t):t){for(;f.firstChild;)f.removeChild(f.firstChild);this.div=f;f.style.overflow="hidden";f.style.textAlign="left";t=this.chartDiv;var o=this.legendDiv,r=this.legend,u=o.style,e=t.style;if(this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,i=document.createElement("div"),s=i.style,s.position="relative",this.containerDiv=i,i.className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",f.appendChild(i),(f=this.exportConfig)&&n.AmExport&&!this.AmExport&&(this.AmExport=new n.AmExport(this,f)),this.amExport&&n.AmExport&&(this.AmExport=n.extend(this.amExport,new n.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),r){if(r=this.addLegend(r,r.divId),r.enabled)switch(u.left=null,u.top=null,u.right=null,e.left=null,e.right=null,e.top=null,u.position="relative",e.position="relative",s.width="100%",s.height="100%",r.position){case"bottom":i.appendChild(t);i.appendChild(o);break;case"top":i.appendChild(o);i.appendChild(t);break;case"absolute":u.position="absolute";e.position="absolute";void 0!==r.left&&(u.left=r.left+"px");void 0!==r.right&&(u.right=r.right+"px");void 0!==r.top&&(u.top=r.top+"px");void 0!==r.bottom&&(u.bottom=r.bottom+"px");r.marginLeft=0;r.marginRight=0;i.appendChild(t);i.appendChild(o);break;case"right":u.position="relative";e.position="absolute";i.appendChild(t);i.appendChild(o);break;case"left":u.position="absolute";e.position="relative";i.appendChild(t);i.appendChild(o);break;case"outside":i.appendChild(t)}else i.appendChild(t);this.prevLegendPosition=r.position}else i.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&n.addWheelListeners();this.initChart()}},createLabelsSet:function(){n.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=n.processObject(this.balloon,n.AmBalloon,this.theme);window.AmCharts_path&&(this.path=window.AmCharts_path);void 0===this.path&&(this.path=n.getPath());void 0===this.path&&(this.path="amcharts/");this.path=n.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(n.callInitHandler(this),this.initHC=!0);n.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator));(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.destroy();(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new n.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);this.container=t;this.extension=".png";this.svgIcons&&n.SVG&&(this.extension=".svg");this.checkDisplay();this.checkTransform(this.div);t.chart=this;n.VML||n.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,n.remove(this.set),this.set=t.set(),n.remove(this.gridSet),this.gridSet=t.set(),n.remove(this.cursorLineSet),this.cursorLineSet=t.set(),n.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),n.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),n.remove(this.columnSet),this.columnSet=t.set(),n.remove(this.graphsSet),this.graphsSet=t.set(),n.remove(this.trendLinesSet),this.trendLinesSet=t.set(),n.remove(this.axesSet),this.axesSet=t.set(),n.remove(this.cursorSet),this.cursorSet=t.set(),n.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),n.remove(this.bulletSet),this.bulletSet=t.set(),n.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),n.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),n.remove(this.balloonsSet),this.balloonsSet=t.set(),n.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),n.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),n.remove(this.zbSet),this.zbSet=null,n.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var n=this.div,t,i;if(n){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(r){}t=n.offsetWidth;i=n.offsetHeight;n.clientHeight&&(t=n.clientWidth,i=n.clientHeight);(t!=this.mw||i!=this.mh)&&(this.mw=t,this.mh=i,this.measure())}},measure:function(){var t=this.div;if(t){var f=this.chartDiv,i=t.offsetWidth,r=t.offsetHeight,e=this.container;t.clientHeight&&(i=t.clientWidth,r=t.clientHeight);var r=Math.round(r),i=Math.round(i),t=Math.round(n.toCoordinate(this.width,i)),u=Math.round(n.toCoordinate(this.height,r));(i!=this.previousWidth||r!=this.previousHeight)&&0<t&&0<u&&(f.style.width=t+"px",f.style.height=u+"px",f.style.padding=0,e&&e.setSize(t,u),this.balloon=n.processObject(this.balloon,n.AmBalloon,this.theme));this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,u);this.updateWidth();this.balloon.chart=this;this.realWidth=t;this.realHeight=u;this.divRealWidth=i;this.divRealHeight=r}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=n.rect(this.container,10,10),i=t.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN);t.remove()}},checkTransform:function(n){var t;if(this.autoTransform&&window.getComputedStyle&&n){if(n.style&&(t=window.getComputedStyle(n,null),t&&(t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"))&&"none"!==t)){var i=t.split("(")[1].split(")")[0].split(","),t=i[0],i=i[1],t=Math.sqrt(t*t+i*i);isNaN(t)||(this.cssScale*=t)}n.parentNode&&this.checkTransform(n.parentNode)}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts,n;if(t)for(n=0;n<t.length;n++)clearTimeout(t[n]);this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0);document.removeEventListener("touchend",this.docfn2,!0)}catch(i){}if(n.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||n.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy();this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&n.isNN&&(t="default");this.chartDiv.style.cursor=t;this.legendDiv.style.cursor=t},redrawLabels:function(){var t,n;for(this.labels=[],t=this.allLabels,this.createLabelsSet(),n=0;n<t.length;n++)this.drawLabel(t[n])},drawLabel:function(t){var i=this;if(i.container&&!1!==t.enabled){t=n.processObject(t,n.Label,i.theme);var f=t.y,r=t.text,u=t.align,s=t.size,h=t.color,e=t.rotation,c=t.alpha,l=t.bold,o=n.toCoordinate(t.x,i.realWidth),f=n.toCoordinate(f,i.realHeight);o||(o=0);f||(f=0);void 0===h&&(h=i.color);isNaN(s)&&(s=i.fontSize);u||(u="start");"left"==u&&(u="start");"right"==u&&(u="end");"center"==u&&(u="middle",e?f=i.realHeight-f+f/2:o=i.realWidth/2-o);void 0===c&&(c=1);void 0===e&&(e=0);f+=s/2;r=n.text(i.container,r,h,i.fontFamily,s,u,l,c);r.translate(o,f);void 0!==t.tabIndex&&r.setAttr("tabindex",t.tabIndex);n.setCN(i,r,"label");t.id&&n.setCN(i,r,"label-"+t.id);0!==e&&r.rotate(e);t.url?(r.setAttr("cursor","pointer"),r.click(function(){n.getURL(t.url,i.urlTarget)})):r.node.style.pointerEvents="none";i.labelsSet.push(r);i.labels.push(r)}},addLabel:function(n,t,i,r,u,f,e,o,s,h){n={x:n,y:t,text:i,align:r,size:u,color:f,alpha:o,rotation:e,bold:s,url:h,enabled:!0};this.container&&this.drawLabel(n);this.allLabels.push(n)},clearLabels:function(){for(var t=this.labels,n=t.length-1;0<=n;n--)t[n].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var n=this.divRealHeight,t=this.legend,i;return t&&(i=this.legendDiv.offsetHeight,t=t.position,("top"==t||"bottom"==t)&&(n-=i,(0>n||isNaN(n))&&(n=0),this.chartDiv.style.height=n+"px")),n},updateWidth:function(){var n=this.divRealWidth,e=this.divRealHeight,t=this.legend,i,r;if(t){i=this.legendDiv;r=i.offsetWidth;isNaN(t.width)||(r=t.width);t.ieW&&(r=t.ieW);var o=i.offsetHeight,i=i.style,u=this.chartDiv.style,f=t.position;("right"==f||"left"==f)&&void 0===t.divId&&(n-=r,(0>n||isNaN(n))&&(n=0),u.width=n+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,n-2,this.realHeight),"left"==f?(u.left=r+"px",i.left="0px"):(u.left="0px",i.left=n+"px"),e>o&&(i.top=(e-o)/2+"px"))}return n},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(n,t,i,r,u){return isNaN(t)&&(t=this.fontSize+2),n={text:n,size:t,color:i,alpha:r,bold:u,enabled:!0},this.titles.push(n),n},handleWheel:function(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3);t&&this.handleWheelReal(t,n.shiftKey);n.preventDefault&&n.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove();this.tmx=this.mouseX;this.tmy=this.mouseY;this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(n){var t=this,i=(new Date).getTime();if(n)if(n.touches)t.isTouchEvent=!0;else if(!t.isTouchEvent)return!0;if(i-t.touchStartTime>t.touchClickDuration)return!0;setTimeout(function(){t.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var n=this,t=n.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){n.handleTouchStart.call(n,t)},!0),t.addEventListener("touchmove",function(t){n.handleMouseMove.call(n,t)},!0),t.addEventListener("touchend",function(t){n.handleTouchEnd.call(n,t)},!0),n.docfn1=function(t){n.handleDocTouchStart.call(n,t)},n.docfn2=function(t){n.handleDocTouchEnd.call(n,t)},document.addEventListener("touchstart",n.docfn1,!0),document.addEventListener("touchend",n.docfn2,!0)),t.addEventListener("mousedown",function(t){n.mouseIsOver=!0;n.handleMouseMove.call(n,t);n.handleMouseDown.call(n,t);n.handleDocTouchStart.call(n,t)},!0),t.addEventListener("mouseover",function(t){n.handleMouseOver.call(n,t)},!0),t.addEventListener("mouseout",function(t){n.handleMouseOut.call(n,t)},!0),t.addEventListener("mouseup",function(t){n.handleDocTouchEnd.call(n,t)},!0)):(t.attachEvent("onmousedown",function(t){n.handleMouseDown.call(n,t)}),t.attachEvent("onmouseover",function(t){n.handleMouseOver.call(n,t)}),t.attachEvent("onmouseout",function(t){n.handleMouseOut.call(n,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this}));this.skipEvents=!1},validateSize:function(){var n=this,t,i;n.premeasure();n.checkDisplay();n.cssScale=1;n.cssAngle=0;n.checkTransform(n.div);(n.divRealWidth!=n.previousWidth||n.divRealHeight!=n.previousHeight)&&(t=n.legend,0<n.realWidth&&0<n.realHeight&&(n.sizeChanged=!0,t&&(n.legendInitTO&&clearTimeout(n.legendInitTO),i=setTimeout(function(){t.invalidateSize()},10),n.timeOuts.push(i),n.legendInitTO=i),n.marginsUpdated=!1,clearTimeout(n.initTO),i=setTimeout(function(){n.initChart()},10),n.timeOuts.push(i),n.initTO=i),n.renderFix(),t&&t.renderFix&&t.renderFix(),clearTimeout(n.resizedTO),n.resizedTO=setTimeout(function(){n.fire({type:"resized",chart:n})},10),n.previousHeight=n.divRealHeight,n.previousWidth=n.divRealWidth)},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var n=this,t;n.marginsUpdated=!1;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateSize()},5);n.timeOuts.push(t);n.validateTO=t},validateData:function(n){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(n))},validateNow:function(n,t){this.initTO&&clearTimeout(this.initTO);n&&(this.dataChanged=!0,this.marginsUpdated=!1);this.skipEvents=t;this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize()));this.write(this.div)},showItem:function(n){n.hidden=!1;this.initChart()},hideItem:function(n){n.hidden=!0;this.initChart()},hideBalloon:function(){var n=this;clearTimeout(n.hoverInt);clearTimeout(n.balloonTO);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},n.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var n=this.balloon;n&&n.hide&&n.hide()},showBalloon:function(n,t,i,r,u){var f=this;clearTimeout(f.balloonTO);clearTimeout(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,n,t,i,r,u)},1)},showBalloonReal:function(n,t,i,r,u){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(t),!i||f.fixedPosition?(f.setPosition(r,u),isNaN(r)||isNaN(u)?f.followCursor(!0):f.followCursor(!1)):f.followCursor(!0),n&&f.showBalloon(n))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO);n.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){var t=this;n.resetMouseOver();t.outTO&&clearTimeout(t.outTO);t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(n){var t,i,r,u,f;if(n||(n=window.event),this.mouse2Y=this.mouse2X=NaN,n){if(n.touches){if(f=n.touches.item(1),f&&this.panEventsEnabled&&this.boundingRect&&(r=f.clientX-this.boundingRect.left,u=f.clientY-this.boundingRect.top),n=n.touches.item(0),!n)return}else this.wasTouched=!1;this.boundingRect&&n.clientX&&(t=n.clientX-this.boundingRect.left,i=n.clientY-this.boundingRect.top);isNaN(r)?this.mouseX=t:(this.mouseX=Math.min(t,r),this.mouse2X=Math.max(t,r));isNaN(u)?this.mouseY=i:(this.mouseY=Math.min(i,u),this.mouse2Y=Math.max(i,u));this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(n){this.hideBalloonReal();n&&(n.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(n),this.handleMouseDown(n))},handleTouchEnd:function(t){this.wasTouched=!0;this.handleMouseMove(t);n.resetMouseOver();this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){n.resetMouseOver();this.mouseIsOver=!0;t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,i){t=n.processObject(t,n.AmLegend,this.theme);t.divId=i;t.ieW=0;var r;return r="object"!=typeof i&&i?document.getElementById(i):i,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0;this.previousWidth=0;this.legendDiv.innerHTML=""},handleResize:function(){(n.isPercents(this.width)||n.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!n.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(n.hasSVG)return this.container},animate:function(t,i,r,u,f,e,o){return t["an_"+i]&&n.removeFromArray(this.animations,t["an_"+i]),r={obj:t,frame:0,attribute:i,from:r,to:u,time:f,effect:e,suffix:o},t["an_"+i]=r,this.animations.push(r),r},setLegendData:function(n){var t=this.legend;t&&t.setData(n)},stopAnim:function(t){n.removeFromArray(this.animations,t)},updateAnimations:function(){var i;if(this.container&&this.container.update(),this.animations)for(i=this.animations.length-1;0<=i;i--){var t=this.animations[i],u=n.updateRate*t.time,e=t.frame+1,r=t.obj,f=t.attribute;if(e<=u){t.frame++;var o=Number(t.from),s=Number(t.to)-o,u=n[t.effect](0,e,o,s,u);0===s?(this.animations.splice(i,1),r.node.style[f]=Number(t.to)+t.suffix):r.node.style[f]=u+t.suffix}else r.node.style[f]=Number(t.to)+t.suffix,r.animationFinished=!0,this.animations.splice(i,1)}},update:function(){var n,i,t,r;if(this.updateAnimations(),n=this.animatable,0<n.length){for(i=!0,t=n.length-1;0<=t;t--)r=n[t],r&&(r.animationFinished?n.splice(t,1):i=!1);i&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(n){return!0}},brr:function(){}});n.Slice=n.Class({construct:function(){}});n.SerialDataItem=n.Class({construct:function(){}});n.GraphDataItem=n.Class({construct:function(){}});n.Guide=n.Class({construct:function(t){this.cname="Guide";n.applyTheme(this,t,this.cname)}});n.Title=n.Class({construct:function(t){this.cname="Title";n.applyTheme(this,t,this.cname)}});n.Label=n.Class({construct:function(t){this.cname="Label";n.applyTheme(this,t,this.cname)}})}(),function(){var n=window.AmCharts;n.AmGraph=n.Class({construct:function(t){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.accessibleLabel="[[title]] [[category]] [[value]]";this.accessibleSkipText="Press enter to skip [[title]]";this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";this.noRounding=!0;n.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart,e,r,u,i,f;t.isRolledOverBullet=!1;e=t.type;t.drawGraphs&&(isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator}),r=t.container,this.container=r,this.destroy(),u=r.set(),this.set=u,u.translate(this.x,this.y),i=r.set(),this.bulletSet=i,i.translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(u),t.bulletBehindSet.push(i)):(t.graphsSet.push(u),t.bulletSet.push(i)),f=this.bulletAxis,n.isString(f)&&(this.bulletAxis=t.getValueAxisById(f)),r=r.set(),n.remove(this.columnsSet),this.columnsSet=r,n.setCN(t,u,"graph-"+this.type),n.setCN(t,u,"graph-"+this.id),n.setCN(t,i,"graph-"+this.type),n.setCN(t,i,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],i=this.labelPosition,i||(f=this.valueAxis.stackType,i="top","column"==this.type&&(t.rotate&&(i="right"),"100%"==f||"regular"==f)&&(i="middle"),this.labelPosition=i),n.ifArray(this.data)&&(t=!1,"xy"==e?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),u.push(r))},createGraph:function(){var t=this,r=t.chart,i;if(t.startAlpha=r.startAlpha,t.seqAn=r.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),("step"==i||n.VML)&&(t.noRounding=!1),i=r.type,"gantt"==i&&(i="serial"),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(i){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph()}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var s=[],h=[],e=this.xAxis,c=this.yAxis,r,i,o;for(this.pmh=c.height,this.pmw=e.width,this.pmy=this.pmx=0,r=this.start;r<=this.end;r++){var n=this.data[r].axes[e.id].graphs[this.id],t=n.values,u=t.x,i=t.y,t=e.getCoordinate(u,this.noRounding),f=c.getCoordinate(i,this.noRounding);isNaN(u)||isNaN(i)||!(s.push(t),h.push(f),n.x=t,n.y=f,u=this.createBullet(n,t,f,r),i=this.labelText)||(i=this.createLabel(n,i),o=0,u&&(o=u.size),this.positionLabel(n,t,f,i,o))}this.drawLineGraph(s,h);this.launchAnimation()},createRadarGraph:function(){for(var w=this.valueAxis.stackType,o=[],s=[],h=[],c=[],a,v,l,y,i,n,p,u=this.start;u<=this.end;u++)if(i=this.data[u].axes[this.valueAxis.id].graphs[this.id],"none"==w||"3d"==w?n=i.values.value:(n=i.values.close,p=i.values.open),isNaN(n))this.connect||(this.drawLineGraph(o,s,h,c),o=[],s=[],h=[],c=[]);else{var r=this.valueAxis.getCoordinate(n,this.noRounding)-this.height,r=r*this.valueAxis.rMultiplier,t=-360/(this.end-this.start+1)*u;if("middle"==this.valueAxis.pointPosition&&(t-=180/(this.end-this.start+1)),n=r*Math.sin(t/180*Math.PI),r*=Math.cos(t/180*Math.PI),o.push(n),s.push(r),!isNaN(p)){var f=this.valueAxis.getCoordinate(p,this.noRounding)-this.height,f=f*this.valueAxis.rMultiplier,e=f*Math.sin(t/180*Math.PI),t=f*Math.cos(t/180*Math.PI);h.push(e);c.push(t);isNaN(l)&&(l=e);isNaN(y)&&(y=t)}t=this.createBullet(i,n,r,u);i.x=n;i.y=r;(e=this.labelText)&&(e=this.createLabel(i,e),f=0,t&&(f=t.size),this.positionLabel(i,n,r,e,f));isNaN(a)&&(a=n);isNaN(v)&&(v=r)}o.push(a);s.push(v);isNaN(l)||(h.push(l),c.push(y));this.drawLineGraph(o,s,h,c);this.launchAnimation()},positionLabel:function(n,t,i,r,u){var f;if(r){var w=this.chart,p=this.valueAxis,c="middle",y=!1,l=this.labelPosition,e=r.getBBox(),o=this.chart.rotate,s=n.isNegative,h=this.fontSize;void 0===h&&(h=this.chart.fontSize);i-=e.height/2-h/2-1;void 0!==n.labelIsNegative&&(s=n.labelIsNegative);switch(l){case"right":l=o?s?"left":"right":"right";break;case"top":l=o?"top":s?"bottom":"top";break;case"bottom":l=o?"bottom":s?"top":"bottom";break;case"left":l=o?s?"right":"left":"left"}var h=n.columnGraphics,a=0,v=0;h&&(a=h.x,v=h.y);f=this.labelOffset;switch(l){case"right":c="start";t+=u/2+f;break;case"top":i=p.reversed?i+(u/2+e.height/2+f):i-(u/2+e.height/2+f);break;case"bottom":i=p.reversed?i-(u/2+e.height/2+f):i+(u/2+e.height/2+f);break;case"left":c="end";t-=u/2+f;break;case"inside":"column"==this.type&&(y=!0,o?s?(c="end",t=a-3-f):(c="start",t=a+3+f):i=s?v+7+f:v-10-f);break;case"middle":"column"==this.type&&(y=!0,o?t-=(t-a)/2+f-3:i-=(i-v)/2+f-3)}return"auto"!=this.labelAnchor&&(c=this.labelAnchor),r.attr({"text-anchor":c}),this.labelRotation&&r.rotate(this.labelRotation),r.translate(t,i),!this.showAllValueLabels&&h&&y&&(e=r.getBBox(),e.height>n.columnHeight||e.width>n.columnWidth)&&(r.remove(),r=null),r&&"radar"!=w.type&&(o?((0>i||i>this.height)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>t||t>this.width)&&(r.remove(),r=null)):((0>t||t>this.width)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>i||i>this.height)&&(r.remove(),r=null))),r&&this.allBullets.push(r),r}},getGradRotation:function(){var n=270;return"horizontal"==this.gradientOrientation&&(n=0),this.gradientRotation=n},createSerialGraph:function(){var bu,iu,hr,bi,df,ki,gf,u,uu,rr,nf,ai,bt,lr,uf,re,ff,de,ti,to,io,pr,eu,ue,fe,wt,ee,oe,se,of,sf,hf,he,ce,le,ho,ae,ve,di,wr;this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var it=this.chart,fr=this.id,gi=this.index,ii=this.data,ht=this.chart.container,s=this.valueAxis,k=this.type,w=this.columnWidthReal,ei=this.showBulletsAt;isNaN(this.columnWidth)||(w=this.columnWidth);isNaN(w)&&(w=.8);var nr=this.useNegativeColorIfDown,d=this.width,nt=this.height,yo=this.y,tt=this.rotate,yi=this.columnCount,hu=n.toCoordinate(this.cornerRadiusTop,w/2),lf=this.connect,l=[],a=[],ar,br,af,kr,tr=this.chart.graphs.length,dr,ft=this.dx/this.tcc,ct=this.dy/this.tcc,lt=s.stackType,er=this.start,vr=this.end,pi=this.scrollbar,gr="graph-column-";pi&&(gr="scrollbar-graph-column-");var ye=this.categoryAxis,pe=this.baseCoord,cu=this.negativeBase,rt=this.columnIndex,et=this.lineThickness,ri=this.lineAlpha,lu=this.lineColorR,si=this.dashLength,or=this.set,we,au=this.getGradRotation(),hi=this.chart.columnSpacing,ut=ye.cellWidth,be=(ut*w-yi)/yi;hi>be&&(hi=be);var g,t,vu,vf=nt,yf=d,yu=0,pf=0,wf=0,bf=0,pu=0,wu=0,kf=this.fillColorsR,sr=this.negativeFillColors,wi=this.negativeLineColor,nu=this.fillAlphas,tu=this.negativeFillAlphas;if("object"==typeof nu&&(nu=nu[0]),"object"==typeof tu&&(tu=tu[0]),bu=this.noRounding,"step"==k&&(bu=!1),iu=s.getCoordinate(s.min),s.logarithmic&&(iu=s.getCoordinate(s.minReal)),this.minCoord=iu,this.resetBullet&&(this.bullet="none"),pi||"line"!=k&&"smoothedLine"!=k&&"step"!=k||(1==ii.length&&"step"!=k&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!sr&&void 0==wi||nr)||(hr=cu,hr>s.max&&(hr=s.max),hr<s.min&&(hr=s.min),s.logarithmic&&(hr=s.minReal),bi=s.getCoordinate(hr),df=s.getCoordinate(s.max),tt?(vf=nt,yf=Math.abs(df-bi),wf=nt,bf=Math.abs(iu-bi),wu=pf=0,s.reversed?(yu=0,pu=bi):(yu=bi,pu=0)):(yf=d,vf=Math.abs(df-bi),bf=d,wf=Math.abs(iu-bi),pu=yu=0,s.reversed?(wu=yo,pf=bi):wu=bi)),ki=Math.round,this.pmx=ki(yu),this.pmy=ki(pf),this.pmh=ki(vf),this.pmw=ki(yf),this.nmx=ki(pu),this.nmy=ki(wu),this.nmh=ki(wf),this.nmw=ki(bf),n.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(yi=1),w="column"==k?(ut*w-hi*(yi-1))/yi:ut*w,1>w&&(w=1),gf=this.fixedColumnWidth,isNaN(gf)||(w=gf),"line"==k||"step"==k||"smoothedLine"==k){if(0<er){for(u=er-1;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[fr],vu=t.values.value,!isNaN(vu)){er=u;break}if(this.lineColorField)for(u=er;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[fr],t.lineColor){this.lineColorSwitched=t.lineColor;void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(u=er;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[fr],t.fillColors){this.fillColorsSwitched=t.fillColors;break}if(this.dashLengthField)for(u=er;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[fr],!isNaN(t.dashLength)){this.dashLengthSwitched=t.dashLength;break}}if(vr<ii.length-1)for(u=vr+1;u<ii.length;u++)if(g=ii[u],t=g.axes[s.id].graphs[fr],vu=t.values.value,!isNaN(vu)){vr=u;break}}vr<ii.length-1&&vr++;var v=[],y=[],ir=!1;("line"==k||"step"==k||"smoothedLine"==k)&&(this.stackable&&"regular"==lt||"100%"==lt||this.fillToGraph)&&(ir=!0);var ke=this.noStepRisers,ku=-1e3,du=-1e3,gu=this.minDistance,cr=!0,ru=!1;for(u=er;u<=vr;u++){if(g=ii[u],t=g.axes[s.id].graphs[fr],t.index=u,rr=NaN,nr&&void 0==this.openField)for(nf=u+1;nf<ii.length&&(!ii[nf]||!(uu=ii[u+1].axes[s.id].graphs[fr])||!uu.values||(rr=uu.values.value,isNaN(rr)));nf++);var c,h,e,b,bt=NaN,i=NaN,r=NaN,o=NaN,f=NaN,at=NaN,kt=NaN,vt=NaN,dt=NaN,ui=NaN,ci=NaN,yt=NaN,ot=NaN,p=NaN,ne=NaN,te=NaN,pt=NaN,wt=void 0,ur=kf,yr=nu,li=lu,fi,gt,ie=this.proCandlesticks,tf=this.topRadius,oi=nt-1,st=d-1,fu=this.pattern;if(void 0!=t.pattern&&(fu=t.pattern),isNaN(t.alpha)||(yr=t.alpha),isNaN(t.dashLength)||(si=t.dashLength),ai=t.values,s.recalculateToPercents&&(ai=t.percents),"none"==lt&&(rt=isNaN(t.columnIndex)?this.columnIndex:t.columnIndex),ai){if(p=this.stackable&&"none"!=lt&&"3d"!=lt?ai.close:ai.value,("candlestick"==k||"ohlc"==k)&&(p=ai.close,te=ai.low,kt=s.getCoordinate(te),ne=ai.high,dt=s.getCoordinate(ne)),pt=ai.open,r=s.getCoordinate(p,bu),isNaN(pt)||(f=s.getCoordinate(pt,bu),nr&&"regular"!=lt&&"100%"!=lt&&(rr=pt,pt=f=NaN)),nr&&(void 0==this.openField?uu&&(uu.isNegative=rr<p?!0:!1,isNaN(rr)&&(t.isNegative=!cr)):t.isNegative=rr>p?!0:!1),!pi)switch(this.showBalloonAt){case"close":t.y=r;break;case"open":t.y=f;break;case"high":t.y=dt;break;case"low":t.y=kt}bt=g.x[ye.id];lr=this.periodSpan-1;"step"!=k||isNaN(g.cellWidth)||(ut=g.cellWidth);var ni=Math.floor(ut/2)+Math.floor(lr*ut/2),vi=ni,rf=0;"left"==this.stepDirection&&(rf=(2*ut+lr*ut)/2,bt-=rf);"center"==this.stepDirection&&(rf=ut/2,bt-=rf);"start"==this.pointPosition&&(bt-=ut/2+Math.floor(lr*ut/2),ni=0,vi=Math.floor(ut)+Math.floor(lr*ut));"end"==this.pointPosition&&(bt+=ut/2+Math.floor(lr*ut/2),ni=Math.floor(ut)+Math.floor(lr*ut),vi=0);ke&&(uf=this.columnWidth,isNaN(uf)||(ni*=uf,vi*=uf));pi||(t.x=bt);-1e5>bt&&(bt=-1e5);bt>d+1e5&&(bt=d+1e5);tt?(i=r,o=f,f=r=bt,isNaN(pt)&&!this.fillToGraph&&(o=pe),at=kt,vt=dt):(o=i=bt,isNaN(pt)&&!this.fillToGraph&&(f=pe));(!ie&&p<pt||ie&&p<we)&&(t.isNegative=!0,sr&&(ur=sr),tu&&(yr=tu),void 0!=wi&&(li=wi));ru=!1;isNaN(p)||(nr?p>rr?(cr&&(ru=!0),cr=!1):(cr||(ru=!0),cr=!0):t.isNegative=p<cu?!0:!1,we=p);re=!1;pi&&it.chartScrollbar.ignoreCustomColors&&(re=!0);re||(void 0!=t.color&&(ur=t.color),t.fillColors&&(ur=t.fillColors));r=n.fitToBounds(r,-3e4,3e4);switch(k){case"line":isNaN(p)?lf||(this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]):((Math.abs(i-ku)>=gu||Math.abs(r-du)>=gu)&&(l.push(i),a.push(r),ku=i,du=r),ui=i,ci=r,yt=i,ot=r,!ir||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),(ru||void 0!=t.lineColor&&t.lineColor!=this.lineColorSwitched||void 0!=t.fillColors&&t.fillColors!=this.fillColorsSwitched||!isNaN(t.dashLength))&&(this.drawLineGraph(l,a,v,y),l=[i],a=[r],v=[],y=[],!ir||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),nr?(cr?(this.lineColorSwitched=lu,this.fillColorsSwitched=kf):(this.lineColorSwitched=wi,this.fillColorsSwitched=sr),void 0===this.bulletColor&&(this.bulletColorSwitched=lu)):(this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=t.dashLength),t.gap&&(this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"smoothedLine":isNaN(p)?lf||(this.drawSmoothedGraph(l,a,v,y),l=[],a=[],v=[],y=[]):((Math.abs(i-ku)>=gu||Math.abs(r-du)>=gu)&&(l.push(i),a.push(r),ku=i,du=r),ui=i,ci=r,yt=i,ot=r,!ir||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),void 0==t.lineColor&&void 0==t.fillColors&&isNaN(t.dashLength)||(this.drawSmoothedGraph(l,a,v,y),l=[i],a=[r],v=[],y=[],!ir||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,this.dashLengthSwitched=t.dashLength),t.gap&&(this.drawSmoothedGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"step":isNaN(p)?lf||((1>=this.periodSpan||1<this.periodSpan&&i-ar>ni+vi)&&(ar=br=NaN),this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]):(tt?(isNaN(ar)||(l.push(ar),a.push(r-ni)),a.push(r-ni),l.push(i),a.push(r+vi),l.push(i),!ir||isNaN(f)||isNaN(o)||(isNaN(af)||(v.push(af),y.push(f-ni)),v.push(o),y.push(f-ni),v.push(o),y.push(f+vi))):(isNaN(br)||(a.push(br),l.push(i-ni)),l.push(i-ni),a.push(r),l.push(i+vi),a.push(r),!ir||isNaN(f)||isNaN(o)||(isNaN(kr)||(v.push(o-ni),y.push(kr)),v.push(o-ni),y.push(f),v.push(o+vi),y.push(f))),ar=i,br=r,af=o,kr=f,ui=i,ci=r,yt=i,ot=r,(ru||void 0!=t.lineColor||void 0!=t.fillColors||!isNaN(t.dashLength))&&(ff=l[l.length-2],de=a[a.length-2],l.pop(),a.pop(),v.pop(),y.pop(),this.drawLineGraph(l,a,v,y),l=[ff],a=[de],v=[],y=[],ir&&(v=[ff,ff+ni+vi],y=[kr,kr]),tt?(a.push(r+vi),l.push(i)):(l.push(i+vi),a.push(r)),this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,this.dashLengthSwitched=t.dashLength,nr&&(cr?(this.lineColorSwitched=lu,this.fillColorsSwitched=kf):(this.lineColorSwitched=wi,this.fillColorsSwitched=sr))),(ke||t.gap)&&(ar=br=NaN,this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"column":if(fi=li,void 0!=t.lineColor&&(fi=t.lineColor),!isNaN(p)){nr||(t.isNegative=p<cu?!0:!1);t.isNegative&&(sr&&(ur=sr),void 0!=wi&&(fi=wi));var ge=s.min,no=s.max,ef=pt;isNaN(ef)&&(ef=cu);p<ge&&ef<ge||p>no&&ef>no||(tt?("3d"==lt?(h=r-(yi/2-this.depthCount+1)*(w+hi)+hi/2+ct*rt,c=o+ft*rt,ti=rt):(h=Math.floor(r-(yi/2-rt)*(w+hi)+hi/2),c=o,ti=0),e=w,ui=i,ci=h+w/2,yt=i,ot=h+w/2,h+e>nt+ti*ct&&(e=nt-h+ti*ct),h<ti*ct&&(e+=h,h=ti*ct),b=i-o,to=c,c=n.fitToBounds(c,0,d),b+=to-c,b=n.fitToBounds(b,-c,d-c+ft*rt),t.labelIsNegative=0>b?!0:!1,0===b&&1/p==1/-0&&(t.labelIsNegative=!0),isNaN(g.percentWidthValue)||(e=this.height*g.percentWidthValue/100,h=bt-e/2,ci=h+e/2),e=n.roundTo(e,2),b=n.roundTo(b,2),h<nt&&0<e&&(wt=new n.Cuboid(ht,b,e,ft-it.d3x,ct-it.d3y,ur,yr,et,fi,ri,au,hu,tt,si,fu,tf,gr),t.columnWidth=Math.abs(b),t.columnHeight=Math.abs(e))):("3d"==lt?(c=i-(yi/2-this.depthCount+1)*(w+hi)+hi/2+ft*rt,h=f+ct*rt,ti=rt):(c=i-(yi/2-rt)*(w+hi)+hi/2,h=f,ti=0),e=w,ui=c+w/2,ci=r,yt=c+w/2,ot=r,c+e>d+ti*ft&&(e=d-c+ti*ft),c<ti*ft&&(e+=c-ti*ft,c=ti*ft),b=r-f,t.labelIsNegative=0<b?!0:!1,0===b&&1/p!=1/Math.abs(p)&&(t.labelIsNegative=!0),io=h,h=n.fitToBounds(h,this.dy,nt),b+=io-h,b=n.fitToBounds(b,-h+ct*ti,nt-h),isNaN(g.percentWidthValue)||(e=this.width*g.percentWidthValue/100,c=bt-e/2,ui=c+e/2),e=n.roundTo(e,2),b=n.roundTo(b,2),c<d+rt*ft&&0<e&&(this.showOnAxis&&(h-=ct/2),wt=new n.Cuboid(ht,e,b,ft-it.d3x,ct-it.d3y,ur,yr,et,fi,this.lineAlpha,au,hu,tt,si,fu,tf,gr),t.columnHeight=Math.abs(b),t.columnWidth=Math.abs(e))));wt&&(gt=wt.set,n.setCN(it,wt.set,"graph-"+this.type),n.setCN(it,wt.set,"graph-"+this.id),t.className&&n.setCN(it,wt.set,t.className,!0),t.columnGraphics=gt,c=n.roundTo(c,2),h=n.roundTo(h,2),gt.translate(c,h),(t.url||this.showHandOnHover)&&gt.setAttr("cursor","pointer"),pi||("none"==lt&&(dr=tt?(this.end+1-u)*tr-gi:tr*u+gi),"3d"==lt&&(tt?(dr=(this.end+1-u)*tr-gi-1e3*this.depthCount,ui+=ft*rt,yt+=ft*rt,t.y+=ft*rt):(dr=(tr-gi)*(u+1)+1e3*this.depthCount,ci+=ct*rt,ot+=ct*rt,t.y+=ct*rt)),("regular"==lt||"100%"==lt)&&(dr=tt?0<ai.value?(this.end+1-u)*tr+gi:(this.end+1-u)*tr-gi:0<ai.value?tr*u+gi:tr*u-gi),this.columnsArray.push({column:wt,depth:dr}),t.x=tt?h+e/2:c+e/2,this.ownColumns.push(wt),this.animateColumns(wt,u,i,o,r,f),this.addListeners(gt,t),void 0!==this.tabIndex&&gt.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(gt))}break;case"candlestick":if(!isNaN(pt)&&!isNaN(p)){if(fi=li,void 0!=t.lineColor&&(fi=t.lineColor),ui=i,ot=ci=r,yt=i,tt){if("open"==ei&&(yt=o),"high"==ei&&(yt=vt),"low"==ei&&(yt=at),i=n.fitToBounds(i,0,st),o=n.fitToBounds(o,0,st),at=n.fitToBounds(at,0,st),vt=n.fitToBounds(vt,0,st),0===i&&0===o&&0===at&&0===vt)continue;if(i==st&&o==st&&at==st&&vt==st)continue;h=r-w/2;c=o;e=w;h+e>nt&&(e=nt-h);0>h&&(e+=h,h=0);h<nt&&0<e&&(p>pt?(ue=[i,vt],fe=[o,at]):(ue=[o,vt],fe=[i,at]),!isNaN(vt)&&!isNaN(at)&&r<nt&&0<r&&(pr=n.line(ht,ue,[r,r],fi,ri,et),eu=n.line(ht,fe,[r,r],fi,ri,et)),b=i-o,wt=new n.Cuboid(ht,b,e,ft,ct,ur,nu,et,fi,ri,au,hu,tt,si,fu,tf,gr))}else{if("open"==ei&&(ot=f),"high"==ei&&(ot=dt),"low"==ei&&(ot=kt),r=n.fitToBounds(r,0,oi),f=n.fitToBounds(f,0,oi),kt=n.fitToBounds(kt,0,oi),dt=n.fitToBounds(dt,0,oi),0===r&&0===f&&0===kt&&0===dt)continue;if(r==oi&&f==oi&&kt==oi&&dt==oi)continue;c=i-w/2;h=f+et/2;e=w;c+e>d&&(e=d-c);0>c&&(e+=c,c=0);b=r-f;c<d&&0<e&&(ie&&p>=pt&&(yr=0),wt=new n.Cuboid(ht,e,b,ft,ct,ur,yr,et,fi,ri,au,hu,tt,si,fu,tf,gr),p>pt?(ee=[r,dt],oe=[f,kt]):(ee=[f,dt],oe=[r,kt]),!isNaN(dt)&&!isNaN(kt)&&i<d&&0<i&&(pr=n.line(ht,[i,i],ee,fi,ri,et),eu=n.line(ht,[i,i],oe,fi,ri,et),n.setCN(it,pr,this.bcn+"line-high"),t.className&&n.setCN(it,pr,t.className,!0),n.setCN(it,eu,this.bcn+"line-low"),t.className&&n.setCN(it,eu,t.className,!0)))}wt&&(gt=wt.set,t.columnGraphics=gt,or.push(gt),gt.translate(c,h-et/2),(t.url||this.showHandOnHover)&&gt.setAttr("cursor","pointer"),pr&&(or.push(pr),or.push(eu)),pi||(t.x=tt?h+e/2:c+e/2,this.animateColumns(wt,u,i,o,r,f),this.addListeners(gt,t),void 0!==this.tabIndex&&gt.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(pt)||isNaN(ne)||isNaN(te)||isNaN(p))){if(se=ht.set(),or.push(se),p<pt&&(t.isNegative=!0,void 0!=wi&&(li=wi)),void 0!=t.lineColor&&(li=t.lineColor),tt){if(ot=r,yt=i,"open"==ei&&(yt=o),"high"==ei&&(yt=vt),"low"==ei&&(yt=at),at=n.fitToBounds(at,0,st),vt=n.fitToBounds(vt,0,st),0===i&&0===o&&0===at&&0===vt)continue;if(i==st&&o==st&&at==st&&vt==st)continue;var ro=r-w/2,ro=n.fitToBounds(ro,0,nt),uo=n.fitToBounds(r,0,nt),fo=r+w/2,fo=n.fitToBounds(fo,0,nt);0<=o&&o<=st&&(sf=n.line(ht,[o,o],[ro,uo],li,ri,et,si));0<r&&r<nt&&(of=n.line(ht,[at,vt],[r,r],li,ri,et,si));0<=i&&i<=st&&(hf=n.line(ht,[i,i],[uo,fo],li,ri,et,si))}else{ot=r;"open"==ei&&(ot=f);"high"==ei&&(ot=dt);"low"==ei&&(ot=kt);var yt=i,kt=n.fitToBounds(kt,0,oi),dt=n.fitToBounds(dt,0,oi),eo=i-w/2,eo=n.fitToBounds(eo,0,d),oo=n.fitToBounds(i,0,d),so=i+w/2,so=n.fitToBounds(so,0,d);0<=f&&f<=oi&&(sf=n.line(ht,[eo,oo],[f,f],li,ri,et,si));0<i&&i<d&&(of=n.line(ht,[i,i],[kt,dt],li,ri,et,si));0<=r&&r<=oi&&(hf=n.line(ht,[oo,so],[r,r],li,ri,et,si))}or.push(sf);or.push(of);or.push(hf);n.setCN(it,sf,this.bcn+"stroke-open");n.setCN(it,hf,this.bcn+"stroke-close");n.setCN(it,of,this.bcn+"stroke");t.className&&n.setCN(it,se,t.className,!0);ui=i;ci=r}}if(!pi&&!isNaN(p)&&(he=this.hideBulletsCount,(this.end-this.start<=he||0===he)&&(ce=this.createBullet(t,yt,ot,u),le=this.labelText,!le||isNaN(ui)||isNaN(ui)||(ho=this.createLabel(t,le),ae=0,ce&&(ae=ce.size),this.positionLabel(t,ui,ci,ho,ae)),("regular"==lt||"100%"==lt)&&(ve=s.totalText,ve&&(di=this.createLabel(t,ve,s.totalTextColor),n.setCN(it,di,this.bcn+"label-total"),this.allBullets.push(di),di))))){var co=di.getBBox(),lo=co.width,ao=co.height,ou,su,cf=s.totalTextOffset,vo=s.totals[u];vo&&vo.remove();wr=0;"column"!=k&&(wr=this.bulletSize);tt?(su=ci,ou=0>p?i-lo/2-2-wr-cf:i+lo/2+3+wr+cf):(ou=ui,su=0>p?r+ao/2+wr+cf:r-ao/2-3-wr-cf);di.translate(ou,su);s.totals[u]=di;tt?(0>su||su>nt)&&di.remove():(0>ou||ou>d)&&di.remove()}}}this.lastDataItem=t;("line"==k||"step"==k||"smoothedLine"==k)&&("smoothedLine"==k?this.drawSmoothedGraph(l,a,v,y):this.drawLineGraph(l,a,v,y),pi||this.launchAnimation());this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(n,t){var i=this,r=i.chart.startDuration;0<r&&!i.animationPlayed&&(i.seqAn?(n.set.hide(),i.animationArray.push(n),r=setTimeout(function(){i.animate.call(i)},r/(i.end-i.start+1)*(t-i.start)*1e3),i.timeOuts.push(r)):i.animate(n),i.chart.animatable.push(n))},createLabel:function(t,i,r){var f=this.chart,u=t.labelColor,e;return u||(u=this.color),u||(u=f.color),r&&(u=r),r=this.fontSize,void 0===r&&(this.fontSize=r=f.fontSize),e=this.labelFunction,i=f.formatString(i,t),i=n.cleanFromEmpty(i),e&&(i=e(t,i)),void 0!==i&&""!==i?(t=n.text(this.container,i,u,f.fontFamily,r),t.node.style.pointerEvents="none",n.setCN(f,t,this.bcn+"label"),this.bulletSet.push(t),t):void 0},positiveClip:function(n){n.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(n){n.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,i,r,u){var f=this,p,a,k;if(1<t.length){var c=f.noRounding,v=f.set,l=f.chart,y=f.container,w=y.set(),b=y.set();v.push(b);v.push(w);var h=f.lineAlpha,e=f.lineThickness,v=f.fillAlphas,nt=f.lineColorR,o=f.negativeLineAlpha;isNaN(o)&&(o=h);p=f.lineColorSwitched;p&&(nt=p);p=f.fillColorsR;a=f.fillColorsSwitched;a&&(p=a);k=f.dashLength;(a=f.dashLengthSwitched)&&(k=a);var a=f.negativeLineColor,d=f.negativeFillColors,g=f.negativeFillAlphas,s=f.baseCoord;0!==f.negativeBase&&(s=f.valueAxis.getCoordinate(f.negativeBase,c),s>f.height&&(s=f.height),0>s&&(s=0));h=n.line(y,t,i,nt,h,e,k,!1,!0,c);h.node.setAttribute("stroke-linejoin","round");n.setCN(l,h,f.bcn+"stroke");w.push(h);w.click(function(n){f.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){f.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){f.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){f.chart.handleMouseMove(n)}).touchend(function(n){f.chart.handleTouchEnd(n)});void 0===a||f.useNegativeColorIfDown||(e=n.line(y,t,i,a,o,e,k,!1,!0,c),e.node.setAttribute("stroke-linejoin","round"),n.setCN(l,e,f.bcn+"stroke"),n.setCN(l,e,f.bcn+"stroke-negative"),b.push(e));(0<v||0<g)&&(e=t.join(";").split(";"),o=i.join(";").split(";"),h=l.type,"serial"==h||"radar"==h?0<r.length?(r.reverse(),u.reverse(),e=t.concat(r),o=i.concat(u)):"radar"==h?(o.push(0),e.push(0)):f.rotate?(o.push(o[o.length-1]),e.push(s),o.push(o[0]),e.push(s),o.push(o[0]),e.push(e[0])):(e.push(e[e.length-1]),o.push(s),e.push(e[0]),o.push(s),e.push(t[0]),o.push(o[0])):"xy"==h&&(i=f.fillToAxis)&&(n.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(s="top"==i.position?0:i.height,e.push(e[e.length-1]),o.push(s),e.push(e[0]),o.push(s),e.push(t[0]),o.push(o[0])):(s="left"==i.position?0:i.width,o.push(o[o.length-1]),e.push(s),o.push(o[0]),e.push(s),o.push(o[0]),e.push(e[0]))),t=f.gradientRotation,0<v&&(i=n.polygon(y,e,o,p,v,1,"#000",0,t,c),i.pattern(f.pattern,NaN,l.path),n.setCN(l,i,f.bcn+"fill"),w.push(i)),d||void 0!==a)&&(isNaN(g)&&(g=v),d||(d=a),c=n.polygon(y,e,o,d,g,1,"#000",0,t,c),n.setCN(l,c,f.bcn+"fill"),n.setCN(l,c,f.bcn+"fill-negative"),c.pattern(f.pattern,NaN,l.path),b.push(c),b.click(function(n){f.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){f.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){f.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){f.chart.handleMouseMove(n)}).touchend(function(n){f.chart.handleTouchEnd(n)}));f.applyMask(b,w)}},applyMask:function(n,t){var i=n.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(n))},drawSmoothedGraph:function(t,i,r,u){var k;if(1<t.length){var l=this.set,c=this.chart,f=this.container,a=f.set(),v=f.set();l.push(v);l.push(a);var s=this.lineAlpha,e=this.lineThickness,l=this.dashLength,d=this.fillAlphas,o=this.lineColorR,y=this.fillColorsR,p=this.negativeLineColor,w=this.negativeFillColors,g=this.negativeFillAlphas,b=this.baseCoord,h=this.lineColorSwitched;h&&(o=h);(h=this.fillColorsSwitched)&&(y=h);k=this.negativeLineAlpha;isNaN(k)&&(k=s);h=this.getGradRotation();s=new n.Bezier(f,t,i,o,s,e,y,0,l,void 0,h);n.setCN(c,s,this.bcn+"stroke");a.push(s.path);void 0!==p&&(e=new n.Bezier(f,t,i,p,k,e,y,0,l,void 0,h),n.setCN(c,e,this.bcn+"stroke"),n.setCN(c,e,this.bcn+"stroke-negative"),v.push(e.path));0<d&&(e=t.join(";").split(";"),s=i.join(";").split(";"),o="",0<r.length?(r.push("M"),u.push("M"),r.reverse(),u.reverse(),e=t.concat(r),s=i.concat(u)):(this.rotate?(o+=" L"+b+","+i[i.length-1],o+=" L"+b+","+i[0]):(o+=" L"+t[t.length-1]+","+b,o+=" L"+t[0]+","+b),o+=" L"+t[0]+","+i[0]),t=new n.Bezier(f,e,s,NaN,0,0,y,d,l,o,h),n.setCN(c,t,this.bcn+"fill"),t.path.pattern(this.pattern,NaN,c.path),a.push(t.path),w||void 0!==p)&&(g||(g=d),w||(w=p),f=new n.Bezier(f,e,s,NaN,0,0,w,g,l,o,h),f.path.pattern(this.pattern,NaN,c.path),n.setCN(c,f,this.bcn+"fill"),n.setCN(c,f,this.bcn+"fill-negative"),v.push(f.path));this.applyMask(v,a)}},launchAnimation:function(){var t=this,i=t.chart.startDuration,r,u;0<i&&!t.animationPlayed&&(r=t.set,u=t.bulletSet,n.VML||(r.attr({opacity:t.startAlpha}),u.attr({opacity:t.startAlpha})),r.hide(),u.hide(),t.seqAn?(i=setTimeout(function(){t.animateGraphs.call(t)},t.index*i*1e3),t.timeOuts.push(i)):t.animateGraphs())},animateGraphs:function(){var u=this.chart,n=this.set,t=this.bulletSet,i=this.x,r=this.y,f,e;n.show();t.show();f=u.startDuration;e=u.startEffect;n&&(this.rotate?(n.translate(-1e3,r),t.translate(-1e3,r)):(n.translate(i,-1e3),t.translate(i,-1e3)),n.animate({opacity:1,translate:i+","+r},f,e),t.animate({opacity:1,translate:i+","+r},f,e),u.animatable.push(n))},animate:function(t){var r=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift());i=n[n.getEffect(r.startEffect)];r=r.startDuration;t&&(this.rotate?t.animateWidth(r,i):t.animateHeight(r,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,n=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===n&&(n=this.fillColorsR)&&(t="object"==typeof n?n[0]:n)),t},legendKeyAlpha:function(){var n=this.legendAlpha;return void 0===n&&(n=this.lineAlpha,this.fillAlphas>n&&(n=this.fillAlphas),0===n&&(n=this.bulletAlpha),0===n&&(n=1)),n},createBullet:function(t,i,r){var u,y;if(!isNaN(i)&&!isNaN(r)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var s=this.chart,o=this.container,l=this.bulletOffset,e=this.bulletSize;isNaN(t.bulletSize)||(e=t.bulletSize);var a=t.values.value,f=this.maxValue,h=this.minValue,v=this.maxBulletSize,c=this.minBulletSize;isNaN(f)||(isNaN(a)||(e=(a-h)/(f-h)*(v-c)+c),h==f&&(e=v));f=e;this.bulletAxis&&(e=t.values.error,isNaN(e)||(a=e),e=this.bulletAxis.stepWidth*a);e<this.minBulletSize&&(e=this.minBulletSize);this.rotate?i=t.isNegative?i-l:i+l:r=t.isNegative?r+l:r-l;c=this.bulletColorR;t.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=t.lineColor);this.bulletColorSwitched&&(c=this.bulletColorSwitched);t.isNegative&&void 0!==this.bulletColorNegative&&(c=this.bulletColorNegative);void 0!==t.color&&(c=t.color);"xy"==s.type&&this.valueField&&(u=this.pattern,t.pattern&&(u=t.pattern));l=this.bullet;t.bullet&&(l=t.bullet);var a=this.bulletBorderThickness,h=this.bulletBorderColorR,v=this.bulletBorderAlpha,p=this.bulletAlpha;return h||(h=c),this.useLineColorForBulletBorder&&(h=this.lineColorR,t.isNegative&&this.negativeLineColor&&(h=this.negativeLineColor),this.lineColorSwitched&&(h=this.lineColorSwitched)),y=t.alpha,isNaN(y)||(p=y),u=n.bullet(o,l,e,c,p,a,h,v,f,0,u,s.path),f=this.customBullet,t.customBullet&&(f=t.customBullet),f&&(u&&u.remove(),"function"==typeof f?(f=new f,f.chart=s,t.bulletConfig&&(f.availableSpace=r,f.graph=this,f.graphDataItem=t,f.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,f.bulletConfig=t.bulletConfig),f.write(o),u&&f.showBullet&&f.set.push(u),t.customBulletGraphics=f.cset,u=f.set):(u=o.set(),f=o.image(f,0,0,e,e),u.push(f),this.centerCustomBullets&&f.translate(-e/2,-e/2))),u&&((t.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),("serial"==s.type||"gantt"==s.type)&&(-.5>i||i>this.width||r<-e/2||r>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(i,r),this.addListeners(u,t),this.allBullets.push(u)),t.bx=i,t.by=r,n.setCN(s,u,this.bcn+"bullet"),t.className&&n.setCN(s,u,t.className,!0)),u?(u.size=e||0,(s=this.bulletHitAreaSize)&&(o=n.circle(o,s,"#FFFFFF",.001,0),o.translate(i,r),t.hitBullet=o,this.bulletSet.push(o),this.addListeners(o,t)),t.bulletGraphics=u,void 0!==this.tabIndex&&u.setAttr("tabindex",this.tabIndex)):u={size:0},u.graphDataItem=t,u}},showBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!1,n=0;n<t.length;n++)t[n].show()},hideBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!0,n=0;n<t.length;n++)t[n].hide()},showCustomBullets:function(){var i=this.allBullets,n,t;for(this.customBulletsHidden=!1,n=0;n<i.length;n++)t=i[n].graphDataItem,t&&t.customBulletGraphics&&t.customBulletGraphics.show()},hideCustomBullets:function(){var i=this.allBullets,n,t;for(this.customBulletsHidden=!0,n=0;n<i.length;n++)t=i[n].graphDataItem,t&&t.customBulletGraphics&&t.customBulletGraphics.hide()},addListeners:function(n,t){var i=this,r,u;n.mouseover(function(n){i.handleRollOver(t,n)}).mouseout(function(n){i.handleRollOut(t,n)}).touchend(function(n){i.handleRollOver(t,n);i.chart.panEventsEnabled&&i.handleClick(t,n)}).touchstart(function(n){i.handleRollOver(t,n)}).click(function(n){i.handleClick(t,n)}).dblclick(function(n){i.handleDoubleClick(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)});r=i.chart;r.accessible&&i.accessibleLabel&&(u=r.formatString(i.accessibleLabel,t),r.makeAccessible(n,u))},handleRollOver:function(n,t){var i,r;this.handleGraphEvent(t,"rollOverGraph");n&&(i=this.chart,n.bulletConfig&&(i.isRolledOverBullet=!0),r={type:"rollOverGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire(r),i.fire(r),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(n,"V",!0))},handleRollOut:function(n,t){var i=this.chart,r;n&&(r={type:"rollOutGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire(r),i.fire(r),i.isRolledOverBullet=!1);this.handleGraphEvent(t,"rollOutGraph");(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:i};this.fire(r);this.chart.fire(r);n.getURL(t.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(n,t){var i={type:t,graph:this,target:this,chart:this.chart,event:n};this.fire(i);this.chart.fire(i)},handleRightClick:function(n,t){if(n){var i={type:"rightClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i);this.chart.fire(i)}},handleDoubleClick:function(n,t){if(n){var i={type:"doubleClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i);this.chart.fire(i)}},zoom:function(n,t){this.start=n;this.end=t;this.draw()},changeOpacity:function(n){var t=this.set,i,r;if(t&&t.setAttr("opacity",n),t=this.ownColumns)for(i=0;i<t.length;i++)r=t[i].set,r&&r.setAttr("opacity",n);(t=this.bulletSet)&&t.setAttr("opacity",n)},destroy:function(){var t,i;if(n.remove(this.set),n.remove(this.bulletSet),t=this.timeOuts,t)for(i=0;i<t.length;i++)clearTimeout(t[i]);this.timeOuts=[]},createBalloon:function(){var i=this.chart,t;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};t=this.balloon;n.extend(t,i.balloon,!0);t.chart=i;t.mainSet=i.plotBalloonsSet;t.className=this.id},hideBalloon:function(){var n=this,t=n.chart;t.chartCursor?t.chartCursor.valueBalloonsEnabled||t.hideBalloon():t.hideBalloon();clearTimeout(n.hoverInt);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},t.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide();this.fixBulletSize()},fixBulletSize:function(){var t,i,r;n.isModern&&(t=this.resizedDItem,t&&(i=t.bulletGraphics,i&&!i.doNotScale&&(i.translate(t.bx,t.by,1),r=this.bulletAlpha,isNaN(t.alpha)||(r=t.alpha),i.setAttr("fill-opacity",r),i.setAttr("stroke-opacity",this.bulletBorderAlpha))),this.resizedDItem=null)},showGraphBalloon:function(t,i,r,u,f){var s,l;if(t){var o=this.chart,e=this.balloon,h=0,c=0,s=o.chartCursor,a=!0;if(s?s.valueBalloonsEnabled||(e=o.balloon,h=this.x,c=this.y,a=!1):(e=o.balloon,h=this.x,c=this.y,a=!1),clearTimeout(this.hoverInt),o.chartCursor&&(this.currentDataItem=t,"serial"==o.type&&o.isRolledOverBullet&&o.chartCursor.valueBalloonsEnabled)){this.hideBalloonReal();return}this.resizeBullet(t,u,f);e&&e.enabled&&this.showBalloon&&!this.hidden?(s=o.formatString(this.balloonText,t,!0),l=this.balloonFunction,l&&(s=l(t,t.graph)),s&&(s=n.cleanFromEmpty(s)),s&&""!==s?(u=o.getBalloonColor(this,t),e.drop||(e.pointerOrientation=i),i=t.x,f=t.y,o.rotate&&(i=t.y,f=t.x),i+=h,f+=c,isNaN(i)||isNaN(f)?this.hideBalloonReal():(t=this.width,l=this.height,a&&e.setBounds(h,c,t+h,l+c),e.changeColor(u),e.setPosition(i,f),e.fixPrevious(),e.fixedPosition&&(r=!1),!r&&"radar"!=o.type&&(i<h||i>t+h||f<c-.5||f>l+c)?(e.showBalloon(s),e.hide(0)):(e.followCursor(r),e.showBalloon(s)))):(this.hideBalloonReal(),e.hide(),this.resizeBullet(t,u,f))):this.hideBalloonReal()}},resizeBullet:function(t,i,r){if(this.fixBulletSize(),t&&n.isModern&&(1!=i||!isNaN(r))){var u=t.bulletGraphics;u&&!u.doNotScale&&(u.translate(t.bx,t.by,i),isNaN(r)||(u.setAttr("fill-opacity",r),u.setAttr("stroke-opacity",r)),this.resizedDItem=t)}}})}(),function(){var n=window.AmCharts;n.ChartCursor=n.Class({construct:function(t){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonText="[[category]]";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;this.leaveAfterTouch=!0;this.valueZoomable=!1;this.balloonPointerOrientation="horizontal";this.hLineEnabled=this.vLineEnabled=!0;this.vZoomEnabled=this.hZoomEnabled=!1;n.applyTheme(this,t,this.cname)},draw:function(){var t,i;this.destroy();t=this.chart;t.panRequired=!0;i=t.container;this.rotate=t.rotate;this.container=i;this.prevLineHeight=this.prevLineWidth=NaN;i=i.set();i.translate(this.x,this.y);this.set=i;t.cursorSet.push(i);this.createElements();n.isString(this.limitToGraph)&&(this.limitToGraph=n.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle");this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase();this.isHidden=!1;this.hideLines();this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t=this,i=t.chart,h=i.dx,c=i.dy,u=t.width,s=t.height,f,r,e=t.cursorAlpha,o=t.valueLineAlpha;t.rotate?(f=o,r=e):(r=o,f=e);"xy"==i.type&&(r=e,void 0!==o&&(r=o),f=e);t.vvLine=n.line(t.container,[h,0,0],[c,0,s],t.cursorColor,f,1);n.setCN(i,t.vvLine,"cursor-line");n.setCN(i,t.vvLine,"cursor-line-vertical");t.hhLine=n.line(t.container,[0,u,u+h],[0,0,c],t.cursorColor,r,1);n.setCN(i,t.hhLine,"cursor-line");n.setCN(i,t.hhLine,"cursor-line-horizontal");t.vLine=t.rotate?t.vvLine:t.hhLine;t.set.push(t.vvLine);t.set.push(t.hhLine);t.set.node.style.pointerEvents="none";t.fullLines=t.container.set();i=i.cursorLineSet;i.push(t.fullLines);i.translate(t.x,t.y);i.clipRect(-1,-1,u+2,s+2);void 0!==t.tabIndex&&(i.setAttr("tabindex",t.tabIndex),i.keyup(function(n){t.handleKeys(n)}).focus(function(){t.showCursor()}).blur(function(){t.hideCursor()}));t.set.clipRect(0,0,u,s)},handleKeys:function(t){var i=this.prevIndex,r=this.chart,u;r&&(u=r.chartData,u&&(isNaN(i)&&(i=u.length-1),37!=t.keyCode&&40!=t.keyCode||i--,39!=t.keyCode&&38!=t.keyCode||i++,i=n.fitToBounds(i,r.startIndex,r.endIndex),(t=this.chart.chartData[i])&&this.setPosition(t.x.categoryAxis),this.prevIndex=i))},update:function(){var n=this.chart,t,i,r;if(n&&(t=n.mouseX-this.x,i=n.mouseY-this.y,this.mouseX=t,this.mouseY=i,this.mouse2X=n.mouse2X-this.x,this.mouse2Y=n.mouse2Y-this.y,n.chartData&&0<n.chartData.length)){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=r=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(n.rotate||!this.limitToGraph)&&this.vvLine.translate(t,0),!this.hhLine||!isNaN(this.fy)||n.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(t,i):r=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X)){isNaN(this.mouse2X0)||this.dispatchPanEvent();return}if(this.pan){this.dispatchPanEvent();return}(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}r&&this.showCursor()}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(n.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var t=this.chart,i=t.marginTop,t=t.marginLeft;this.drawingLine=n.line(this.container,[this.drawStartX+t,this.mouseX+t],[this.drawStartY+i,this.mouseY+i],this.cursorColor,1,1)}},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var i=this.vvLine,r=0;i&&(i.remove(),r=i.x);i=this.container.set();i.translate(r,0);r=n.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor);n.setCN(this.chart,r,"cursor-fill");r.translate(-t/2-1,0);i.push(r);this.vvLine=i;this.fullLines.push(i);this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var i=this.hhLine,r=0;i&&(i.remove(),r=i.y);i=this.container.set();i.translate(0,r);r=n.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha);r.translate(0,-t/2);i.push(r);this.fullLines.push(i);this.hhLine=i;this.prevLineHeight=t}},fixVLine:function(n,t){var i,r,u;isNaN(n)||(isNaN(this.prevLineX)?(i=0,r=this.mouseX,this.limitToGraph&&(u=this.chart.categoryAxis,u&&(this.chart.rotate||(i="bottom"==u.position?this.height:-this.height),r=n)),this.vvLine.translate(r,i)):this.prevLineX!=n&&this.vvLine.translate(this.prevLineX,this.prevLineY),this.fx=n,this.prevLineX!=n&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:n+","+t},i,"easeOutSine"),this.prevLineX=n,this.prevLineY=t))},fixHLine:function(n,t){var i,r,u;isNaN(n)||(isNaN(this.prevLineY)?(i=0,r=this.mouseY,this.limitToGraph&&(u=this.chart.categoryAxis,u&&(this.chart.rotate&&(i="right"==u.position?this.width:-this.width),r=n)),this.hhLine.translate(i,r)):this.prevLineY!=n&&this.hhLine.translate(this.prevLineX,this.prevLineY),this.fy=n,this.prevLineY!=n&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:t+","+n},i,"easeOutSine"),this.prevLineY=n,this.prevLineX=t))},hideCursor:function(n){this.forceShow=!1;this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),n?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines();this.isHidden=!0;this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide();this.hhLine&&this.hhLine.hide();this.fullLines&&this.fullLines.hide();this.isHidden=!0;this.chart.handleCursorHide()},showCursor:function(n){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),n||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){var i,t;if(!this.pan&&this.enabled){i=this.mouseX;t=this.mouseY;isNaN(this.fx)||(i=this.fx);isNaN(this.fy)||(t=this.fy);this.clearSelection();var r=this.mouseX0,u=this.mouseY0,f=this.width,e=this.height,i=n.fitToBounds(i,0,f),t=n.fitToBounds(t,0,e),o;i<r&&(o=i,i=r,r=o);t<u&&(o=t,t=u,u=o);this.hZoomEnabled?f=i-r:r=0;this.vZoomEnabled?e=t-u:u=0;isNaN(this.mouse2X)&&0<Math.abs(f)&&0<Math.abs(e)&&(i=this.chart,t=n.rect(this.container,f,e,this.cursorColor,this.selectionAlpha),n.setCN(i,t,"cursor-selection"),t.width=f,t.height=e,t.translate(r,u),this.set.push(t),this.selection=t);this.updateFullLine()}},mouseIsOver:function(){var n=this.mouseX,t=this.mouseY;if(this.justReleased)return this.justReleased=!1,!0;if(this.mouseIsDown)return!0;if(!this.chart.mouseIsOver)return this.handleMouseOut(),!1;if(0<n&&n<this.width&&0<t&&t<this.height)return!0;this.handleMouseOut()},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var n={chart:this.chart,target:this,type:"zoomStarted"};n.x=this.mouseX/this.width;n.y=this.mouseY/this.height;this.index0=n.index=this.index;this.timestamp0=this.timestamp;this.fire(n)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1;n.remove(this.drawingLine);var t=this.drawStartX,i=this.drawStartY,r=this.mouseX,u=this.mouseY,f=this.chart;(2<Math.abs(t-r)||2<Math.abs(i-u))&&this.fire({type:"draw",target:this,chart:f,initialX:t,initialY:i,finalX:r,finalY:u})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY));this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(n){var t,o;if(!this.pan&&(t=this.selection,t&&3<Math.abs(t.width)&&3<Math.abs(t.height))){var i=Math.min(this.index,this.index0),r=Math.max(this.index,this.index0),s=i,h=r,f=this.chart,u=f.chartData,e=f.categoryAxis;e&&e.parseDates&&!e.equalSpacing&&(s=u[i]?u[i].time:Math.min(this.timestamp0,this.timestamp),h=u[r]?f.getEndTime(u[r].time):Math.max(this.timestamp0,this.timestamp));t={type:n,chart:this.chart,target:this,end:h,start:s,startIndex:i,endIndex:r,selectionHeight:t.height,selectionWidth:t.width,selectionY:t.y,selectionX:t.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(t.startX=this.mouseX0/this.width,t.endX=this.mouseX/this.width,o=!0);this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(t.startY=1-this.mouseY0/this.height,t.endY=1-this.mouseY/this.height,o=!0);o&&(this.prevY=this.prevX=NaN,this.fire(t),"selected"!=n&&this.clearSelection());this.hideCursor()}},dispatchMovedEvent:function(n,t,i,r){var f,e,u;n=Math.round(n);t=Math.round(t);this.isHidden||n==this.prevX&&t==this.prevY&&"changed"!=i||(i||(i="moved"),f=this.fx,e=this.fy,isNaN(f)&&(f=n),isNaN(e)&&(e=t),u=!1,this.zooming&&this.pan&&(u=!0),u={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:n,y:t,finalX:f,finalY:e,zooming:this.zooming,panning:u,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:r,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(u.position=t,u.finalPosition=e):(u.position=n,u.finalPosition=f),this.prevX=n,this.prevY=t,r?this.chart.handleCursorMove(u):(this.fire(u),"changed"==i&&this.chart.fire(u)))},dispatchPanEvent:function(){if(this.mouseIsDown){var u=n.roundTo((this.mouseX-this.mouseX0)/this.width,3),f=n.roundTo((this.mouseY-this.mouseY0)/this.height,3),t=n.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),i=n.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),r=!1;0!==Math.abs(u)&&0!==Math.abs(f)&&(r=!0);(this.prevDeltaX==u||this.prevDeltaY==f)&&(r=!1);isNaN(t)||isNaN(i)||(0!==Math.abs(t)&&0!==Math.abs(i)&&(r=!0),this.prevDelta2X!=t&&this.prevDelta2Y!=i)||(r=!1);r&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:u,deltaY:f,delta2X:t,delta2Y:i,index:this.index}),this.prevDeltaX=u,this.prevDeltaY=f,this.prevDelta2X=t,this.prevDelta2Y=i)}},clearSelection:function(){var n=this.selection;n&&(n.width=0,n.height=0,n.remove())},destroy:function(){this.clear();n.remove(this.selection);this.selection=null;clearTimeout(this.syncTO);n.remove(this.set)},clear:function(){},setTimestamp:function(n){this.timestamp=n},setIndex:function(n,t){n!=this.index&&(this.index=n,t||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(n){var t=this.chart.categoryAxis;t&&this.setPosition(t.categoryToCoordinate(n),n)},setPosition:function(n,t){var i=this.chart,r=i.categoryAxis,u,f;r&&(void 0===t&&(t=r.coordinateToValue(n)),r.showBalloonAt(t,n),this.forceShow=!0,r.stickBalloonToCategory?i.rotate?this.fixHLine(n,0):this.fixVLine(n,0):(this.showCursor(),i.rotate?this.hhLine.translate(0,n):this.vvLine.translate(n,0)),i.rotate?u=n:f=n,i.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(f,u,"moved",!0))},enableDrawing:function(n){this.enabled=!n;this.hideCursor();this.drawing=n},syncWithCursor:function(n,t){clearTimeout(this.syncTO);n&&(n.isHidden?this.hideCursor(!0):this.syncWithCursorReal(n,t))},isZooming:function(n){this.zooming=n},syncWithCursorReal:function(n,t){var u=n.vvLine,f=n.hhLine,i,r;this.index=n.index;this.forceShow=!0;this.zooming&&this.pan||this.showCursor(!0);this.hideGraphBalloons=t;this.justReleased=n.justReleased;this.zooming=n.zooming;this.index0=n.index0;this.mouseX0=n.mouseX0;this.mouseY0=n.mouseY0;this.mouse2X0=n.mouse2X0;this.mouse2Y0=n.mouse2Y0;this.timestamp0=n.timestamp0;this.prevDeltaX=n.prevDeltaX;this.prevDeltaY=n.prevDeltaY;this.prevDelta2X=n.prevDelta2X;this.prevDelta2Y=n.prevDelta2Y;this.fx=n.fx;this.fy=n.fy;n.zooming&&this.updateSelection();i=n.mouseX;r=n.mouseY;this.rotate?(i=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&f&&(isNaN(n.fy)?this.hhLine.translate(0,n.mouseY):this.fixHLine(n.fy,0))):(r=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&u&&(isNaN(n.fx)?this.vvLine.translate(n.mouseX,0):this.fixVLine(n.fx,0)));this.dispatchMovedEvent(i,r,"moved",!0)}})}(),function(){var n=window.AmCharts;n.SimpleChartScrollbar=n.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;";this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;";this.vResizeCursor="ns-resize";this.hResizeCursor="ew-resize";this.enabled=!0;this.percentStart=this.offset=0;this.percentEnd=1;n.applyTheme(this,t,"SimpleChartScrollbar")},getPercents:function(){var n=this.getDBox(),t=n.x,i=n.y,r=n.width,n=n.height;this.rotate?(t=1-i/this.height,i=1-(i+n)/this.height):(i=t/this.width,t=(t+r)/this.width);this.percentStart=i;this.percentEnd=t},draw:function(){var t=this,o,s,f,h,r,c,l,a,v;if(t.destroy(),t.enabled){var i=t.chart.container,e=t.rotate,u=t.chart;u.panRequired=!0;o=i.set();t.set=o;e?n.setCN(u,o,"scrollbar-vertical"):n.setCN(u,o,"scrollbar-horizontal");u.scrollbarsSet.push(o);e?(s=t.scrollbarHeight,f=u.plotAreaHeight):(f=t.scrollbarHeight,s=u.plotAreaWidth);t.width=s;(t.height=f)&&s&&(r=n.rect(i,s,f,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha),n.setCN(u,r,"scrollbar-bg"),t.bg=r,o.push(r),r=n.rect(i,s,f,"#000",.005),o.push(r),t.invisibleBg=r,r.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),r=n.rect(i,s,f,t.selectedBackgroundColor,t.selectedBackgroundAlpha),n.setCN(u,r,"scrollbar-bg-selected"),t.selectedBG=r,o.push(r),s=n.rect(i,s,f,"#000",.005),t.dragger=s,o.push(s),s.mousedown(function(n){t.handleDragStart(n)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(n){t.handleDragStart(n)}).touchend(function(){t.handleDragStop()}),f=u.pathToImages,r=t.dragIcon.replace(/\.[a-z]*$/i,""),n.isAbsolute(r)&&(f=""),e?(h=f+r+"H"+u.extension,f=t.dragIconWidth,e=t.dragIconHeight):(h=f+r+u.extension,e=t.dragIconWidth,f=t.dragIconHeight),r=i.image(h,0,0,e,f),n.setCN(u,r,"scrollbar-grip-left"),h=i.image(h,0,0,e,f),n.setCN(u,h,"scrollbar-grip-right"),c=10,l=20,u.panEventsEnabled&&(c=25,l=t.scrollbarHeight),a=n.rect(i,c,l,"#000",.005),v=n.rect(i,c,l,"#000",.005),v.translate(-(c-e)/2,-(l-f)/2),a.translate(-(c-e)/2,-(l-f)/2),e=i.set([r,v]),i=i.set([h,a]),t.iconLeft=e,o.push(t.iconLeft),t.iconRight=i,o.push(i),t.updateGripCursor(!1),u.makeAccessible(e,t.accessibleLabel),u.makeAccessible(i,t.accessibleLabel),u.makeAccessible(s,t.accessibleLabel),e.setAttr("role","menuitem"),i.setAttr("role","menuitem"),s.setAttr("role","menuitem"),void 0!==t.tabIndex&&(e.setAttr("tabindex",t.tabIndex),e.keyup(function(n){t.handleKeys(n,1,0)})),void 0!==t.tabIndex&&(s.setAttr("tabindex",t.tabIndex),s.keyup(function(n){t.handleKeys(n,1,1)})),void 0!==t.tabIndex&&(i.setAttr("tabindex",t.tabIndex),i.keyup(function(n){t.handleKeys(n,0,1)})),e.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),i.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),n.ifArray(u.chartData)?o.show():o.hide(),t.hideDragIcons(),t.clipDragger(!1));o.translate(t.x,t.y);o.node.style.msTouchAction="none";o.node.style.touchAction="none"}},handleKeys:function(n,t,i){var r,u;if(this.getPercents(),r=this.percentStart,u=this.percentEnd,this.rotate)var f=u,u=r,r=f;(37==n.keyCode||40==n.keyCode)&&(r-=.02*t,u-=.02*i);(39==n.keyCode||38==n.keyCode)&&(r+=.02*t,u+=.02*i);this.rotate&&(n=u,u=r,r=n);isNaN(u)||isNaN(r)||this.percentZoom(r,u,!0)},updateScrollbarSize:function(n,t){if(!isNaN(n)&&!isNaN(t)){n=Math.round(n);t=Math.round(t);var i=this.dragger,r,u,f,e,o;this.rotate?(r=0,u=n,f=this.width+1,e=t-n,i.setAttr("height",t-n),i.setAttr("y",u)):(r=n,u=0,f=t-n,e=this.height+1,o=t-n,i.setAttr("x",r),i.setAttr("width",o));this.clipAndUpdate(r,u,f,e)}},update:function(){var n,l=!1,i,t,r=this.x,u=this.y,f=this.dragger,o=this.getDBox(),e;if(o){i=o.x+r;t=o.y+u;var a=o.width,o=o.height,v=this.rotate,s=this.chart,h=this.width,c=this.height,y=s.mouseX,s=s.mouseY;n=this.initialMouse;this.forceClip&&this.clipDragger(!0);this.dragging&&(e=this.initialCoord,v?(n=e+(s-n),0>n&&(n=0),e=c-o,n>e&&(n=e),f.setAttr("y",n)):(n=e+(y-n),0>n&&(n=0),e=h-a,n>e&&(n=e),f.setAttr("x",n)),this.clipDragger(!0));this.resizingRight&&(v?(n=s-t,!isNaN(this.maxHeight)&&n>this.maxHeight&&(n=this.maxHeight),n+t>c+u&&(n=c-t+u),0>n)?(this.resizingRight=!1,l=this.resizingLeft=!0):((0===n||isNaN(n))&&(n=.1),f.setAttr("height",n)):(n=y-i,!isNaN(this.maxWidth)&&n>this.maxWidth&&(n=this.maxWidth),n+i>h+r&&(n=h-i+r),0>n)?(this.resizingRight=!1,l=this.resizingLeft=!0):((0===n||isNaN(n))&&(n=.1),f.setAttr("width",n)),this.clipDragger(!0));this.resizingLeft&&(v?(i=t,t=s,t<u&&(t=u),isNaN(t)&&(t=u),t>c+u&&(t=c+u),n=!0===l?i-t:o+i-t,!isNaN(this.maxHeight)&&n>this.maxHeight&&(n=this.maxHeight,t=i),0>n)?(this.resizingRight=!0,this.resizingLeft=!1,f.setAttr("y",i+o-u)):((0===n||isNaN(n))&&(n=.1),f.setAttr("y",t-u),f.setAttr("height",n)):(t=y,t<r&&(t=r),isNaN(t)&&(t=r),t>h+r&&(t=h+r),n=!0===l?i-t:a+i-t,!isNaN(this.maxWidth)&&n>this.maxWidth&&(n=this.maxWidth,t=i),0>n)?(this.resizingRight=!0,this.resizingLeft=!1,f.setAttr("x",i+a-r)):((0===n||isNaN(n))&&(n=.1),f.setAttr("x",t-r),f.setAttr("width",n)),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(n){var t=this.getDBox();if(t){var i=t.x,r=t.y,u=t.width,t=t.height,f=!1;this.rotate?(i=0,u=this.width+1,this.clipY!=r||this.clipH!=t)&&(f=!0):(r=0,t=this.height+1,this.clipX!=i||this.clipW!=u)&&(f=!0);f&&(this.clipAndUpdate(i,r,u,t),n&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(n,t,i,r){this.clipX=n;this.clipY=t;this.clipW=i;this.clipH=r;this.selectedBG.setAttr("width",i);this.selectedBG.setAttr("height",r);this.selectedBG.translate(n,t);this.updateDragIconPositions();this.maskGraphs(n,t,i,r)},dispatchScrollbarEvent:function(){var i;if(this.skipEvent)this.skipEvent=!1;else{i=this.chart;i.hideBalloon();var n=this.getDBox(),r=n.x,u=n.y,t=n.width,n=n.height;this.getPercents();this.rotate?(r=u,t=this.height/n):t=this.width/t;this.fire({type:"zoomed",position:r,chart:i,target:this,multiplier:t,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var i=this.getDBox(),u=i.x,f=i.y,e=this.iconLeft,o=this.iconRight,n,t,r=this.scrollbarHeight;this.rotate?(n=this.dragIconWidth,t=this.dragIconHeight,e.translate((r-t)/2,f-n/2),o.translate((r-t)/2,f+i.height-n/2)):(n=this.dragIconHeight,t=this.dragIconWidth,e.translate(u-t/2,(r-n)/2),o.translate(u-t/2+i.width,(r-n)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(n){this.fire({type:n,chart:this.chart,target:this})},percentZoom:function(t,i,r){if(t=n.fitToBounds(t,0,i),i=n.fitToBounds(i,t,1),this.dragger&&this.enabled){this.dragger.stop();isNaN(t)&&(t=0);isNaN(i)&&(i=1);var u,f;this.rotate?(u=this.height,i=u-u*i,f=u-u*t):(u=this.width,f=u*i,i=u*t);this.updateScrollbarSize(i,f);this.clipDragger(!1);this.getPercents();r&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear();n.remove(this.set);n.remove(this.iconRight);n.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){var t,i;this.enabled&&(this.fireZoomEvent("zoomStarted"),t=this.chart,this.dragger.stop(),this.removeCursors(),n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0,i=this.getDBox(),this.rotate?(this.initialCoord=i.y,this.initialMouse=t.mouseY):(this.initialCoord=i.x,this.initialMouse=t.mouseX))},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover);this.update();this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver();n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted");this.dragger.stop();this.resizingLeft=!0;this.updateGripCursor(!0)},updateGripCursor:function(t){n.isModern&&(t=this.rotate?t?this.vResizeCursorDown:this.vResizeCursorHover:t?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",t),this.iconLeft&&this.iconLeft.node.setAttribute("style",t))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded"));this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted");this.dragger.stop();this.resizingRight=!0;this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded"));this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor);this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this,r,i,u,f,e,o;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;u=t.scrollDuration;f=t.dragger;r=t.getDBox();e=r.height;o=r.width;i=t.chart;var h=t.y,c=t.x,s=t.rotate;s?(r="y",i=i.mouseY-e/2-h,i=n.fitToBounds(i,0,t.height-e)):(r="x",i=i.mouseX-o/2-c,i=n.fitToBounds(i,0,t.width-o));t.updateOnReleaseOnly?(t.skipEvent=!1,f.setAttr(r,i),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,i=Math.round(i),s?f.animate({y:i},u,">"):f.animate({x:i},u,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*u))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons();this.removeCursors()}})}(),function(){var n=window.AmCharts;n.ChartScrollbar=n.Class({inherits:n.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar";n.ChartScrollbar.base.construct.call(this,t);this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.oppositeAxis=!0;this.accessibleLabel="Zoom chart using cursor arrows";n.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,r=this.chart,i=this.gridAxis,u;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,t=new n.CategoryAxis,t.id="scrollbar"):(t=new n.ValueAxis,t.data=r.chartData,t.id=i.id,t.type=i.type,t.maximumDate=i.maximumDate,t.minimumDate=i.minimumDate,t.minPeriod=i.minPeriod,t.minMaxField=i.minMaxField),this.categoryAxis=t);t.chart=r;u=r.categoryAxis;u&&(t.firstDayOfWeek=u.firstDayOfWeek);t.dateFormats=i.dateFormats;t.markPeriodChange=i.markPeriodChange;t.boldPeriodBeginning=i.boldPeriodBeginning;t.labelFunction=i.labelFunction;t.axisItemRenderer=n.RecItem;t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.inside=!0;t.fontSize=this.fontSize;t.tickLength=0;t.axisAlpha=0;n.isString(this.graph)&&(this.graph=n.getObjById(r.graphs,this.graph));(t=this.graph)&&this.catScrollbar&&(i=this.valueAxis,i||(this.valueAxis=i=new n.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=n.RecItem,i.axisRenderer=n.RecAxis,i.guideFillRenderer=n.RecFill,i.labelsEnabled=!1,i.chart=r),r=this.unselectedGraph,r||(r=new n.AmGraph,r.scrollbar=!0,this.unselectedGraph=r,r.negativeBase=t.negativeBase,r.noStepRisers=t.noStepRisers),r=this.selectedGraph,r||(r=new n.AmGraph,r.scrollbar=!0,this.selectedGraph=r,r.negativeBase=t.negativeBase,r.noStepRisers=t.noStepRisers));this.scrollbarCreated=!0},draw:function(){var t=this,e,r,h,c,w,b,i,v;if(n.ChartScrollbar.base.draw.call(t),t.enabled){t.scrollbarCreated||t.init();var s=t.chart,o=s.chartData,f=t.categoryAxis,l=t.rotate,h=t.x,c=t.y,y=t.width,p=t.height,u=t.gridAxis,a=t.set;if(f.setOrientation(!l),f.parseDates=u.parseDates,"ValueAxis"==t.categoryAxis.cname&&(f.rotate=!l),f.equalSpacing=u.equalSpacing,f.minPeriod=u.minPeriod,f.startOnAxis=u.startOnAxis,f.width=y-1,f.height=p,f.gridCount=t.gridCount,f.gridColor=t.gridColor,f.gridAlpha=t.gridAlpha,f.color=t.color,f.tickLength=0,f.axisAlpha=0,f.autoGridCount=t.autoGridCount,f.parseDates&&!f.equalSpacing&&f.timeZoom(s.firstTime,s.lastTime),f.minimum=t.gridAxis.fullMin,f.maximum=t.gridAxis.fullMax,f.strictMinMax=!0,f.zoom(0,o.length-1),(u=t.graph)&&t.catScrollbar){for(e=t.valueAxis,r=u.valueAxis,e.id=r.id,e.rotate=l,e.setOrientation(l),e.width=y,e.height=p,e.dataProvider=o,e.reversed=r.reversed,e.logarithmic=r.logarithmic,e.gridAlpha=0,e.axisAlpha=0,a.push(e.set),l?(e.y=c,e.x=0):(e.x=h,e.y=0),h=Infinity,c=-Infinity,w=0;w<o.length;w++){b=o[w].axes[r.id].graphs[u.id].values;for(i in b)b.hasOwnProperty(i)&&"percents"!=i&&"total"!=i&&(v=b[i],v<h&&(h=v),v>c&&(c=v))}Infinity!=h&&(e.minimum=h);-Infinity!=c&&(e.maximum=c+.1*(c-h));h==c&&(--e.minimum,e.maximum+=1);void 0!==t.minimum&&(e.minimum=t.minimum);void 0!==t.maximum&&(e.maximum=t.maximum);e.zoom(0,o.length-1);i=t.unselectedGraph;i.id=u.id;i.bcn="scrollbar-graph-";i.rotate=l;i.chart=s;i.data=o;i.valueAxis=e;i.chart=u.chart;i.categoryAxis=t.categoryAxis;i.periodSpan=u.periodSpan;i.valueField=u.valueField;i.openField=u.openField;i.closeField=u.closeField;i.highField=u.highField;i.lowField=u.lowField;i.lineAlpha=t.graphLineAlpha;i.lineColorR=t.graphLineColor;i.fillAlphas=t.graphFillAlpha;i.fillColorsR=t.graphFillColor;i.connect=u.connect;i.hidden=u.hidden;i.width=y;i.height=p;i.pointPosition=u.pointPosition;i.stepDirection=u.stepDirection;i.periodSpan=u.periodSpan;r=t.selectedGraph;r.id=u.id;r.bcn=i.bcn+"selected-";r.rotate=l;r.chart=s;r.data=o;r.valueAxis=e;r.chart=u.chart;r.categoryAxis=f;r.periodSpan=u.periodSpan;r.valueField=u.valueField;r.openField=u.openField;r.closeField=u.closeField;r.highField=u.highField;r.lowField=u.lowField;r.lineAlpha=t.selectedGraphLineAlpha;r.lineColorR=t.selectedGraphLineColor;r.fillAlphas=t.selectedGraphFillAlpha;r.fillColorsR=t.selectedGraphFillColor;r.connect=u.connect;r.hidden=u.hidden;r.width=y;r.height=p;r.pointPosition=u.pointPosition;r.stepDirection=u.stepDirection;r.periodSpan=u.periodSpan;s=t.graphType;s||(s=u.type);i.type=s;r.type=s;o=o.length-1;i.zoom(0,o);r.zoom(0,o);r.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});i.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});a.push(i.set);a.push(r.set)}a.push(f.set);a.push(f.labelsSet);t.bg.toBack();t.invisibleBg.toFront();t.dragger.toFront();t.iconLeft.toFront();t.iconRight.toFront()}},timeZoom:function(t,i,r){this.startTime=t;this.endTime=i;this.timeDifference=i-t;this.skipEvent=!n.toBoolean(r);this.zoomScrollbar();this.dispatchScrollbarEvent()},zoom:function(n,t){this.start=n;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){var s,t,h,e;if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)n.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{s=this.chart.chartData;e=this.dragger.getBBox();t=e.x;var r=e.y,u=e.width,e=e.height,f=this.chart;this.rotate?(t=r,h=e):h=u;u={type:"zoomed",target:this};u.chart=f;var i=this.categoryAxis,c=this.stepWidth,r=f.minSelectedTime,e=f.maxSelectedTime,o=!1;i.parseDates&&!i.equalSpacing?(s=f.lastTime,f=f.firstTime,i=Math.round(t/c)+f,t=this.dragging?i+this.timeDifference:Math.round((t+h)/c)+f,i>t&&(i=t),0<r&&t-i<r&&(t=Math.round(i+(t-i)/2),o=Math.round(r/2),i=t-o,t+=o,o=!0),0<e&&t-i>e&&(t=Math.round(i+(t-i)/2),o=Math.round(e/2),i=t-o,t+=o,o=!0),t>s&&(t=s),t-r<i&&(i=t-r),i<f&&(i=f),i+r>t&&(t=i+r),i!=this.startTime||t!=this.endTime)&&(this.startTime=i,this.endTime=t,u.start=i,u.end=t,u.startDate=new Date(i),u.endDate=new Date(t),this.fire(u)):(i.startOnAxis||(t+=c/2),h-=this.stepWidth/2,r=i.xToIndex(t),t=i.xToIndex(t+h),(r!=this.start||this.end!=t)&&(i.startOnAxis&&(this.resizingRight&&r==t&&t++,this.resizingLeft&&r==t&&(0<r?r--:t=1)),this.start=r,this.end=this.dragging?this.start+this.difference:t,u.start=this.start,u.end=this.end,i.parseDates&&(s[this.start]&&(u.startDate=new Date(s[this.start].time)),s[this.end]&&(u.endDate=new Date(s[this.end].time))),this.fire(u)),this.percentStart=r,this.percentEnd=t);o&&this.zoomScrollbar(!0)}},zoomScrollbar:function(n){var u,t,r,i;(!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||n)&&this.dragger&&this.enabled&&(r=this.chart,n=r.chartData,i=this.categoryAxis,i.parseDates&&!i.equalSpacing?(n=i.stepWidth,t=r.firstTime,u=n*(this.startTime-t),t=n*(this.endTime-t)):(n[this.start]&&(u=n[this.start].x[i.id]),n[this.end]&&(t=n[this.end].x[i.id]),n=i.stepWidth,i.startOnAxis||(r=n/2,u-=r,t+=r)),this.stepWidth=n,isNaN(u)||isNaN(t)||this.updateScrollbarSize(u,t))},maskGraphs:function(n,t,i,r){var u=this.selectedGraph;u&&u.set.clipRect(n,t,i,r)},handleDragStart:function(){n.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){n.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var n=window.AmCharts;n.AmBalloon=n.Class({construct:function(t){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!0;this.offsetY=6;this.offsetX=1;this.textAlign="center";this.disableMouseEvents=!0;this.deltaSignX=this.deltaSignY=1;n.isModern||(this.offsetY*=1.5);this.sdy=this.sdx=0;n.applyTheme(this,t,this.cname)},draw:function(){var f=this.pointToX,o=this.pointToY,a,s,p,i,r,rt,ut,st,t;if(n.isModern||(this.drop=!1),a=this.chart,n.VML&&(this.fadeOutDuration=0),this.xAnim&&a.stopAnim(this.xAnim),this.yAnim&&a.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(f)){var ot=this.follow,v=a.container,y=this.set;if(n.remove(y),this.removeDiv(),y=v.set(),y.node.style.pointerEvents="none",this.set=y,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):a.balloonsSet.push(y),this.show){var e=this.l,b=this.t,w=this.r,g=this.b,s=this.balloonColor,c=this.fillColor,it=this.borderColor,nt=c;void 0!=s&&(this.adjustBorderColor?nt=it=s:c=s);var k=this.horizontalPadding,tt=this.verticalPadding,h=this.pointerWidth,l=this.pointerOrientation,d=this.cornerRadius,u=a.fontFamily,t=this.fontSize;void 0==t&&(t=a.fontSize);s=document.createElement("div");p=a.classNamePrefix;s.className=p+"-balloon-div";this.className&&(s.className=s.className+" "+p+"-balloon-div-"+this.className);p=s.style;this.disableMouseEvents&&(p.pointerEvents="none");p.position="absolute";i=this.minWidth;r="";isNaN(i)||(r="min-width:"+(i-2*k)+"px; ");s.innerHTML='<div style="text-align:'+this.textAlign+"; "+r+"max-width:"+this.maxWidth+"px; font-size:"+t+"px; color:"+this.color+"; font-family:"+u+'">'+this.text+"<\/div>";a.chartDiv.appendChild(s);this.textDiv=s;rt=s.offsetWidth;ut=s.offsetHeight;s.clientHeight&&(rt=s.clientWidth,ut=s.clientHeight);u=ut+2*tt;r=rt+2*k;!isNaN(i)&&r<i&&(r=i);window.opera&&(u+=2);st=!1;t=this.offsetY;a.handDrawn&&(t+=a.handDrawScatter+2);"H"!=l?(i=f-r/2,o<b+u+10&&"down"!=l?(st=!0,ot&&(o+=t),t=o+h,this.deltaSignY=-1):(ot&&(o-=t),t=o-u-h,this.deltaSignY=1)):(2*h>u&&(h=u/2),t=o-u/2,f<e+(w-e)/2?(i=f+h,this.deltaSignX=-1):(i=f-r-h,this.deltaSignX=1));t+u>=g&&(t=g-u);t<b&&(t=b);i<e&&(i=e);i+r>w&&(i=w-r);var b=t+tt,g=i+k,ft=this.shadowAlpha,ct=this.shadowColor,k=this.borderThickness,lt=this.bulletSize,et,tt=this.fillAlpha,ht=this.borderAlpha;this.showBullet&&(et=n.circle(v,lt,nt,tt),y.push(et));this.drop?(e=r/1.6,w=0,"V"==l&&(l="down"),"H"==l&&(l="left"),"down"==l&&(i=f+1,t=o-e-e/3),"up"==l&&(w=180,i=f+1,t=o+e+e/3),"left"==l&&(w=270,i=f+e+e/3+2,t=o),"right"==l&&(w=90,i=f-e-e/3+2,t=o),b=t-ut/2+1,g=i-rt/2-1,c=n.drop(v,e,w,c,tt,k,it,ht)):0<d||0===h?(0<ft&&(f=n.rect(v,r,u,c,0,k+1,ct,ft,d),n.isModern?f.translate(1,1):f.translate(4,4),y.push(f)),c=n.rect(v,r,u,c,tt,k,it,ht,d)):(nt=[],d=[],"H"!=l?(e=f-i,e>r-h&&(e=r-h),e<h&&(e=h),nt=[0,e-h,f-i,e+h,r,r,0,0],d=st?[0,0,o-t,0,0,u,u,0]:[u,u,o-t,u,u,0,0,u]):(l=o-t,l>u-h&&(l=u-h),l<h&&(l=h),d=[0,l-h,o-t,l+h,u,u,0,0],nt=f<e+(w-e)/2?[0,0,i<f?0:f-i,0,0,r,r,0]:[r,r,i+r>f?r:f-i,r,r,0,0,r]),0<ft&&(f=n.polygon(v,nt,d,c,0,k,ct,ft),f.translate(1,1),y.push(f)),c=n.polygon(v,nt,d,c,tt,k,it,ht));this.bg=c;y.push(c);c.toFront();n.setCN(a,c,"balloon-bg");this.className&&n.setCN(a,c,"balloon-bg-"+this.className);v=1*this.deltaSignX;g+=this.sdx;b+=this.sdy;p.left=g+"px";p.top=b+"px";y.translate(i-v,t,1,!0);c=c.getBBox();this.bottom=t+u+1;this.yPos=c.y+t;et&&et.translate(this.pointToX-i+v,o-t);o=this.animationDuration;0<this.animationDuration&&!ot&&!isNaN(this.prevX)&&(y.translate(this.prevX,this.prevY,NaN,!0),y.animate({translate:i-v+","+t},o,"easeOutSine"),s&&(p.left=this.prevTX+"px",p.top=this.prevTY+"px",this.xAnim=a.animate({node:s},"left",this.prevTX,g,o,"easeOutSine","px"),this.yAnim=a.animate({node:s},"top",this.prevTY,b,o,"easeOutSine","px")));this.prevX=i-v;this.prevY=t;this.prevTX=g;this.prevTY=b}}},fixPrevious:function(){this.rPrevX=this.prevX;this.rPrevY=this.prevY;this.rPrevTX=this.prevTX;this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX;this.prevY=this.rPrevY;this.prevTX=this.rPrevTX;this.prevTY=this.rPrevTY},followMouse:function(){var n,t,i;if(this.follow&&this.show&&(n=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy,this.pointToX=n,this.pointToY=t,n!=this.previousX||t!=this.previousY))if(this.previousX=n,this.previousY=t,0===this.cornerRadius)this.draw();else if(i=this.set,i){var r=i.getBBox(),n=n-r.width/2,u=t-r.height-10;n<this.l&&(n=this.l);n>this.r-r.width&&(n=this.r-r.width);u<this.t&&(u=t+10);i.translate(n,u);t=this.textDiv.style;t.left=n+this.horizontalPadding+"px";t.top=u+this.verticalPadding+"px"}},changeColor:function(n){this.balloonColor=n},setBounds:function(n,t,i,r){this.l=n;this.t=t;this.r=i;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(n){(this.text!=n||this.positionChanged)&&(this.text=n,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),n=this.chart,this.fadeAnim1&&n.stopAnim(this.fadeAnim1),this.fadeAnim2&&n.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(n){var t=this,r,i;t.text=void 0;isNaN(n)&&(n=t.fadeOutDuration);r=t.chart;0<n&&!t.isHiding?(t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*n),t.follow=!1,t.show=!1,i=t.set,i&&(i.setAttr("opacity",t.fillAlpha),t.fadeAnim1=i.animate({opacity:0},n,"easeInSine")),t.textDiv&&(t.fadeAnim2=r.animate({node:t.textDiv},"opacity",1,0,n,"easeInSine",""))):(t.show=!1,t.follow=!1,t.destroy())},setPosition:function(n,t){(n!=this.pointToX||t!=this.pointToY)&&(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=n,this.pointToY=t,this.positionChanged=!0)},followCursor:function(n){var t=this,i,r;t.follow=n;clearInterval(t.interval);i=t.chart.mouseX-t.sdx;r=t.chart.mouseY-t.sdy;!isNaN(i)&&n&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var n=this.textDiv.parentNode;n&&n.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);n.remove(this.set);this.removeDiv();this.set=null}})}(),function(){var n=window.AmCharts;n.AmCoordinateChart=n.Class({inherits:n.AmChart,construct:function(t){n.AmCoordinateChart.base.construct.call(this,t);this.theme=t;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;n.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){n.AmCoordinateChart.base.initChart.call(this);this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=n.processObject(t,n.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();n.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var t=new n.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(n){var i,t;if(this.chartData=[],n)if(0<this.processTimeout)for(1>this.processCount&&(this.processCount=1),i=n.length/this.processCount,this.parseCount=Math.ceil(i)-1,t=0;t<i;t++)this.delayParseSerialData(n,t);else this.parseCount=0,this.parsePartSerialData(n,0,n.length,0);else this.onDataUpdated()},delayParseSerialData:function(n,t){var i=this,r=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,n,t*r,(t+1)*r,t)},i.processTimeout)},parsePartSerialData:function(t,i,r,u){var w,tt,e,it,rt,ut,l,ft,b,ht,et,a,ot,v,f,s,st,k,y,d,h,ct,o,g,c,at;r>t.length&&(r=t.length);var p=this.graphs,lt={},nt=this.seriesIdField;for(nt||(nt=this.categoryField),w=!1,e=this.categoryAxis,e&&(w=e.parseDates,it=e.forceShowField,ut=e.classNameField,rt=e.labelColorField,tt=e.categoryFunction),b={},w&&(l=n.extractPeriod(e.minPeriod),ft=l.period,l=l.count,ht=n.getPeriodDuration(ft,l)),et={},this.lookupTable=et,ot=this.dataDateFormat,v={},a=i;a<r;a++)if(f={},s=t[a],i=s[this.categoryField],f.dataContext=s,f.category=tt?tt(i,s,e):String(i),it&&(f.forceShow=s[it]),ut&&(f.className=s[ut]),rt&&(f.labelColor=s[rt]),et[s[nt]]=f,!w||(e.categoryFunction?i=e.categoryFunction(i,s,e):(!ot||i instanceof Date||(i=i.toString()+" |"),i=n.getDate(i,ot,e.minPeriod)),i=n.resetDateToMin(i,ft,l,e.firstDayOfWeek),f.category=i,f.time=i.getTime(),!isNaN(f.time))){for(st=this.valueAxes,f.axes={},f.x={},k=0;k<st.length;k++)for(y=st[k].id,f.axes[y]={},f.axes[y].graphs={},d=0;d<p.length;d++)if(i=p[d],h=i.id,c=1.1,isNaN(i.gapPeriod)||(c=i.gapPeriod),ct=i.periodValue,i.valueAxis.id==y){if(f.axes[y].graphs[h]={},o={},o.index=a,g=s,i.dataProvider&&(g=lt),o.values=this.processValues(g,i,ct),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(v&&v[h]&&0<c&&f.time-b[h]>=ht*c&&(v[h].gap=!0),i.forceGap){c=0;for(at in o.values)c++;0<c&&(b[h]=f.time,v[h]=o)}else b[h]=f.time,v[h]=o;this.processFields(i,o,g);o.category=f.category;o.serialDataItem=f;o.graph=i;f.axes[y].graphs[h]=o}this.chartData[a]=f}if(this.parseCount==u){for(t=0;t<p.length;t++)i=p[t],i.dataProvider&&this.parseGraphData(i);this.dataChanged=!1;this.dispatchDataUpdated=!0;this.onDataUpdated()}},processValues:function(t,i,r){var s={},f,c=!1,h,o,u,e;for("candlestick"!=i.type&&"ohlc"!=i.type||""===r||(c=!0),h="value error open close low high".split(" "),o=0;o<h.length;o++)u=h[o],"value"!=u&&"error"!=u&&c&&(r=u.charAt(0).toUpperCase()+u.slice(1)),e=t[i[u+"Field"]+r],null!==e&&(f=Number(e),isNaN(f)||(s[u]=f),"date"==i.valueAxis.type&&void 0!==e&&(f=n.getDate(e,i.chart.dataDateFormat),s[u]=f.getTime()));return s},parseGraphData:function(n){var e=n.dataProvider,t=n.seriesIdField,r;for(t||(t=this.seriesIdField),t||(t=this.categoryField),r=0;r<e.length;r++){var u=e[r],f=this.lookupTable[String(u[t])],i=n.valueAxis.id;f&&(i=f.axes[i].graphs[n.id],i.serialDataItem=f,i.values=this.processValues(u,n,n.periodValue),this.processFields(n,i,u))}},addValueAxis:function(n){n.chart=this;this.valueAxes.push(n);this.validateData()},removeValueAxesAndGraphs:function(){for(var t=this.valueAxes,n=t.length-1;-1<n;n--)this.removeValueAxis(t[n])},removeValueAxis:function(n){for(var i=this.graphs,r,t=i.length-1;0<=t;t--)r=i[t],r&&r.valueAxis==n&&this.removeGraph(r);for(i=this.valueAxes,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1);this.validateData()},addGraph:function(n){this.graphs.push(n);this.chooseGraphColor(n,this.graphs.length-1);this.validateData()},removeGraph:function(n){for(var i=this.graphs,t=i.length-1;0<=t;t--)i[t]==n&&(i.splice(t,1),n.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){for(var r=this.valueAxes,t,i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.ValueAxis,this.theme),r[i]=t,t.chart=this,t.init(),this.listenTo(t,"axisIntZoomed",this.handleValueAxisZoom),t.id||(t.id="valueAxisAuto"+i+"_"+(new Date).getTime()),void 0===t.usePrefixes&&(t.usePrefixes=this.usePrefixes)},processGuides:function(){var u=this.guides,f=this.categoryAxis,r,t,i;if(u)for(r=0;r<u.length;r++)t=u[r],(void 0!==t.category||void 0!==t.date)&&f&&f.addGuide(t),t.id||(t.id="guideAuto"+r+"_"+(new Date).getTime()),i=t.valueAxis,i?(n.isString(i)&&(i=this.getValueAxisById(i)),i?i.addGuide(t):this.valueAxes[0].addGuide(t)):isNaN(t.value)||this.valueAxes[0].addGuide(t)},processGraphs:function(){var r=this.graphs,i,t;for(this.graphsById={},i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.AmGraph,this.theme),r[i]=t,this.chooseGraphColor(t,i),t.chart=this,t.init(),n.isString(t.valueAxis)&&(t.valueAxis=this.getValueAxisById(t.valueAxis)),t.valueAxis||(t.valueAxis=this.valueAxes[0]),t.id||(t.id="graphAuto"+i+"_"+(new Date).getTime()),this.graphsById[t.id]=t},formatString:function(t,i,r){var f=i.graph,u=f.valueAxis;return u.duration&&i.values.value&&(u=n.formatDuration(i.values.value,u.duration,"",u.durationUnits,u.maxInterval,u.numberFormatter),t=t.split("[[value]]").join(u)),t=n.massReplace(t,{"[[title]]":f.title,"[[description]]":i.description}),t=r?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},getBalloonColor:function(t,i,r){var u=t.lineColor,f=t.balloonColor;return r&&(f=u),r=t.fillColorsR,"object"==typeof r?u=r[0]:void 0!==r&&(u=r),i.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(u=r)),void 0!==i.color&&(u=i.color),void 0!==i.lineColor&&(u=i.lineColor),i=i.fillColors,void 0!==i&&(u=i,n.ifArray(i)&&(u=i[0])),void 0===f&&(f=u),f},getGraphById:function(t){return n.getObjById(this.graphs,t)},getValueAxisById:function(t){return n.getObjById(this.valueAxes,t)},processFields:function(t,i,r){var f,u,o,e;for(t.itemColors&&(f=t.itemColors,u=i.index,i.color=u<f.length?f[u]:n.randomColor()),f="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),u=0;u<f.length;u++)o=f[u],e=t[o+"Field"],e&&(e=r[e],n.isDefined(e)&&(i[o]=e));i.dataContext=r},chooseGraphColor:function(t,i){if(t.lineColor)t.lineColorR=t.lineColor;else{var r;r=this.colors.length>i?this.colors[i]:t.lineColorR?t.lineColorR:n.randomColor();t.lineColorR=r}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR;t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor;t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR;(r=this.patterns)&&(t.pattern=r[i])},handleLegendEvent:function(n){var r=n.type,t,i;if(n=n.dataItem){t=n.hidden;i=n.showBalloon;switch(r){case"clickMarker":this.textClickEnabled&&(i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n));break;case"clickLabel":i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n);break;case"rollOverItem":t||this.highlightGraph(n);break;case"rollOutItem":t||this.unhighlightGraph();break;case"hideItem":this.hideGraph(n);break;case"showItem":this.showGraph(n)}}},highlightGraph:function(n){var r=this.graphs,t,i,u;if(r&&(i=.2,this.legend&&(i=this.legend.rollOverGraphAlpha),1!=i))for(t=0;t<r.length;t++)u=r[t],u!=n&&u.changeOpacity(i)},unhighlightGraph:function(){var n,t;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(n=this.graphs,t=0;t<n.length;t++)n[t].changeOpacity(1)},showGraph:function(n){n.switchable&&(n.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(n){n.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),n.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(n){n.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(n){n.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs,n;if(t)for(n=0;n<t.length;n++)t[n].animationPlayed=!1},animateAgain:function(){this.resetAnimation();this.validateNow()}})}(),function(){var n=window.AmCharts;n.TrendLine=n.Class({construct:function(t){this.cname="TrendLine";this.createEvents("click","rollOver","rollOut");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;n.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var o=t.chart,c=o.container,s,h,i,u,e=t.categoryAxis,l=t.initialDate,v=t.initialCategory,a=t.finalDate,f=t.finalCategory,r=t.valueAxis,y=t.valueAxisX,p=t.initialXValue,w=t.finalXValue,b=t.initialValue,k=t.finalValue,d=r.recalculateToPercents,g=o.dataDateFormat;e&&(l&&(l=n.getDate(l,g,"fff"),t.initialDate=l,s=e.dateToCoordinate(l)),v&&(s=e.categoryToCoordinate(v)),a&&(a=n.getDate(a,g,"fff"),t.finalDate=a,h=e.dateToCoordinate(a)),f&&(h=e.categoryToCoordinate(f)));y&&!d&&(isNaN(p)||(s=y.getCoordinate(p)),isNaN(w)||(h=y.getCoordinate(w)));r&&!d&&(isNaN(b)||(i=r.getCoordinate(b)),isNaN(k)||(u=r.getCoordinate(k)));isNaN(s)||isNaN(h)||isNaN(i)||isNaN(i)||(o.rotate?(e=[i,u],u=[s,h]):(e=[s,h],u=[i,u]),l=t.lineColor,i=n.line(c,e,u,l,t.lineAlpha,t.lineThickness,t.dashLength),s=e,h=u,f=e[1]-e[0],r=u[1]-u[0],0===f&&(f=.01),0===r&&(r=.01),v=f/Math.abs(f),a=r/Math.abs(r),r=Math.PI/2-Math.asin(f/(f*r/Math.abs(f*r)*Math.sqrt(Math.pow(f,2)+Math.pow(r,2)))),f=Math.abs(5*Math.cos(r)),r=Math.abs(5*Math.sin(r)),s.push(e[1]-v*r,e[0]-v*r),h.push(u[1]+a*f,u[0]+a*f),u=n.polygon(c,s,h,l,.005,0),c=c.set([u,i]),c.translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(c),n.setCN(o,i,"trend-line"),n.setCN(o,i,"trend-line-"+t.id),t.line=i,t.set=c,(i=t.initialImage)&&(i=n.processObject(i,n.Image,t.theme),i.chart=o,i.draw(),i.translate(s[0]+i.offsetX,h[0]+i.offsetY),c.push(i.set)),(i=t.finalImage)&&(i=n.processObject(i,n.Image,t.theme),i.chart=o,i.draw(),i.translate(s[1]+i.offsetX,h[1]+i.offsetY),c.push(i.set)),u.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),u.touchend&&u.touchend(function(){t.handleLineClick()}),c.clipRect(0,0,o.plotAreaWidth,o.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var n=this.rollOverColor;void 0!==n&&this.line.attr({stroke:n});this.balloonText&&(clearTimeout(this.chart.hoverInt),n=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+n.x+n.width/2,this.y+n.y+n.height/2));this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor});this.balloonText&&this.chart.hideBalloon();this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){n.remove(this.set)}})}(),function(){var n=window.AmCharts;n.Image=n.Class({construct:function(t){this.cname="Image";this.height=this.width=20;this.rotation=this.offsetY=this.offsetX=0;this.balloonColor=this.color="#000000";this.opacity=1;n.applyTheme(this,t,this.cname)},draw:function(){var n=this,i,t,r;n.set&&n.set.remove();i=n.chart.container;n.set=i.set();n.url?(t=i.image(n.url,0,0,n.width,n.height),r=1):n.svgPath&&(t=i.path(n.svgPath),t.setAttr("fill",n.color),t.setAttr("stroke",n.outlineColor),i=t.getBBox(),r=Math.min(n.width/i.width,n.height/i.height));t&&(t.setAttr("opacity",n.opacity),n.set.rotate(n.rotation),t.translate(-n.width/2,-n.height/2,r),n.balloonText&&t.mouseover(function(){n.chart.showBalloon(n.balloonText,n.balloonColor,!0)}).mouseout(function(){n.chart.hideBalloon()}).touchend(function(){n.chart.hideBalloon()}).touchstart(function(){n.chart.showBalloon(n.balloonText,n.balloonColor,!0)}),n.set.push(t))},translate:function(n,t){this.set&&this.set.translate(n,t)}})}(),function(){var n=window.AmCharts;n.circle=function(t,i,r,u,f,e,o,s,h){return 0>=i&&(i=.001),(void 0==f||0===f)&&(f=.01),void 0===e&&(e="#000000"),void 0===o&&(o=0),u={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o},t=isNaN(h)?t.circle(0,0,i).attr(u):t.ellipse(0,0,i,h).attr(u),s&&t.gradient("radialGradient",[r,n.adjustLuminosity(r,-.6)]),t};n.text=function(t,i,r,u,f,e,o,s){return e||(e="middle"),"right"==e&&(e="end"),"left"==e&&(e="start"),isNaN(s)&&(s=1),void 0!==i&&(i=String(i),n.isIE&&!n.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),r={fill:r,"font-family":u,"font-size":f+"px",opacity:s},!0===o&&(r["font-weight"]="bold"),r["text-anchor"]=e,t.text(i,r)};n.polygon=function(t,i,r,u,f,e,o,s,h,c,l){var v,y,a;for(isNaN(e)&&(e=.01),isNaN(s)&&(s=f),v=u,y=!1,"object"==typeof v&&1<v.length&&(y=!0,v=v[0]),void 0===o&&(o=v),f={fill:v,stroke:o,"fill-opacity":f,"stroke-width":e,"stroke-opacity":s},void 0!==l&&0<l&&(f["stroke-dasharray"]=l),l=n.dx,e=n.dy,t.handDrawn&&(r=n.makeHD(i,r,t.handDrawScatter),i=r[0],r=r[1]),o=Math.round,c&&(i[a]=n.roundTo(i[a],5),r[a]=n.roundTo(r[a],5),o=Number),s="M"+(o(i[0])+l)+","+(o(r[0])+e),a=1;a<i.length;a++)c&&(i[a]=n.roundTo(i[a],5),r[a]=n.roundTo(r[a],5)),s+=" L"+(o(i[a])+l)+","+(o(r[a])+e);return t=t.path(s+" Z").attr(f),y&&t.gradient("linearGradient",u,h),t};n.rect=function(t,i,r,u,f,e,o,s,h,c,l){var a,p,v,y;return isNaN(i)||isNaN(r)?t.set():(isNaN(e)&&(e=0),void 0===h&&(h=0),void 0===c&&(c=270),isNaN(f)&&(f=0),a=u,p=!1,"object"==typeof a&&(a=a[0],p=!0),void 0===o&&(o=a),void 0===s&&(s=f),i=Math.round(i),r=Math.round(r),v=0,y=0,0>i&&(i=Math.abs(i),v=-i),0>r&&(r=Math.abs(r),y=-r),v+=n.dx,y+=n.dy,f={fill:a,stroke:o,"fill-opacity":f,"stroke-opacity":s},void 0!==l&&0<l&&(f["stroke-dasharray"]=l),t=t.rect(v,y,i,r,h,e).attr(f),p&&t.gradient("linearGradient",u,c),t)};n.bullet=function(t,i,r,u,f,e,o,s,h,c,l,a,v){var y;"circle"==i&&(i="round");switch(i){case"round":y=n.circle(t,r/2,u,f,e,o,s);break;case"square":y=n.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],u,f,e,o,s,c-180,void 0,v);break;case"rectangle":y=n.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],u,f,e,o,s,c-180,void 0,v);break;case"diamond":y=n.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],u,f,e,o,s);break;case"triangleUp":y=n.triangle(t,r,0,u,f,e,o,s);break;case"triangleDown":y=n.triangle(t,r,180,u,f,e,o,s);break;case"triangleLeft":y=n.triangle(t,r,270,u,f,e,o,s);break;case"triangleRight":y=n.triangle(t,r,90,u,f,e,o,s);break;case"bubble":y=n.circle(t,r/2,u,f,e,o,s,!0);break;case"line":y=n.line(t,[-r/2,r/2],[0,0],u,f,e,o,s);break;case"yError":y=t.set();y.push(n.line(t,[0,0],[-r/2,r/2],u,f,e));y.push(n.line(t,[-h,h],[-r/2,-r/2],u,f,e));y.push(n.line(t,[-h,h],[r/2,r/2],u,f,e));break;case"xError":y=t.set();y.push(n.line(t,[-r/2,r/2],[0,0],u,f,e));y.push(n.line(t,[-r/2,-r/2],[-h,h],u,f,e));y.push(n.line(t,[r/2,r/2],[-h,h],u,f,e))}return y&&y.pattern(l,NaN,a),y};n.triangle=function(n,t,i,r,u,f,e,o){(void 0===f||0===f)&&(f=1);void 0===e&&(e="#000");void 0===o&&(o=0);r={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o};t/=2;var s;return 0===i&&(s=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(s=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(s=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(s=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),n.path(s).attr(r)};n.line=function(t,i,r,u,f,e,o,s,h,c,l){if(t.handDrawn&&!l)return n.handDrawnLine(t,i,r,u,f,e,o,s,h,c,l);for(e={fill:"none","stroke-width":e},void 0!==o&&0<o&&(e["stroke-dasharray"]=o),isNaN(f)||(e["stroke-opacity"]=f),u&&(e.stroke=u),u=Math.round,c&&(u=Number,i[0]=n.roundTo(i[0],5),r[0]=n.roundTo(r[0],5)),c=n.dx,f=n.dy,o="M"+(u(i[0])+c)+","+(u(r[0])+f),s=1;s<i.length;s++)i[s]=n.roundTo(i[s],5),r[s]=n.roundTo(r[s],5),o+=" L"+(u(i[s])+c)+","+(u(r[s])+f);return n.VML?t.path(o,void 0,!0).attr(e):(h&&(o+=" M0,0 L0,0"),t.path(o).attr(e))};n.makeHD=function(n,t,i){for(var a,c=[],l=[],r=1;r<n.length;r++)for(var f=Number(n[r-1]),e=Number(t[r-1]),o=Number(n[r]),s=Number(t[r]),h=Math.round(Math.sqrt(Math.pow(o-f,2)+Math.pow(s-e,2))/50)+1,o=(o-f)/h,s=(s-e)/h,u=0;u<=h;u++)a=e+u*s+Math.random()*i,c.push(f+u*o+Math.random()*i),l.push(a);return[c,l]};n.handDrawnLine=function(t,i,r,u,f,e,o,s,h,c){for(var p=t.set(),l=1;l<i.length;l++)for(var y=[i[l-1],i[l]],v=[r[l-1],r[l]],v=n.makeHD(y,v,t.handDrawScatter),y=v[0],v=v[1],a=1;a<y.length;a++)p.push(n.line(t,[y[a-1],y[a]],[v[a-1],v[a]],u,f,e+Math.random()*t.handDrawThickness-t.handDrawThickness/2,o,s,h,c,!0));return p};n.doNothing=function(n){return n};n.drop=function(n,t,i,r,u,f,e,o){var s=1/180*Math.PI,h=i-20,v=Math.sin(h*s)*t,y=Math.cos(h*s)*t,p=Math.sin((h+40)*s)*t,w=Math.cos((h+40)*s)*t,a=.8*t,c=-t/3,l=t/3;return 0===i&&(c=-c,l=0),180==i&&(l=0),90==i&&(c=0),270==i&&(c=0,l=-l),i={fill:r,stroke:e,"stroke-width":f,"stroke-opacity":o,"fill-opacity":u},t="M"+v+","+y+" A"+t+","+t+",0,1,1,"+p+","+w+(" A"+a+","+a+",0,0,0,"+(Math.sin((h+20)*s)*t+l)+","+(Math.cos((h+20)*s)*t+c)),t+=" A"+a+","+a+",0,0,0,"+v+","+y,n.path(t,void 0,void 0,"1000,1000").attr(i)};n.wedge=function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=Math.round,st,ut,ct,ht,lt;e=p(e);o=p(o);s=p(s);var k=p(o/e*s),et=n.VML,b=359.5+e/100;359.94<b&&(b=359.94);f>=b&&(f=b);var w=1/180*Math.PI,b=i+Math.sin(u*w)*s,d=r-Math.cos(u*w)*k,g=i+Math.sin(u*w)*e,nt=r-Math.cos(u*w)*o,tt=i+Math.sin((u+f)*w)*e,it=r-Math.cos((u+f)*w)*o,rt=i+Math.sin((u+f)*w)*s,w=r-Math.cos((u+f)*w)*k,ft={fill:n.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},ot=0;if(180<Math.abs(f)&&(ot=1),u=t.set(),et&&(b=p(10*b),g=p(10*g),tt=p(10*tt),rt=p(10*rt),d=p(10*d),nt=p(10*nt),it=p(10*it),w=p(10*w),i=p(10*i),h=p(10*h),r=p(10*r),e*=10,o*=10,s*=10,k*=10,1>Math.abs(f)&&1>=Math.abs(tt-g)&&1>=Math.abs(it-nt)&&(st=!0)),f="",a&&(ft["fill-opacity"]=0,ft["stroke-opacity"]=c["stroke-opacity"]/2,ft.stroke=c.stroke),0<h){for(ut=" M"+b+","+(d+h)+" L"+g+","+(nt+h),et?(st||(ut+=" A"+(i-e)+","+(h+r-o)+","+(i+e)+","+(h+r+o)+","+g+","+(nt+h)+","+tt+","+(it+h)),ut+=" L"+rt+","+(w+h),0<s&&(st||(ut+=" B"+(i-s)+","+(h+r-k)+","+(i+s)+","+(h+r+k)+","+rt+","+(h+w)+","+b+","+(h+d)))):(ut+=" A"+e+","+o+",0,"+ot+",1,"+tt+","+(it+h)+" L"+rt+","+(w+h),0<s&&(ut+=" A"+s+","+k+",0,"+ot+",0,"+b+","+(d+h))),ut+=" Z",ct=h,et&&(ct/=10),ht=0;ht<ct;ht+=10)lt=t.path(ut,void 0,void 0,"1000,1000").attr(ft),u.push(lt),lt.translate(0,-ht);ut=t.path(" M"+b+","+d+" L"+b+","+(d+h)+" L"+g+","+(nt+h)+" L"+g+","+nt+" L"+b+","+d+" Z",void 0,void 0,"1000,1000").attr(ft);h=t.path(" M"+tt+","+it+" L"+tt+","+(it+h)+" L"+rt+","+(w+h)+" L"+rt+","+w+" L"+tt+","+it+" Z",void 0,void 0,"1000,1000").attr(ft);u.push(ut);u.push(h)}if(et?(st||(f=" A"+p(i-e)+","+p(r-o)+","+p(i+e)+","+p(r+o)+","+p(g)+","+p(nt)+","+p(tt)+","+p(it)),o=" M"+p(b)+","+p(d)+" L"+p(g)+","+p(nt)+f+" L"+p(rt)+","+p(w)):o=" M"+b+","+d+" L"+g+","+nt+(" A"+e+","+o+",0,"+ot+",1,"+tt+","+it)+" L"+rt+","+w,0<s&&(et?st||(o+=" B"+(i-s)+","+(r-k)+","+(i+s)+","+(r+k)+","+rt+","+w+","+b+","+d):o+=" A"+s+","+k+",0,"+ot+",0,"+b+","+d),t.handDrawn&&(s=n.line(t,[b,g],[d,nt],c.stroke,c.thickness*Math.random()*t.handDrawThickness,c["stroke-opacity"]),u.push(s)),t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(c),l){for(s=[],k=0;k<l.length;k++)s.push(n.adjustLuminosity(c.fill,l[k]));"radial"!=y||n.isModern||(s=[]);0<s.length&&t.gradient(y+"Gradient",s)}return n.isModern&&"radial"==y&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",e),t.grad.setAttribute("cx",i),t.grad.setAttribute("cy",r)),t.pattern(a,NaN,v),u.wedge=t,u.push(t),u};n.rgb2hex=function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""};n.adjustLuminosity=function(t,i){t&&-1!=t.indexOf("rgb")&&(t=n.rgb2hex(t));t=String(t).replace(/[^0-9a-f]/gi,"");6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2]));i=i||0;for(var f="#",r,u=0;3>u;u++)r=parseInt(t.substr(2*u,2),16),r=Math.round(Math.min(Math.max(0,r+r*i),255)).toString(16),f+=("00"+r).substr(r.length);return f}}(),function(){var n=window.AmCharts;n.Bezier=n.Class({construct:function(t,i,r,u,f,e,o,s,h,c,l){var v=t.chart,a=n.bezierX,y=n.bezierY,p,w;for(isNaN(v.bezierX)||(a=v.bezierX),isNaN(v.bezierY)||(y=v.bezierY),isNaN(a)&&(v.rotate?(a=20,y=4):(y=20,a=4)),"object"==typeof o&&1<o.length&&(w=!0,p=o,o=o[0]),"object"==typeof s&&(s=s[0]),0===s&&(o="none"),e={fill:o,"fill-opacity":s,"stroke-width":e},void 0!==h&&0<h&&(e["stroke-dasharray"]=h),isNaN(f)||(e["stroke-opacity"]=f),u&&(e.stroke=u),u="M"+Math.round(i[0])+","+Math.round(r[0])+" ",f=[],h=0;h<i.length;h++)isNaN(i[h])||isNaN(r[h])?(u+=this.drawSegment(f,a,y),h<i.length-1&&(u+="L"+i[h+1]+","+r[h+1]+" "),f=[]):f.push({x:Number(i[h]),y:Number(r[h])});u+=this.drawSegment(f,a,y);c?u+=c:n.VML||(u+="M0,0 L0,0");this.path=t.path(u).attr(e);this.node=this.path.node;w&&this.path.gradient("linearGradient",p,l)},drawSegment:function(n,t,i){var h="",e;if(2<n.length)for(e=0;e<n.length-1;e++){var r=[],f=n[e-1],u=n[e],o=n[e+1],s=n[e+2];0===e?(r.push({x:u.x,y:u.y}),r.push({x:u.x,y:u.y}),r.push({x:o.x,y:o.y}),r.push({x:s.x,y:s.y})):e>=n.length-2?(r.push({x:f.x,y:f.y}),r.push({x:u.x,y:u.y}),r.push({x:o.x,y:o.y}),r.push({x:o.x,y:o.y})):(r.push({x:f.x,y:f.y}),r.push({x:u.x,y:u.y}),r.push({x:o.x,y:o.y}),r.push({x:s.x,y:s.y}));f=[];u=Math.round;f.push({x:u(r[1].x),y:u(r[1].y)});f.push({x:u((-r[0].x+t*r[1].x+r[2].x)/t),y:u((-r[0].y+i*r[1].y+r[2].y)/i)});f.push({x:u((r[1].x+t*r[2].x-r[3].x)/t),y:u((r[1].y+i*r[2].y-r[3].y)/i)});f.push({x:u(r[2].x),y:u(r[2].y)});h+="C"+f[1].x+","+f[1].y+","+f[2].x+","+f[2].y+","+f[3].x+","+f[3].y+" "}else 1<n.length&&(h+="L"+n[1].x+","+n[1].y);return h}})}(),function(){var n=window.AmCharts;n.AmDraw=n.Class({construct:function(t,i,r,u){n.SVG_NS="http://www.w3.org/2000/svg";n.SVG_XLINK="http://www.w3.org/1999/xlink";n.hasSVG=!!document.createElementNS&&!!document.createElementNS(n.SVG_NS,"svg").createSVGRect;1>i&&(i=10);1>r&&(r=10);this.div=t;this.width=i;this.height=r;this.rBin=document.createElement("div");n.hasSVG?(n.SVG=!0,i=this.createSvgElement("svg"),t.appendChild(i),this.container=i,this.addDefs(u),this.R=new n.SVGRenderer(this)):n.isIE&&n.VMLRenderer&&(n.VML=!0,n.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),n.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new n.VMLRenderer(this,u),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(n.SVG_NS,t)},circle:function(t,i,r,u){var f=new n.AmDObject("circle",this);return f.attr({r:r,cx:t,cy:i}),this.addToContainer(f.node,u),f},ellipse:function(t,i,r,u,f){var e=new n.AmDObject("ellipse",this);return e.attr({rx:r,ry:u,cx:t,cy:i}),this.addToContainer(e.node,f),e},setSize:function(n,t){0<n&&0<t&&(this.container.style.width=n+"px",this.container.style.height=t+"px")},rect:function(t,i,r,u,f,e,o){var s=new n.AmDObject("rect",this);return n.VML&&(f=Math.round(100*f/Math.min(r,u)),r+=2*e,u+=2*e,s.bw=e,s.node.style.marginLeft=-e,s.node.style.marginTop=-e),1>r&&(r=1),1>u&&(u=1),s.attr({x:t,y:i,width:r,height:u,rx:f,ry:f,"stroke-width":e}),this.addToContainer(s.node,o),s},image:function(t,i,r,u,f,e){var o=new n.AmDObject("image",this);return o.attr({x:i,y:r,width:u,height:f}),this.R.path(o,t),this.addToContainer(o.node,e),o},addToContainer:function(n,t){t||(t=this.container);t.appendChild(n)},text:function(n,t,i){return this.R.text(n,t,i)},path:function(t,i,r,u){var f=new n.AmDObject("path",this);return u||(u="100,100"),f.attr({cs:u}),r?f.attr({dd:t}):f.attr({d:t}),this.addToContainer(f.node,i),f},set:function(n){return this.R.set(n)},remove:function(n){if(n){var t=this.rBin;t.appendChild(n);t.innerHTML=""}},renderFix:function(){var i=this.container,n=i.style;n.top="0px";n.left="0px";try{var t=i.getBoundingClientRect(),r=t.left-Math.round(t.left),u=t.top-Math.round(t.top);r&&(n.left=r+"px");u&&(n.top=u+"px")}catch(f){}},update:function(){this.R.update()},addDefs:function(t){var r,i,u;n.hasSVG&&(r=this.createSvgElement("desc"),i=this.container,i.setAttribute("version","1.1"),i.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle&&(u=this.createSvgElement("text"),i.appendChild(u),u.innerHTML=t.accessibleTitle,u.style.opacity=0),n.rtl&&(i.setAttribute("direction","rtl"),i.style.left="auto",i.style.right="0px"),t&&(t.addCodeCredits&&r.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),i.appendChild(r),t.defs&&(r=this.createSvgElement("defs"),i.appendChild(r),n.parseDefs(t.defs,r),this.defs=r)))}})}(),function(){var n=window.AmCharts;n.AmDObject=n.Class({construct:function(n,t){this.D=t;this.R=t.R;this.node=this.R.create(this,n);this.y=this.x=0;this.scale=1},attr:function(n){return this.R.attr(this,n),this},getAttr:function(n){return this.node.getAttribute(n)},setAttr:function(n,t){return this.R.setAttr(this,n,t),this},clipRect:function(n,t,i,r){this.R.clipRect(this,n,t,i,r)},translate:function(n,t,i,r){r||(n=Math.round(n),t=Math.round(t));this.R.move(this,n,t,i);this.x=n;this.y=t;this.scale=i;this.angle&&this.rotate(this.angle)},rotate:function(n,t){this.R.rotate(this,n,t);this.angle=n},animate:function(t,i,r){var u,f,e;for(u in t)t.hasOwnProperty(u)&&(f=u,e=t[u],r=n.getEffect(r),this.R.animate(this,f,e,i,r))},push:function(n){var t,i;n&&(t=this.node,t.appendChild(n.node),i=n.clipPath,i&&t.appendChild(i),(n=n.grad)&&t.appendChild(n))},text:function(n){this.R.setText(this,n)},remove:function(){this.stop();this.R.remove(this)},clear:function(){var n=this.node;if(n.hasChildNodes())for(;1<=n.childNodes.length;)n.removeChild(n.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var n=this.node,t;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&t.appendChild(n))},toPrevious:function(){var n=this.node;n&&this.prevNextNode&&(n=n.parentNode)&&n.insertBefore(this.prevNextNode,null)},toBack:function(){var n=this.node,t,i;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&(i=t.firstChild,i&&t.insertBefore(n,i)))},mouseover:function(n){return this.R.addListener(this,"mouseover",n),this},mouseout:function(n){return this.R.addListener(this,"mouseout",n),this},click:function(n){return this.R.addListener(this,"click",n),this},dblclick:function(n){return this.R.addListener(this,"dblclick",n),this},mousedown:function(n){return this.R.addListener(this,"mousedown",n),this},mouseup:function(n){return this.R.addListener(this,"mouseup",n),this},touchmove:function(n){return this.R.addListener(this,"touchmove",n),this},touchstart:function(n){return this.R.addListener(this,"touchstart",n),this},touchend:function(n){return this.R.addListener(this,"touchend",n),this},keyup:function(n){return this.R.addListener(this,"keyup",n),this},focus:function(n){return this.R.addListener(this,"focus",n),this},blur:function(n){return this.R.addListener(this,"blur",n),this},contextmenu:function(n){return this.node.addEventListener?this.node.addEventListener("contextmenu",n,!0):this.R.addListener(this,"contextmenu",n),this},stop:function(){n.removeFromArray(this.R.animations,this.an_translate);n.removeFromArray(this.R.animations,this.an_y);n.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(n,t,i){this.R.gradient(this,n,t,i)},pattern:function(n,t,i){n&&this.R.pattern(this,n,t,i)}})}(),function(){var n=window.AmCharts;n.VMLRenderer=n.Class({construct:function(n,t){this.chart=t;this.D=n;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(n,t){var i,r,u;return"group"==t?(i=document.createElement("div"),n.type="div"):"text"==t?(i=document.createElement("div"),n.type="text"):"image"==t?(i=document.createElement("img"),n.type="image"):(n.type="shape",n.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]),r=document.createElement("amvml:stroke"),i.appendChild(r),n.stroke=r,u=document.createElement("amvml:fill"),i.appendChild(u),n.fill=u,u.className="amvml",r.className="amvml",i.className="amvml"),i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(n,t){n.node.setAttribute("src",t)},setAttr:function(t,i,r){var o,e;if(void 0!==r){8===document.documentMode&&(o=!0);var s=t.node,f=t.type,u=s.style;if("r"==i&&(u.width=2*r,u.height=2*r),"oval"==t.shapeType&&("rx"==i&&(u.width=2*r),"ry"==i&&(u.height=2*r)),"roundrect"==t.shapeType&&("width"!=i&&"height"!=i||--r),"cursor"==i&&(u.cursor=r),"cx"==i&&(u.left=r-n.removePx(u.width)/2),"cy"==i&&(u.top=r-n.removePx(u.height)/2),e=this.styleMap[i],"width"==e&&0>r&&(r=0),void 0!==e&&(u[e]=r),"text"==f&&("text-anchor"==i&&(t.anchor=r,e=s.clientWidth,"end"==r&&(u.marginLeft=-e+"px"),"middle"==r&&(u.marginLeft=-(e/2)+"px",u.textAlign="center"),"start"==r&&(u.marginLeft="0px")),"fill"==i&&(u.color=r),"font-weight"==i&&(u.fontWeight=r)),u=t.children)for(e=0;e<u.length;e++)u[e].setAttr(i,r);"shape"==f&&("cs"==i&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",r)),"d"==i&&s.setAttribute("path",this.svgPathToVml(r)),"dd"==i&&s.setAttribute("path",r),f=t.stroke,t=t.fill,"stroke"==i&&(o?f.color=r:f.setAttribute("color",r)),"stroke-width"==i&&(o?f.weight=r:f.setAttribute("weight",r)),"stroke-opacity"==i&&(o?f.opacity=r:f.setAttribute("opacity",r)),"stroke-dasharray"==i&&(u="solid",0<r&&3>r&&(u="dot"),3<=r&&6>=r&&(u="dash"),6<r&&(u="longdash"),o?f.dashstyle=u:f.setAttribute("dashstyle",u)),("fill-opacity"==i||"opacity"==i)&&(0===r?o?t.on=!1:t.setAttribute("on",!1):o?t.opacity=r:t.setAttribute("opacity",r)),"fill"==i&&(o?t.color=r:t.setAttribute("color",r)),"rx"==i&&(o?s.arcSize=r+"%":s.setAttribute("arcsize",r+"%")))}},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},text:function(t,i,r){var u=new n.AmDObject("text",this.D),f=u.node;return f.style.whiteSpace="pre",f.innerHTML=t,this.D.addToContainer(f,r),this.attr(u,i),u},getBBox:function(n){return this.getBox(n.node)},getBox:function(n){var h=n.offsetLeft,c=n.offsetTop,o=n.offsetWidth,s=n.offsetHeight,i,r,u,e,t,f;if(n.hasChildNodes()){for(e=0;e<n.childNodes.length;e++)i=this.getBox(n.childNodes[e]),t=i.x,isNaN(t)||(isNaN(r)?r=t:t<r&&(r=t)),f=i.y,isNaN(f)||(isNaN(u)?u=f:f<u&&(u=f)),t=i.width+t,isNaN(t)||(o=Math.max(o,t)),i=i.height+f,isNaN(i)||(s=Math.max(s,i));0>r&&(h+=r);0>u&&(c+=u)}return{x:h,y:c,width:o,height:s}},setText:function(n,t){var i=n.node;i&&(i.innerHTML=t);this.setAttr(n,"text-anchor",n.anchor)},addListener:function(n,t,i){n.node["on"+t]=i},move:function(t,i,r){var u=t.node,f=u.style;"text"==t.type&&(r-=n.removePx(f.fontSize)/2-1);"oval"==t.shapeType&&(i-=n.removePx(f.width)/2,r-=n.removePx(f.height)/2);t=t.bw;isNaN(t)||(i-=t,r-=t);isNaN(i)||isNaN(r)||(u.style.left=i+"px",u.style.top=r+"px")},svgPathToVml:function(n){var l=n.split(" "),u,i,e;for(n="",i=Math.round,e=0;e<l.length;e++){var f=l[e],r=f.substring(0,1),f=f.substring(1),t=f.split(","),o=i(t[0])+","+i(t[1]);if("M"==r&&(n+=" m "+o),"L"==r&&(n+=" l "+o),"Z"==r&&(n+=" x e"),"Q"==r){var a=u.length,c=u[a-1],s=t[0],h=t[1],o=t[2],v=t[3];u=i(u[a-2]/3+2/3*s);c=i(c/3+2/3*h);s=i(2/3*s+o/3);h=i(2/3*h+v/3);n+=" c "+u+","+c+","+s+","+h+","+o+","+v}"C"==r&&(n+=" c "+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]);"A"==r&&(n+=" wa "+f);"B"==r&&(n+=" at "+f);u=t}return n},animate:function(n,t,i,r,u){var f=n.node,e=this.chart,o;n.animationFinished=!1;"translate"==t&&(t=i.split(","),i=t[1],o=f.offsetTop,e.animate(n,"left",f.offsetLeft,t[0],r,u,"px"),e.animate(n,"top",o,i,r,u,"px"))},clipRect:function(n,t,i,r,u){n=n.node;0===t&&0===i?(n.style.width=r+"px",n.style.height=u+"px",n.style.overflow="hidden"):n.style.clip="rect("+i+"px "+(t+r)+"px "+(i+u)+"px "+t+"px)"},rotate:function(t,i,r){var u;if(0!==Number(i)){u=t.node;t=u.style;r||(r=this.getBGColor(u.parentNode));t.backgroundColor=r;t.paddingLeft=1;r=i*Math.PI/180;var e=Math.cos(r),o=Math.sin(r),s=n.removePx(t.left),h=n.removePx(t.top),f=u.offsetWidth,u=u.offsetHeight;i/=Math.abs(i);t.left=s+f/2-f/2*Math.cos(r)-i*u/2*Math.sin(r)+3;t.top=h-i*f/2*Math.sin(r)+i*u/2*Math.sin(r);t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+e+"', M12='"+-o+"', M21='"+o+"', M22='"+e+"', sizingmethod='auto expand');"}},getBGColor:function(n){var t="#FFFFFF",i;return n.style&&(i=n.style.backgroundColor,""!==i?t=i:n.parentNode&&(t=this.getBGColor(n.parentNode))),t},set:function(t){var r=new n.AmDObject("group",this.D),i;if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},gradient:function(n,t,i,r){var f="",u;for("radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient"),u=0;u<i.length;u++)f+=Math.round(100*u/(i.length-1))+"% "+i[u],u<i.length-1&&(f+=",");n=n.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(n.type=t,n.angle=r):(n.setAttribute("type",t),n.setAttribute("angle",r));f&&(n.colors.value=f)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);this.D.remove(n.node)},disableSelection:function(n){n.onselectstart=function(){return!1};n.style.cursor="default"},pattern:function(t,i,r,u){r=t.node;t=t.fill;var f="none";i.color&&(f=i.color);r.fillColor=f;i=i.url;n.isAbsolute(i)||(i=u+i);8===document.documentMode?(t.type="tile",t.src=i):(t.setAttribute("type","tile"),t.setAttribute("src",i))},update:function(){}})}(),function(){var n=window.AmCharts;n.SVGRenderer=n.Class({construct:function(n){this.D=n;this.animations=[]},create:function(t,i){return document.createElementNS(n.SVG_NS,i)},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},setAttr:function(n,t,i){void 0!==i&&n.node.setAttribute(t,i)},animate:function(t,i,r,u,f){t.animationFinished=!1;var e=t.node;t["an_"+i]&&n.removeFromArray(this.animations,t["an_"+i]);"translate"==i?(e=(e=e.getAttribute("transform"))?String(e).substring(10,e.length-1):"0,0",e=e.split(", ").join(" "),e=e.split(" ").join(","),0===e&&(e="0,0")):e=Number(e.getAttribute(i));r={obj:t,frame:0,attribute:i,from:e,to:r,time:u,effect:f};this.animations.push(r);t["an_"+i]=r},update:function(){for(var c=this.animations,e=c.length-1;0<=e;e--){var t=c[e],o=t.time*n.updateRate,s=t.frame+1,h=t.obj,f=t.attribute,r,i,u;if(s<=o){if(t.frame++,"translate"==f){if(r=t.from.split(","),f=Number(r[0]),r=Number(r[1]),isNaN(r)&&(r=0),i=t.to.split(","),u=Number(i[0]),i=Number(i[1]),u=0==u-f?u:Math.round(n[t.effect](0,s,f,u-f,o)),t=0==i-r?i:Math.round(n[t.effect](0,s,r,i-r,o)),f="transform",isNaN(u)||isNaN(t))continue;t="translate("+u+","+t+")"}else i=Number(t.from),r=Number(t.to),u=r-i,t=n[t.effect](0,s,i,u,o),isNaN(t)&&(t=r),0===u&&this.animations.splice(e,1);this.setAttr(h,f,t)}else"translate"==f?(i=t.to.split(","),u=Number(i[0]),i=Number(i[1]),h.translate(u,i)):(r=Number(t.to),this.setAttr(h,f,r)),h.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(n){if(n=n.node)try{return n.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,i){t.node.setAttributeNS(n.SVG_XLINK,"xlink:href",i)},clipRect:function(t,i,r,u,f){var e=t.node,o=t.clipPath,s;o&&this.D.remove(o);s=e.parentNode;s&&(e=document.createElementNS(n.SVG_NS,"clipPath"),o=n.getUniqueId(),e.setAttribute("id",o),this.D.rect(i,r,u,f,0,0,e),s.appendChild(e),i="#",n.baseHref&&!n.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(t,"clip-path","url("+i+o+")"),this.clipPathC++,t.clipPath=e)},text:function(t,i,r){var u=new n.AmDObject("text",this.D),o,f,e;for(t=String(t).split("\n"),o=n.removePx(i["font-size"]),f=0;f<t.length;f++)e=this.create(null,"tspan"),e.appendChild(document.createTextNode(t[f])),e.setAttribute("y",(o+2)*f+Math.round(o/2)),e.setAttribute("x",0),u.node.appendChild(e);return u.node.setAttribute("y",Math.round(o/2)),this.attr(u,i),this.D.addToContainer(u.node,r),u},setText:function(n,t){var i=n.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(n,t,i,r){isNaN(t)&&(t=0);isNaN(i)&&(i=0);t="translate("+t+","+i+")";r&&(t=t+" scale("+r+")");this.setAttr(n,"transform",t)},rotate:function(n,t){var r=n.node.getAttribute("transform"),i="rotate("+t+")";r&&(i=r+" "+i);this.setAttr(n,"transform",i)},set:function(t){var r=new n.AmDObject("g",this.D),i;if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},addListener:function(n,t,i){n.node["on"+t]=i},gradient:function(t,i,r,u){var s=t.node,e=t.grad;if(e&&this.D.remove(e),i=document.createElementNS(n.SVG_NS,i),e=n.getUniqueId(),i.setAttribute("id",e),!isNaN(u)){var f=0,o=0,h=0,c=0;90==u?h=100:270==u?c=100:180==u?f=100:0===u&&(o=100);i.setAttribute("x1",f+"%");i.setAttribute("x2",o+"%");i.setAttribute("y1",h+"%");i.setAttribute("y2",c+"%")}for(u=0;u<r.length;u++)f=document.createElementNS(n.SVG_NS,"stop"),o=100*u/(r.length-1),0===u&&(o=0),f.setAttribute("offset",o+"%"),f.setAttribute("stop-color",r[u]),i.appendChild(f);s.parentNode.appendChild(i);r="#";n.baseHref&&!n.isIE&&(r=this.removeTarget(window.location.href)+r);s.setAttribute("fill","url("+r+e+")");t.grad=i},removeTarget:function(n){return n.split("#")[0]},pattern:function(t,i,r,u){var c=t.node,f,h,o,s;isNaN(r)&&(r=1);f=t.patternNode;f&&this.D.remove(f);var f=document.createElementNS(n.SVG_NS,"pattern"),l=n.getUniqueId(),e=i;i.url&&(e=i.url);n.isAbsolute(e)||-1!=e.indexOf("data:image")||(e=u+e);u=Number(i.width);isNaN(u)&&(u=4);h=Number(i.height);isNaN(h)&&(h=4);u/=r;h/=r;r=i.x;isNaN(r)&&(r=0);o=-Math.random()*Number(i.randomX);isNaN(o)||(r=o);o=i.y;isNaN(o)&&(o=0);s=-Math.random()*Number(i.randomY);isNaN(s)||(o=s);f.setAttribute("id",l);f.setAttribute("width",u);f.setAttribute("height",h);f.setAttribute("patternUnits","userSpaceOnUse");f.setAttribute("xlink:href",e);i.color&&(s=document.createElementNS(n.SVG_NS,"rect"),s.setAttributeNS(null,"height",u),s.setAttributeNS(null,"width",h),s.setAttributeNS(null,"fill",i.color),f.appendChild(s));this.D.image(e,0,0,u,h,f).translate(r,o);e="#";n.baseHref&&!n.isIE&&(e=this.removeTarget(window.location.href)+e);c.setAttribute("fill","url("+e+l+")");t.patternNode=f;c.parentNode.appendChild(f)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);n.grad&&this.D.remove(n.grad);n.patternNode&&this.D.remove(n.patternNode);this.D.remove(n.node)}})}(),function(){var n=window.AmCharts;n.AmLegend=n.Class({construct:function(t){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.accessibleLabel="[[title]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;this.labelDx=0;n.applyTheme(this,t,this.cname)},setData:function(n){this.legendData=n;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var t=this.legendData;this.enabled&&(n.ifArray(t)||n.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,r=this.position,u=this.width,s=t.divRealWidth,i=t.divRealHeight,f=this.div,e=this.legendData,o;if(this.data&&(e=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==r||"left"==r?(this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)):this.autoMargins&&(this.marginRight=t.marginRight,this.marginLeft=t.marginLeft,o=t.autoMarginOffset,"bottom"==r?(this.marginBottom=o,this.marginTop=0):(this.marginTop=o,this.marginBottom=0)),u=void 0!==u?n.toCoordinate(u,s):"right"!=r&&"left"!=r?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==r?(u=f.offsetWidth,i=f.offsetHeight,f.clientHeight&&(u=f.clientWidth,i=f.clientHeight)):(isNaN(u)||(f.style.width=u+"px"),f.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=u,(r=this.container)?(r.container.innerHTML="",f.appendChild(r.container),r.width=u,r.height=i,r.setSize(u,i),r.addDefs(t)):r=new n.AmDraw(f,u,i,t),this.container=r,this.lx=0,this.ly=8,i=this.markerSize,i>this.fontSize&&(this.ly=i/2-1),0<i&&(this.lx+=i+this.markerLabelGap),this.titleWidth=0,(i=this.title)&&(i=n.text(this.container,i,this.color,t.fontFamily,this.fontSize,"start",!0),n.setCN(t,i,"legend-title"),i.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=i.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<e.length;t++)this.createEntry(e[t]);for(t=this.index=0;t<e.length;t++)this.createValue(e[t])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var f=this.position,e=this.marginLeft+this.titleWidth,c=this.marginRight,o=this.marginTop,ut=this.marginBottom,s=this.horizontalGap,tt=this.div,y=this.divWidth,h=this.maxColumnsReal,nt=this.verticalGap,i=this.spacing,ft=y-c-e,it=0,p=0,rt=this.container,w,b,l,t,r,u,g,v;for(this.set&&this.set.remove(),w=rt.set(),this.set=w,b=rt.set(),w.push(b),l=this.entries,r=0;r<l.length;r++)t=l[r].getBBox(),u=t.width,u>it&&(it=u),t=t.height,t>p&&(p=t);var u=p=0,k=s,d=0,a=0;for(r=0;r<l.length;r++)g=l[r],this.reversedOrder&&(g=l[l.length-r-1]),t=g.getBBox(),this.equalWidths?v=u*(it+i+this.markerLabelGap):(v=k,k=k+t.width+s+i),v+t.width>ft&&0<r&&0!==u&&(p++,v=u=0,k=v+t.width+s+i,d=d+a+nt,a=0),t.height>a&&(a=t.height),g.translate(v,d),u++,!isNaN(h)&&u>=h&&(u=0,p++,d=d+a+nt,k=s,a=0),b.push(g);t=b.getBBox();h=t.height+2*nt-1;"left"==f||"right"==f?(i=t.width+2*s,y=i+e+c,tt.style.width=y+"px",this.ieW=y):i=y-e-c-1;c=n.polygon(this.container,[0,i,i,0],[0,0,h,h],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);n.setCN(this.chart,c,"legend-bg");w.push(c);w.translate(e,o);c.toBack();e=s;("top"==f||"bottom"==f||"absolute"==f||"outside"==f)&&("center"==this.align?e=s+(i-t.width)/2:"right"==this.align&&(e=s+i-t.width));b.translate(e,nt+1);this.titleHeight>h&&(h=this.titleHeight);o=h+o+ut+1;0>o&&(o=0);"absolute"!=f&&"outside"!=f&&o>this.chart.divRealHeight&&(tt.style.top="0px");tt.style.height=Math.round(o)+"px";rt.setSize(this.divWidth,o)},createEntry:function(t){var f,b,s,l,u,y,d,h,a;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var i=this,e=i.chart,v=i.useGraphSettings,p=t.markerType;p&&(v=!1);t.legendEntryWidth=i.markerSize;p||(p=i.markerType);f=t.color;b=t.alpha;t.legendKeyColor&&(f=t.legendKeyColor());t.legendKeyAlpha&&(b=t.legendKeyAlpha());!0===t.hidden&&(s=f=i.markerDisabledColor);l=t.pattern;y=t.customMarker;y||(y=i.customMarker);var o=i.container,r=i.markerSize,c=0,k=0,w=r/2;v?(v=t.type,i.switchType=void 0,"line"==v||"step"==v||"smoothedLine"==v||"ohlc"==v?(u=o.set(),t.hidden||(f=t.lineColorR,s=t.bulletBorderColorR),c=n.line(o,[0,2*r],[r/2,r/2],f,t.lineAlpha,t.lineThickness,t.dashLength),n.setCN(e,c,"graph-stroke"),u.push(c),t.bullet&&(t.hidden||(f=t.bulletColorR),c=n.bullet(o,t.bullet,t.bulletSize,f,t.bulletAlpha,t.bulletBorderThickness,s,t.bulletBorderAlpha))&&(n.setCN(e,c,"graph-bullet"),c.translate(r+1,r/2),u.push(c)),w=0,c=r,k=r/3):(t.getGradRotation&&(u=t.getGradRotation(),0===u&&(u=180)),c=t.fillColorsR,!0===t.hidden&&(c=f),(u=i.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,f,t.lineAlpha,u,l,t.dashLength))&&(w=r,u.translate(w,r/2)),c=r),n.setCN(e,u,"graph-"+v),n.setCN(e,u,"graph-"+t.id)):y?u=o.image(y,0,0,r,r):(isNaN(i.gradientRotation)||(d=180+i.gradientRotation),(u=i.createMarker(p,f,b,void 0,void 0,void 0,d,l))&&u.translate(r/2,r/2));n.setCN(e,u,"legend-marker");i.addListeners(u,t);o=o.set([u]);i.switchable&&t.switchable&&o.setAttr("cursor","pointer");void 0!==t.id&&n.setCN(e,o,"legend-item-"+t.id);n.setCN(e,o,t.className,!0);s=i.switchType;s&&"none"!=s&&0<r&&("x"==s?(h=i.createX(),h.translate(r/2,r/2)):h=i.createV(),h.dItem=t,!0!==t.hidden?"x"==s?h.hide():h.show():"x"!=s&&h.hide(),i.switchable||h.hide(),i.addListeners(h,t),t.legendSwitch=h,o.push(h),n.setCN(e,h,"legend-switch"));s=i.color;t.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(s=i.selectedColor);i.useMarkerColorForLabels&&!l&&(s=f);!0===t.hidden&&(s=i.markerDisabledColor);f=n.massReplace(i.labelText,{"[[title]]":t.title});void 0!==i.tabIndex&&(o.setAttr("tabindex",i.tabIndex),o.setAttr("role","menuitem"),o.keyup(function(n){13==n.keyCode&&i.clickMarker(t,n)}));e.accessible&&i.accessibleLabel&&(l=n.massReplace(i.accessibleLabel,{"[[title]]":t.title}),e.makeAccessible(o,l));l=i.fontSize;u&&(r<=l&&(r=r/2+i.ly-l/2+(l+2-r)/2-k,u.translate(w,r),h&&h.translate(h.x,r)),t.legendEntryWidth=u.getBBox().width);f&&(f=n.fixBrakes(f),t.legendTextReal=f,a=i.labelWidth,a=isNaN(a)?n.text(i.container,f,s,e.fontFamily,l,"start"):n.wrappedText(i.container,f,s,e.fontFamily,l,"start",!1,a,0),n.setCN(e,a,"legend-label"),a.translate(i.lx+c,i.ly),o.push(a),i.labelDx=c,e=a.getBBox().width,i.maxLabelWidth<e&&(i.maxLabelWidth=e));i.entries[i.index]=o;t.legendEntry=i.entries[i.index];t.legendMarker=u;t.legendLabel=a;i.index++}},addListeners:function(n,t){var i=this;n&&n.mouseover(function(n){i.rollOverMarker(t,n)}).mouseout(function(n){i.rollOutMarker(t,n)}).click(function(n){i.clickMarker(t,n)})},rollOverMarker:function(n,t){this.switchable&&this.dispatch("rollOverMarker",n,t);this.dispatch("rollOverItem",n,t)},rollOutMarker:function(n,t){this.switchable&&this.dispatch("rollOutMarker",n,t);this.dispatch("rollOutItem",n,t)},clickMarker:function(n,t){this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t));this.dispatch("clickMarker",n,t)},rollOverLabel:function(n,t){n.hidden||this.textClickEnabled&&n.legendLabel&&n.legendLabel.attr({fill:this.rollOverColor});this.dispatch("rollOverItem",n,t)},rollOutLabel:function(n,t){if(!n.hidden&&this.textClickEnabled&&n.legendLabel){var i=this.color;void 0!==this.selectedColor&&n.showBalloon&&(i=this.selectedColor);this.useMarkerColorForLabels&&(i=n.lineColor,void 0===i&&(i=n.color));n.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",n,t)},clickLabel:function(n,t){this.textClickEnabled?n.hidden||this.dispatch("clickLabel",n,t):this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t))},dispatch:function(n,t,i){n={type:n,dataItem:t,target:this,event:i,chart:this.chart};this.chart&&this.chart.handleLegendEvent(n);this.fire(n)},createValue:function(t){var i=this,u=i.fontSize,e=i.chart,f,o,r;if(!1!==t.visibleInLegend&&!t.hideFromLegend){if(f=i.maxLabelWidth,i.forceWidth&&(f=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&t.legendLabel&&(f=t.legendLabel.getBBox().width),o=f,i.valueText&&0<i.valueWidth){r=i.color;i.useMarkerColorForValues&&(r=t.color,t.legendKeyColor&&(r=t.legendKeyColor()));!0===t.hidden&&(r=i.markerDisabledColor);var h=i.valueText,f=f+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,s="end";"left"==i.valueAlign&&(f-=i.valueWidth,s="start");r=n.text(i.container,h,r,i.chart.fontFamily,u,s);n.setCN(e,r,"legend-value");r.translate(f,i.ly);i.entries[i.index].push(r);o+=i.valueWidth+2*i.markerLabelGap;r.dItem=t;i.valueLabels.push(r)}i.index++;e=i.markerSize;e<u+7&&(e=u+7,n.VML&&(e+=3));u=i.container.rect(t.legendEntryWidth,0,o,e,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});u.dItem=t;i.entries[i.index-1].push(u);u.mouseover(function(n){i.rollOverLabel(t,n)}).mouseout(function(n){i.rollOutLabel(t,n)}).click(function(n){i.clickLabel(t,n)})}},createV:function(){var t=this.markerSize;return n.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},r=this.container,u=n.line(r,[-t,t],[-t,t]).attr(i),t=n.line(r,[-t,t],[t,-t]).attr(i);return this.container.set([u,t])},createMarker:function(t,i,r,u,f,e,o,s,h){var c=this.markerSize,l=this.container;return f||(f=this.markerBorderColor),f||(f=i),isNaN(u)&&(u=this.markerBorderThickness),isNaN(e)&&(e=this.markerBorderAlpha),n.bullet(l,t,c,i,r,u,f,e,c,o,s,this.chart.path,h)},validateNow:function(){this.invalidateSize()},updateValues:function(){var h=this.valueLabels,o=this.chart,s,l=this.data,f,t,i,u,r,c,e;if(h)for(s=0;s<h.length;s++)f=h[s],t=f.dItem,t.periodDataItem=void 0,t.periodPercentDataItem=void 0,i=" ",l?t.value?f.text(t.value):f.text(""):(u=null,void 0!==t.type?(u=t.currentDataItem,r=this.periodValueText,t.legendPeriodValueText&&(r=t.legendPeriodValueText),t.legendPeriodValueTextR&&(r=t.legendPeriodValueTextR),u?(i=this.valueText,t.legendValueText&&(i=t.legendValueText),i=o.formatString(i,u)):r&&o.formatPeriodString&&(r=n.massReplace(r,{"[[title]]":t.title}),i=o.formatPeriodString(r,t))):i=o.formatString(this.valueText,t),r=t,u&&(r=u),c=this.valueFunction,c&&(i=c(r,i,o.periodDataItem)),this.useMarkerColorForLabels&&!u&&t.lastDataItem&&(u=t.lastDataItem),u?e=o.getBalloonColor(t,u):t.legendKeyColor&&(e=t.legendKeyColor()),t.legendColorFunction&&(e=t.legendColorFunction(r,i,t.periodDataItem,t.periodPercentDataItem)),f.text(i),!t.pattern&&(this.useMarkerColorForValues&&f.setAttr("fill",e),this.useMarkerColorForLabels)&&((f=t.legendMarker)&&(f.setAttr("fill",e),f.setAttr("stroke",e)),(t=t.legendLabel)&&t.setAttr("fill",e)))},renderFix:function(){if(!n.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="";n.remove(this.set)}})}(),function(){var n=window.AmCharts;n.formatMilliseconds=function(n,t){if(-1!=n.indexOf("fff")){var i=t.getMilliseconds(),r=String(i);10>i&&(r="00"+i);10<=i&&100>i&&(r="0"+i);n=n.replace(/fff/g,r)}return n};n.extractPeriod=function(t){var i=n.stripNumbers(t),r=1;return i!=t&&(r=Number(t.slice(0,t.indexOf(i)))),{period:i,count:r}};n.getDate=function(t,i,r){return t instanceof Date?n.newDate(t,r):i&&isNaN(t)?n.stringToDate(t,i):new Date(t)};n.daysInMonth=function(n){return new Date(n.getYear(),n.getMonth()+1,0).getDate()};n.newDate=function(n,t){return t&&-1==t.indexOf("fff")?new Date(n):new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())};n.resetDateToMin=function(t,i,r,u){void 0===u&&(u=1);var l,c,h,s,o,e,f;n.useUTC?(l=t.getUTCFullYear(),c=t.getUTCMonth(),h=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),f=t.getUTCMilliseconds(),t=t.getUTCDay()):(l=t.getFullYear(),c=t.getMonth(),h=t.getDate(),s=t.getHours(),o=t.getMinutes(),e=t.getSeconds(),f=t.getMilliseconds(),t=t.getDay());switch(i){case"YYYY":l=Math.floor(l/r)*r;c=0;h=1;f=e=o=s=0;break;case"MM":c=Math.floor(c/r)*r;h=1;f=e=o=s=0;break;case"WW":h=t>=u?h-t+u:h-(7+t)+u;f=e=o=s=0;break;case"DD":f=e=o=s=0;break;case"hh":s=Math.floor(s/r)*r;f=e=o=0;break;case"mm":o=Math.floor(o/r)*r;f=e=0;break;case"ss":e=Math.floor(e/r)*r;f=0;break;case"fff":f=Math.floor(f/r)*r}return n.useUTC?(t=new Date,t.setUTCFullYear(l,c,h),t.setUTCHours(s,o,e,f)):t=new Date(l,c,h,s,o,e,f),t};n.getPeriodDuration=function(n,t){void 0===t&&(t=1);var i;switch(n){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t};n.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};n.getMaxInterval=function(t,i){var r=n.intervals;return t>=r[i].contains?(t=Math.round(t/r[i].contains),i=r[i].nextInterval,n.getMaxInterval(t,i)):"ss"==i?r[i].nextInterval:i};n.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");n.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");n.monthNames="January February March April May June July August September October November December".split(" ");n.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");n.getWeekNumber=function(n){n=new Date(n);n.setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)};n.stringToDate=function(t,i){var r={},u=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],c=!0,s=i.indexOf("AA"),e,o,f,h;for(-1!=s&&(t.substr(s,2),"pm"==t.toLowerCase&&(c=!1)),s=i,f=0;f<u.length;f++)o=u[f].period,r[o]=0,"date"==o&&(r[o]=1);for(f=0;f<u.length;f++)(e=u[f].pattern,o=u[f].period,-1!=i.indexOf(e))&&(h=n.getFromDateString(e,t,s),i=i.replace(e,""),("KK"==e||"K"==e||"LL"==e||"L"==e)&&(c||(h+=12)),r[o]=h);return n.useUTC?(u=new Date,u.setUTCFullYear(r.year,r.month,r.date),u.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):u=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),u};n.getFromDateString=function(n,t,i){if(void 0!==t)return i=i.indexOf(n),t=String(t),t=t.substr(i,n.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=n.indexOf("M")&&t--,t};n.formatDate=function(t,i,r){var s,l,c,v,a,e,o,y,h,p,w,u,f;return r||(r=n),h=n.getWeekNumber(t),n.useUTC?(s=t.getUTCFullYear(),l=t.getUTCMonth(),c=t.getUTCDate(),v=t.getUTCDay(),a=t.getUTCHours(),e=t.getUTCMinutes(),o=t.getUTCSeconds(),y=t.getUTCMilliseconds()):(s=t.getFullYear(),l=t.getMonth(),c=t.getDate(),v=t.getDay(),a=t.getHours(),e=t.getMinutes(),o=t.getSeconds(),y=t.getMilliseconds()),p=String(s).substr(2,2),w="0"+v,i=i.replace(/W/g,h),h=a,24==h&&(h=0),u=h,10>u&&(u="0"+u),i=i.replace(/JJ/g,u),i=i.replace(/J/g,h),u=a,0===u&&(u=24,-1!=i.indexOf("H")&&(c--,0===c&&(s=new Date(t),s.setDate(s.getDate()-1),l=s.getMonth(),c=s.getDate(),s=s.getFullYear()))),t=l+1,9>l&&(t="0"+t),h=c,10>c&&(h="0"+c),f=u,10>f&&(f="0"+f),i=i.replace(/HH/g,f),i=i.replace(/H/g,u),u=a,11<u&&(u-=12),f=u,10>f&&(f="0"+f),i=i.replace(/KK/g,f),i=i.replace(/K/g,u),u=a,0===u&&(u=12),12<u&&(u-=12),f=u,10>f&&(f="0"+f),i=i.replace(/LL/g,f),i=i.replace(/L/g,u),u=e,10>u&&(u="0"+u),i=i.replace(/NN/g,u),i=i.replace(/N/g,e),e=o,10>e&&(e="0"+e),i=i.replace(/SS/g,e),i=i.replace(/S/g,o),o=y,10>o?o="00"+o:100>o&&(o="0"+o),e=y,10>e&&(e="00"+e),i=i.replace(/A/g,"@A@"),i=i.replace(/QQQ/g,o),i=i.replace(/QQ/g,e),i=i.replace(/Q/g,y),i=i.replace(/YYYY/g,"@IIII@"),i=i.replace(/YY/g,"@II@"),i=i.replace(/MMMM/g,"@XXXX@"),i=i.replace(/MMM/g,"@XXX@"),i=i.replace(/MM/g,"@XX@"),i=i.replace(/M/g,"@X@"),i=i.replace(/DD/g,"@RR@"),i=i.replace(/D/g,"@R@"),i=i.replace(/EEEE/g,"@PPPP@"),i=i.replace(/EEE/g,"@PPP@"),i=i.replace(/EE/g,"@PP@"),i=i.replace(/E/g,"@P@"),i=i.replace(/@IIII@/g,s),i=i.replace(/@II@/g,p),i=i.replace(/@XXXX@/g,r.monthNames[l]),i=i.replace(/@XXX@/g,r.shortMonthNames[l]),i=i.replace(/@XX@/g,t),i=i.replace(/@X@/g,l+1),i=i.replace(/@RR@/g,h),i=i.replace(/@R@/g,c),i=i.replace(/@PPPP@/g,r.dayNames[v]),i=i.replace(/@PPP@/g,r.shortDayNames[v]),i=i.replace(/@PP@/g,w),i=i.replace(/@P@/g,v),12>a?i.replace(/@A@/g,r.amString):i.replace(/@A@/g,r.pmString)};n.changeDate=function(t,i,r,u,f){if(n.useUTC)return n.changeUTCDate(t,i,r,u,f);var e=-1;void 0===u&&(u=!0);void 0===f&&(f=!1);!0===u&&(e=1);switch(i){case"YYYY":t.setFullYear(t.getFullYear()+r*e);u||f||t.setDate(t.getDate()+1);break;case"MM":i=t.getMonth();t.setMonth(t.getMonth()+r*e);t.getMonth()>i+r*e&&t.setDate(t.getDate()-1);u||f||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*e);break;case"WW":t.setDate(t.getDate()+r*e*7);break;case"hh":t.setHours(t.getHours()+r*e);break;case"mm":t.setMinutes(t.getMinutes()+r*e);break;case"ss":t.setSeconds(t.getSeconds()+r*e);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*e)}return t};n.changeUTCDate=function(n,t,i,r,u){var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setUTCFullYear(n.getUTCFullYear()+i*f);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"MM":t=n.getUTCMonth();n.setUTCMonth(n.getUTCMonth()+i*f);n.getUTCMonth()>t+i*f&&n.setUTCDate(n.getUTCDate()-1);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"DD":n.setUTCDate(n.getUTCDate()+i*f);break;case"WW":n.setUTCDate(n.getUTCDate()+i*f*7);break;case"hh":n.setUTCHours(n.getUTCHours()+i*f);break;case"mm":n.setUTCMinutes(n.getUTCMinutes()+i*f);break;case"ss":n.setUTCSeconds(n.getUTCSeconds()+i*f);break;case"fff":n.setUTCMilliseconds(n.getUTCMilliseconds()+i*f)}return n}}(),function(){var n=window.AmCharts;n.AmRectangularChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){n.AmRectangularChart.base.construct.call(this,t);this.theme=t;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;n.applyTheme(this,t,"AmRectangularChart")},initChart:function(){n.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(n.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),n.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var i={},n,t,r,u;if("xy"==this.type){for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}else{for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,o=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,e=0;e<f.length;e++)f[e].handleSynchronization(),n=this.getAxisBounds(f[e],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));o.left&&i<t&&(this.marginLeft=Math.round(-i+t),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));o.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));o.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));o.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var t=this,r,i,u,o;if(!t.zbSet){r=t.container.set();t.zoomButtonSet.push(r);var f=t.color,h=t.fontSize,a=t.zoomOutButtonImageSize,l=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),v=t.langObj.zoomOutText||t.zoomOutText,e=t.zoomOutButtonColor,c=t.zoomOutButtonAlpha,i=t.zoomOutButtonFontSize,s=t.zoomOutButtonPadding;for(isNaN(i)||(h=i),(i=t.zoomOutButtonFontColor)&&(f=i),i=t.zoomOutButton,i&&(i.fontSize&&(h=i.fontSize),i.color&&(f=i.color),i.backgroundColor&&(e=i.backgroundColor),isNaN(i.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=i.backgroundAlpha)),o=i=0,o=t.pathToImages,l&&((n.isAbsolute(l)||void 0===o)&&(o=""),u=t.container.image(o+l+t.extension,0,0,a,a),n.setCN(t,u,"zoom-out-image"),r.push(u),u=u.getBBox(),i=u.width+5),void 0!==v&&(f=n.text(t.container,v,f,t.fontFamily,h,"start"),n.setCN(t,f,"zoom-out-label"),h=f.getBBox(),o=u?u.height/2-3:h.height/2,f.translate(i,o),r.push(f)),u=r.getBBox(),f=1,n.isModern||(f=0),e=n.rect(t.container,u.width+2*s+5,u.height+2*s-2,e,1,1,e,f),e.setAttr("opacity",c),e.translate(-s,-s),n.setCN(t,e,"zoom-out-bg"),r.push(e),e.toBack(),t.zbBG=e,u=e.getBBox(),r.translate(t.marginLeftReal+t.plotAreaWidth-u.width+s,t.marginTopReal+s),r.hide(),r.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB();t.clickZB()}),c=0;c<r.length;c++)r[c].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(r.setAttr("tabindex",t.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(n){13==n.keyCode&&t.clickZB()}));t.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var i=this.dx,u=this.dy,e=this.marginLeftReal,s=this.marginTopReal,r=this.plotAreaWidth-1,o=this.plotAreaHeight-1,t=this.plotAreaFillColors,f=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof f&&(f=f[0]);t=n.polygon(this.container,[0,r,r,0,0],[0,0,o,o,0],t,f,1,h,c,this.plotAreaGradientAngle);n.setCN(this,t,"plot-area");t.translate(e+i,s+u);this.set.push(t);0!==i&&0!==u&&(t=this.plotAreaFillColors,"object"==typeof t&&(t=t[0]),t=n.adjustLuminosity(t,-.15),r=n.polygon(this.container,[0,i,r+i,r,0],[0,u,u,0,0],t,f,1,h,c),n.setCN(this,r,"plot-area-bottom"),r.translate(e,s+o),this.set.push(r),i=n.polygon(this.container,[0,0,i,i,0],[0,o,o+u,u,0],t,f,1,h,c),n.setCN(this,i,"plot-area-left"),i.translate(e,s),this.set.push(i));(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);var i=this.marginLeftReal,r=this.marginTopReal,n=n-i-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t);this.plotBalloonsSet.translate(i,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=n);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,t,n=0;n<i.length;n++)t=i[n],this.setAxisRenderers(t),this.updateObjectSize(t)},setAxisRenderers:function(t){t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.axisItemRenderer=n.RecItem;t.marginsChanged=!0},updateGraphs:function(){for(var i=this.graphs,t,n=0;n<i.length;n++)t=i[n],t.index=n,t.rotate=this.rotate,this.updateObjectSize(t)},updateObjectSize:function(n){n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=n.processObject(t,n.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){n.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())},handleCursorValueZoom:function(){},addTrendLine:function(n){this.trendLines.push(n)},zoomOutValueAxes:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoomOut()},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var r=n.position,i=n.scrollbarHeight+n.offset;n.enabled&&("top"==r?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i)},getScrollbarPosition:function(n,t,i){var r="bottom",u="top";n.oppositeAxis||(u=r,r="top");n.position=t?"bottom"==i||"left"==i?r:u:"top"==i||"right"==i?r:u},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;n&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());(t=this.zbSet)&&(this.zoomButtonSet.push(t),n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(t){n.AmRectangularChart.base.handleReleaseOutside.call(this,t);(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){n.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){n.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(n){this.relativeZoomValueAxes(n.target.valueAxes,n.relativeStart,n.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(n){if(n&&n.enabled){var t=n.valueAxes[0],i=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-i,i=1-t.relativeEnd);n.percentZoom(i,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);(n=this.chartCursor)&&n.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(n,t){var i=n.relativeStart,r=n.relativeEnd;if(i>r)var u=i,i=r,r=u;this.relativeZoomValueAxes(t,i,r);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,r){var u,f,e;if(this.hideBalloonReal(),i=n.fitToBounds(i,0,1),r=n.fitToBounds(r,0,1),i>r&&(u=i,i=r,r=u),u=1/this.maxZoomFactor,f=n.getDecimals(u)+4,r-i<u&&(r=i+(r-i)/2,i=r-u/2,r+=u/2,1<r&&(i-=r-1,r=1),0>i&&(i=0,r=u)),i=n.roundTo(i,f),r=n.roundTo(r,f),u=!1,t){for(f=0;f<t.length;f++)e=t[f].zoomToRelativeValues(i,r,!0),e&&(u=e);this.showZB()}return u},addChartCursor:function(t){n.callMethod("destroy",[this.chartCursor]);t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide));this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(n){for(var r=this.valueAxes,i,t=0;t<r.length;t++)n.panning||(i=r[t],i&&i.showBalloon&&i.showBalloon(n.x,n.y))},handleCursorZoom:function(n){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,r=this.endX0,u=this.endY0,i=this.startY0,f=n.startX,e=n.endX,o=n.startY,s=n.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(t+f*(r-t),t+e*(r-t),i+o*(u-i),i+s*(u-i),n)}},handleCursorHide:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].hideBalloon();for(t=this.graphs,n=0;n<t.length;n++)t[n].hideBalloonReal()}})}(),function(){var n=window.AmCharts;n.AmSerialChart=n.Class({inherits:n.AmRectangularChart,construct:function(t){this.type="serial";n.AmSerialChart.base.construct.call(this,t);this.cname="AmSerialChart";this.theme=t;this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;var i=new n.CategoryAxis(t);i.chart=this;this.categoryAxis=i;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;n.applyTheme(this,t,this.cname)},initChart:function(){n.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged?this.parseData():this.onDataUpdated();this.drawGraphs=!0},onDataUpdated:function(){for(var u=this.countColumns(),n=this.chartData,r=this.graphs,i,t=0;t<r.length;t++)i=r[t],i.data=n,i.columnCount=u;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){var u,t,i,o,r,f,e;if(this.synchronizeGrid&&(u=this.valueAxes,0<u.length)){for(o=0,i=0;i<u.length;i++)t=u[i],o<t.gridCountReal&&(o=t.gridCountReal);for(r=!1,i=0;i<u.length;i++)(t=u[i],t.gridCountReal<o)&&(f=(o-t.gridCountReal)/2,e=r=f,0!=f-Math.round(f)&&(r-=.5,e+=.5),0<=t.min&&0>t.min-r*t.step&&(e+=r,r=0),0>=t.max&&0<t.max+e*t.step&&(r+=e,e=0),f=n.getDecimals(t.step),t.minimum=n.roundTo(t.min-r*t.step,f),t.maximum=n.roundTo(t.max+e*t.step,f),t.setStep=t.step,r=t.strictMinMax=!0);for(r&&this.updateAfterValueZoom(),i=0;i<u.length;i++)t=u[i],t.minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}},handleWheelReal:function(n,t){var e,o;if(!this.wheelBusy){var s=this.categoryAxis,u=s.parseDates,r=s.minDuration(),i=1,f=1;this.mouseWheelZoomEnabled?t||(i=-1):t&&(i=-1);o=this.chartCursor;o&&(e=o.mouseX,o=o.mouseY,i!=f&&(e=this.rotate?o/this.plotAreaHeight:e/this.plotAreaWidth,i*=e,f*=1-e),e=.05*(this.end-this.start),u&&(e=.05*(this.endTime-this.startTime)/r),1>e&&(e=1),i*=e,f*=e,(!u||s.equalSpacing)&&(i=Math.round(i),f=Math.round(f)));o=this.chartData.length;s=this.lastTime;e=this.firstTime;0>n?u?(o=this.endTime-this.startTime,u=this.startTime+i*r,r=this.endTime+f*r,0<f&&0<i&&r>=s&&(r=s,u=s-o),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&this.end>=o-1&&(i=f=0),u=this.start+i,r=this.end+f,this.zoomToIndexes(u,r)):u?(o=this.endTime-this.startTime,u=this.startTime-i*r,r=this.endTime-f*r,0<f&&0<i&&u<=e&&(u=e,r=e+o),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&1>this.start&&(i=f=0),u=this.start-i,r=this.end-f,this.zoomToIndexes(u,r))}},validateData:function(t){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);n.AmSerialChart.base.validateData.call(this)},drawChart:function(){var r,u,t,i;0<this.realWidth&&0<this.realHeight?(n.AmSerialChart.base.drawChart.call(this),r=this.chartData,n.ifArray(r)&&(u=this.chartScrollbar,u&&(this.marginsUpdated||!this.autoMargins)&&u.draw(),(u=this.valueScrollbar)&&u.draw(),u=r.length-1,t=this.categoryAxis,t.parseDates&&!t.equalSpacing?(t=this.startTime,i=this.endTime,isNaN(t)||isNaN(i))&&(t=this.firstTime,i=this.lastTime):(t=this.start,i=this.end,(isNaN(t)||isNaN(i))&&(i=t=NaN),isNaN(t)&&(isNaN(this.startTime)||(t=this.getClosestIndex(r,"time",this.startTime,!0,0,r.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(r,"time",this.endTime,!1,0,r.length))),(isNaN(t)||isNaN(i))&&(t=0,i=u)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(t,i))):this.cleanChart()},cleanChart:function(){n.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(n,t,i){n.chart=this;n.id=i;n.rotate=t;n.setOrientation(!this.rotate);n.init();this.setAxisRenderers(n);this.updateObjectSize(n)},updateValueAxes:function(){var u,i,r,t;for(n.AmSerialChart.base.updateValueAxes.call(this),u=this.valueAxes,i=0;i<u.length;i++)r=u[i],t=this.rotate,r.rotate=t,r.setOrientation(t),t=this.categoryAxis,(!t.startOnAxis||t.parseDates)&&(r.expandMinMax=!0)},getStartTime:function(t){var i=this.categoryAxis;return n.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=n.extractPeriod(this.categoryAxis.minPeriod);return n.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){n.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate));(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){n.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(n,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(n,t),isNaN(n)&&this.zoomOutValueAxes()):this.indexZoom(n,t);(i=this.chartCursor)&&(i.pan||i.hideCursorReal());this.updateLegendValues()},timeZoom:function(t,i){var u=this.maxSelectedTime,e,r;if(isNaN(u)||(i!=this.endTime&&i-t>u&&(t=i-u),t!=this.startTime&&i-t>u&&(i=t+u)),r=this.minSelectedTime,0<r&&i-t<r&&(e=Math.round(t+(i-t)/2),r=Math.round(r/2),t=e-r,i=e+r),r=this.chartData,e=this.categoryAxis,n.ifArray(r)&&(t!=this.startTime||i!=this.endTime)){var f=e.minDuration(),s=this.firstTime,o=this.lastTime;t||(t=s,isNaN(u)||(t=o-u));i||(i=o);t>o&&(t=o);i<s&&(i=s);t<s&&(t=s);i>o&&(i=o);i<t&&(i=t+f);i-t<f/5&&(i<o?i=t+f/5:t=i-f/5);this.startTime=t;this.endTime=i;u=r.length-1;f=this.getClosestIndex(r,"time",t,!0,0,u);r=this.getClosestIndex(r,"time",i,!1,f,u);e.timeZoom(t,i);e.zoom(f,r);this.start=n.fitToBounds(f,0,u);this.end=n.fitToBounds(r,0,u);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.syncGrid();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var i,t=this.categoryAxis;t&&t.parseDates&&!t.equalSpacing&&(this.startTime>this.firstTime&&(i=!0),this.endTime<this.lastTime&&(i=!0));0<this.start&&(i=!0);this.end<this.chartData.length-1&&(i=!0);(t=this.valueAxes)&&(t=t[0],isNaN(t.relativeStart)||(0!==n.roundTo(t.relativeStart,3)&&(i=!0),1!=n.roundTo(t.relativeEnd,3)&&(i=!0)));n.AmSerialChart.base.showZB.call(this,i)},updateAfterValueZoom:function(){n.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(n,t){var r=this.maxSelectedSeries,i=!1,u;isNaN(r)||(t!=this.end&&t-n>r&&(n=t-r,i=!0),n!=this.start&&t-n>r&&(t=n+r,i=!0));i&&(i=this.chartScrollbar)&&i.dragger&&(u=i.dragger.getBBox(),i.maxWidth=u.width,i.maxHeight=u.height);(n!=this.start||t!=this.end)&&(i=this.chartData.length-1,isNaN(n)&&(n=0,isNaN(r)||(n=i-r)),isNaN(t)&&(t=i),t<n&&(t=n),t>i&&(t=i),n>i&&(n=i-1),0>n&&(n=0),this.start=n,this.end=t,this.categoryAxis.zoom(n,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==n||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){var r,i,t;for(n.AmSerialChart.base.updateGraphs.call(this),r=this.graphs,i=0;i<r.length;i++)t=r[i],t.columnWidthReal=this.columnWidth,t.categoryAxis=this.categoryAxis,n.isString(t.fillToGraph)&&(t.fillToGraph=this.graphsById[t.fillToGraph])},zoomAxesAndGraphs:function(){n.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){var i,r,u,t,f;if(0!==this.depth3D||0!==this.angle){for(r=this.graphs,this.columnsArray=[],i=0;i<r.length;i++)if(u=r[i],t=u.columnsArray,t)for(f=0;f<t.length;f++)this.columnsArray.push(t[f]);if(this.columnsArray.sort(this.compareDepth),r=this.columnsSet,0<this.columnsArray.length){for(t=this.container.set(),this.columnSet.push(t),i=0;i<this.columnsArray.length;i++)t.push(this.columnsArray[i].column.set);u&&t.translate(u.x,u.y);this.columnsSet=t}n.remove(r)}},compareDepth:function(n,t){return n.depth>t.depth?1:-1},zoomScrollbar:function(){var n=this.chartScrollbar,i=this.categoryAxis,t;n&&(this.zoomedByScrollbar||(t=n.dragger,t&&t.stop()),this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?n.timeZoom(this.startTime,this.endTime):n.zoom(this.start,this.end));this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){for(var r=this.trendLines,t,i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.TrendLine,this.theme),r[i]=t,t.chart=this,t.id||(t.id="trendLineAuto"+i+"_"+(new Date).getTime()),n.isString(t.valueAxis)&&(t.valueAxis=this.getValueAxisById(t.valueAxis)),t.valueAxis||(t.valueAxis=this.valueAxes[0]),t.categoryAxis=this.categoryAxis},countColumns:function(){for(var t=0,h=this.valueAxes.length,o=this.graphs.length,n,i,f=!1,r,e,s,u=0;u<h;u++){if(i=this.valueAxes[u],e=i.stackType,s=0,"100%"==e||"regular"==e)for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.tcc=1,n.valueAxis==i&&"column"==n.type&&(!f&&n.stackable&&(t++,f=!0),(!n.stackable&&n.clustered||n.newStack&&0!==s)&&t++,n.columnIndex=t-1,n.clustered||(n.columnIndex=0),s++);if("none"==e||"3d"==e){for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.valueAxis==i&&"column"==n.type&&(n.clustered?(n.tcc=1,n.newStack&&(t=0),n.hidden||(n.columnIndex=t,t++)):n.hidden||(f=!0,n.tcc=1,n.columnIndex=0));f&&0===t&&(t=1)}if("3d"==e){for(i=1,u=0;u<o;u++)n=this.graphs[u],n.newStack&&i++,n.depthCount=i,n.tcc=t;t=i}}return t},parseData:function(){n.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(n){for(var i=this.chartData,t=0;t<i.length;t++)if(i[t].category==n)return t},handleScrollbarZoom:function(n){this.zoomedByScrollbar=!0;this.zoom(n.start,n.end)},dispatchTimeZoomEvent:function(){var t;if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){t={type:"zoomed"};t.startDate=new Date(this.startTime);t.endDate=new Date(this.endTime);t.startIndex=this.start;t.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=t.startDate;this.endDate=t.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var i=this.categoryAxis,r=n.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[r];t.startValue=n.formatDate(t.startDate,i,this);t.endValue=n.formatDate(t.endDate,i,this);t.chart=this;t.target=this;this.fire(t)}},dispatchIndexZoomEvent:function(){var i,t;this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)&&(this.startIndex=this.start,this.endIndex=this.end,i=this.chartData,!n.ifArray(i)||isNaN(this.start)||isNaN(this.end)||(t={chart:this,target:this,type:"zoomed"},t.startIndex=this.start,t.endIndex=this.end,t.startValue=i[this.start].category,t.endValue=i[this.end].category,this.categoryAxis.parseDates&&(this.startTime=i[this.start].time,this.endTime=i[this.end].time,t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(t)))},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(n,t,i,r,u,f){0>u&&(u=0);f>n.length-1&&(f=n.length-1);var e=u+Math.round((f-u)/2),o=n[e][t];return i==o?e:1>=f-u?r?u:Math.abs(n[u][t]-i)<Math.abs(n[f][t]-i)?u:f:i==o?e:i<o?this.getClosestIndex(n,t,i,r,u,e):this.getClosestIndex(n,t,i,r,e,f)},zoomToIndexes:function(n,t){var r=this.chartData,i;r&&(i=r.length,0<i&&(0>n&&(n=0),t>i-1&&(t=i-1),i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoom(r[n].time,this.getEndTime(r[t].time)):this.zoom(n,t)))},zoomToDates:function(t,i){var r=this.chartData,u;r&&(this.categoryAxis.equalSpacing?(u=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length),i=n.resetDateToMin(i,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",i.getTime(),!1,0,r.length),this.zoom(u,r)):this.zoom(t.getTime(),i.getTime()))},zoomToCategoryValues:function(n,t){this.chartData&&this.zoom(this.getCategoryIndexByValue(n),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,i){var h,r,u,f;if(i){i.periodDataItem={};i.periodPercentDataItem={};var tt=["value","open","low","high","close"],it="value open low high close average sum count".split(" "),ft=i.valueAxis,et=this.chartData,w=i.numberFormatter;for(w||(w=this.nf),h=0;h<tt.length;h++){for(var s=tt[h],e=0,b=0,o=0,k=0,d,rt,c,l,a,g,ut,v,y,p,nt=this.start;nt<=this.end;nt++)f=et[nt],f&&(r=f.axes[ft.id].graphs[i.id],r&&(r.values&&(u=r.values[s],f=f.x.categoryAxis,this.rotate?(0>f||f>r.graph.height)&&(u=NaN):(0>f||f>r.graph.width)&&(u=NaN),isNaN(u)||(isNaN(d)&&(d=u),rt=u,(isNaN(c)||c>u)&&(c=u),(isNaN(l)||l<u)&&(l=u),a=n.getDecimals(e),f=n.getDecimals(u),e+=u,e=n.roundTo(e,Math.max(a,f)),b++,a=e/b)),r.percents&&(r=r.percents[s],!isNaN(r))&&(isNaN(g)&&(g=r),ut=r,(isNaN(v)||v>r)&&(v=r),(isNaN(y)||y<r)&&(y=r),p=n.getDecimals(o),u=n.getDecimals(r),o+=r,o=n.roundTo(o,Math.max(p,u)),k++,p=o/k)));e={open:d,close:rt,high:l,low:c,average:a,sum:e,count:b};o={open:g,close:ut,high:y,low:v,average:p,sum:o,count:k};t=n.formatValue(t,e,it,w,s+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);t=n.formatValue(t,o,it,this.pf,"percents\\."+s+"\\.");i.periodDataItem[s]=e;i.periodPercentDataItem[s]=o}}return n.cleanFromEmpty(t)},formatString:function(t,i,r){var o,e,u,f;if(i)return o=i.graph,void 0!==t&&(-1!=t.indexOf("[[category]]")&&(e=i.serialDataItem.category,this.categoryAxis.parseDates&&(u=this.balloonDateFormat,f=this.chartCursor,f&&f.categoryBalloonDateFormat&&(u=f.categoryBalloonDateFormat),u=n.formatDate(e,u,this),-1!=u.indexOf("fff")&&(u=n.formatMilliseconds(u,e)),e=u),t=t.replace(/\[\[category\]\]/g,String(e.replace("$","$$$")))),e=o.numberFormatter,e||(e=this.nf),u=i.graph.valueAxis,(f=u.duration)&&!isNaN(i.values.value)&&(f=n.formatDuration(i.values.value,f,"",u.durationUnits,u.maxInterval,e),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),f)),"date"==u.type&&(u=n.formatDate(new Date(i.values.value),o.dateFormat,this),f=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(f,u),u=n.formatDate(new Date(i.values.open),o.dateFormat,this),f=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(f,u)),o="value open low high close total".split(" "),u=this.pf,t=n.formatValue(t,i.percents,o,u,"percents\\."),t=n.formatValue(t,i.values,o,e,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=n.formatValue(t,i.values,["percents"],u),-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),-1!=t.indexOf("[[")&&i.graph.customData&&(t=n.formatDataContextValue(t,i.graph.customData)),t=n.AmSerialChart.base.formatString.call(this,t,i,r)),t},updateChartCursor:function(){var i,r;if(n.AmSerialChart.base.updateChartCursor.call(this),i=this.chartCursor,r=this.categoryAxis,i){var o=i.categoryBalloonAlpha,u=i.categoryBalloonColor,s=i.color;void 0===u&&(u=i.cursorColor);var f=i.valueZoomable,t=i.zoomable,e=i.valueLineEnabled;if(this.rotate?(i.vLineEnabled=e,i.hZoomEnabled=f,i.vZoomEnabled=t):(i.hLineEnabled=e,i.vZoomEnabled=f,i.hZoomEnabled=t),i.valueLineBalloonEnabled)for(e=0;e<this.valueAxes.length;e++)f=this.valueAxes[e],(t=f.balloon)||(t={}),t=n.extend(t,this.balloon,!0),t.fillColor=u,t.balloonColor=u,t.fillAlpha=o,t.borderColor=u,t.color=s,f.balloon=t;else for(t=0;t<this.valueAxes.length;t++)f=this.valueAxes[t],f.balloon&&(f.balloon=null);r&&(r.balloonTextFunction=i.categoryBalloonFunction,i.categoryLineAxis=r,r.balloonText=i.categoryBalloonText,i.categoryBalloonEnabled&&((t=r.balloon)||(t={}),t=n.extend(t,this.balloon,!0),t.fillColor=u,t.balloonColor=u,t.fillAlpha=o,t.borderColor=u,t.color=s,r.balloon=t),r.balloon&&(r.balloon.enabled=i.categoryBalloonEnabled))}},addChartScrollbar:function(t){n.callMethod("destroy",[this.chartScrollbar]);t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight);t.gridAxis=this.categoryAxis;this.chartScrollbar=t},addValueScrollbar:function(t){n.callMethod("destroy",[this.valueScrollbar]);t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i);t.gridAxis||(t.gridAxis=this.valueAxes[0]);t.valueAxes=this.valueAxes;this.valueScrollbar=t},removeChartScrollbar:function(){n.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){n.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(t){n.AmSerialChart.base.handleReleaseOutside.call(this,t);n.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){n.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){n.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),t.id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(n){this.handleValueAxisZoomReal(n,this.valueAxes)},zoomOut:function(){n.AmSerialChart.base.zoomOut.call(this);this.zoom();this.syncGrid()},getNextItem:function(n){var t=n.index,i=this.chartData,r=n.graph;if(t+1<i.length)for(t+=1;t<i.length;t++)if((n=i[t])&&(n=n.axes[r.valueAxis.id].graphs[r.id],!isNaN(n.y)))return n},handleCursorZoomReal:function(n,t,i,r,u){var o=u.target,f,e;this.rotate?(isNaN(n)||isNaN(t)||this.relativeZoomValueAxes(this.valueAxes,n,t)&&this.updateAfterValueZoom(),o.vZoomEnabled&&(f=u.start,e=u.end)):(isNaN(i)||isNaN(r)||this.relativeZoomValueAxes(this.valueAxes,i,r)&&this.updateAfterValueZoom(),o.hZoomEnabled&&(f=u.start,e=u.end));isNaN(f)||isNaN(e)||(n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoomToDates(new Date(f),new Date(e)):this.zoomToIndexes(f,e))},handleCursorZoomStarted:function(){var n=this.valueAxes;if(n){var n=n[0],t=n.relativeStart,i=n.relativeEnd;n.reversed&&(t=1-n.relativeEnd,i=1-n.relativeStart);this.rotate?(this.startX0=t,this.endX0=i):(this.startY0=t,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(t){var u,c,o,e,f,r,i,s,h,l,a;if(n.AmSerialChart.base.handleCursorMove.call(this,t),u=t.target,c=this.categoryAxis,t.panning)this.handleCursorHide(t);else if(this.chartData&&!u.isHidden){if(o=this.graphs,o&&(e=c.xToIndex(this.rotate?t.y:t.x),e=this.chartData[e])){if(u.oneBalloonOnly&&u.valueBalloonsEnabled){for(h=Infinity,f=o.length-1;0<=f;f--)if(r=o[f],r.balloon.enabled&&r.showBalloon&&!r.hidden){if(i=r.valueAxis.id,i=e.axes[i].graphs[r.id],u.showNextAvailable&&isNaN(i.y)&&(i=this.getNextItem(i),!i))continue;i=i.y;"top"==r.showBalloonAt&&(i=0);"bottom"==r.showBalloonAt&&(i=this.height);l=u.mouseX;a=u.mouseY;i=this.rotate?Math.abs(l-i):Math.abs(a-i);i<h&&(h=i,s=r)}u.mostCloseGraph=s}if(this.prevCursorItem!=e||s!=this.prevMostCloseGraph){for(h=[],f=0;f<o.length;f++){if(r=o[f],i=r.valueAxis.id,i=e.axes[i].graphs[r.id],u.showNextAvailable&&isNaN(i.y)&&(i=this.getNextItem(i),!i&&r.balloon)){r.balloon.hide();continue}s&&r!=s?(r.showGraphBalloon(i,u.pointer,!1,u.graphBulletSize,u.graphBulletAlpha),r.balloon.hide(0)):u.valueBalloonsEnabled?(r.balloon.showBullet=u.bulletsEnabled,r.balloon.bulletSize=u.bulletSize/2,t.hideBalloons||(r.showGraphBalloon(i,u.pointer,!1,u.graphBulletSize,u.graphBulletAlpha),r.balloon.set&&h.push({balloon:r.balloon,y:r.balloon.pointToY}))):(r.currentDataItem=i,r.resizeBullet(i,u.graphBulletSize,u.graphBulletAlpha))}u.avoidBalloonOverlapping&&this.arrangeBalloons(h);this.prevCursorItem=e}this.prevMostCloseGraph=s}c.showBalloon(t.x,t.y,u.categoryBalloonDateFormat,t.skip);this.updateLegendValues()}},handleCursorHide:function(t){n.AmSerialChart.base.handleCursorHide.call(this,t);t=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();t&&t.hideBalloon();t=this.graphs;for(var i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var c=t.target,i,s=t.deltaX,h=t.deltaY,r=t.delta2X,f=t.delta2Y,e,a,l;if(t=!1,this.rotate){isNaN(r)&&(r=s,t=!0);e=this.endX0;i=this.startX0;var u=e-i,e=e-u*r,o=u;t||(o=0);t=n.fitToBounds(i-u*s,0,1-o)}else isNaN(f)&&(f=h,t=!0),e=this.endY0,i=this.startY0,u=e-i,e+=u*h,o=u,t||(o=0),t=n.fitToBounds(i+u*f,0,1-o);i=n.fitToBounds(e,o,1);c.valueZoomable&&(a=this.relativeZoomValueAxes(this.valueAxes,t,i));i=this.categoryAxis;this.rotate&&(s=h,r=f);t=!1;isNaN(r)&&(r=s,t=!0);c.zoomable&&(0<Math.abs(s)||0<Math.abs(r))&&(i.parseDates&&!i.equalSpacing?(f=this.startTime0,h=this.endTime0,i=h-f,r*=i,u=this.firstTime,e=this.lastTime,o=i,t||(o=0),t=Math.round(n.fitToBounds(f-i*s,u,e-o)),r=Math.round(n.fitToBounds(h-r,u+o,e)),this.startTime!=t||this.endTime!=r)&&(l={chart:this,target:c,type:"zoomed",start:t,end:r},this.skipZoomed=!0,c.fire(l),this.zoom(t,r),l=!0):(f=this.start0,h=this.end0,i=h-f,s=Math.round(i*s),r=Math.round(i*r),u=this.chartData.length-1,t||(i=0),t=n.fitToBounds(f-s,0,u-i),i=n.fitToBounds(h-r,i,u),this.start!=t||this.end!=i)&&(this.skipZoomed=!0,c.fire({chart:this,target:c,type:"zoomed",start:t,end:i}),this.zoom(t,i),l=!0));!l&&a&&this.updateAfterValueZoom()},arrangeBalloons:function(n){var r=this.plotAreaHeight,i,t,u,f,e,o;for(n.sort(this.compareY),f=this.plotAreaWidth,e=n.length,i=0;i<e;i++)t=n[i].balloon,t.setBounds(0,0,f,r),t.restorePrevious(),t.draw(),r=t.yPos-3;for(n.reverse(),i=0;i<e;i++)t=n[i].balloon,r=t.bottom,o=t.bottom-t.yPos,0<i&&r-o<u+3&&t.setBounds&&(t.setBounds(0,u+3,f,u+o+3),t.restorePrevious(),t.draw()),t.set&&t.set.show(),u=t.bottom},compareY:function(n,t){return n.y<t.y?1:-1}})}(),function(){var n=window.AmCharts;n.Cuboid=n.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){this.set=n.set();this.container=n;this.h=Math.round(i);this.w=Math.round(t);this.dx=r;this.dy=u;this.colors=f;this.alpha=e;this.bwidth=o;this.bcolor=s;this.balpha=h;this.dashLength=v;this.topRadius=p;this.pattern=y;this.rotate=a;this.bcn=w;a?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90);this.gradientRotation=c;0===r&&0===u&&(this.cornerRadius=l);this.draw()},draw:function(){var pt=this.set,l,nt,st,ft,et,ht,y,ct,lt,bt,c,w,b,tt,ut,at,vt,yt;pt.clear();var r=this.container,d=r.chart,t=this.w,i=this.h,f=this.dx,e=this.dy,v=this.colors,u=this.alpha,o=this.bwidth,s=this.bcolor,h=this.balpha,it=this.gradientRotation,wt=this.cornerRadius,g=this.dashLength,ot=this.pattern,k=this.topRadius,rt=this.bcn,p=v,a=v;for("object"==typeof v&&(p=v[0],a=v[v.length-1]),bt=u,ot&&(u=0),ut=this.rotate,(0<Math.abs(f)||0<Math.abs(e))&&(isNaN(k)?(y=a,a=n.adjustLuminosity(p,-.2),a=n.adjustLuminosity(p,-.2),l=n.polygon(r,[0,f,t+f,t,0],[0,e,e,0,0],a,u,1,s,0,it),0<h&&(lt=n.line(r,[0,f,t+f],[0,e,e],s,h,o,g)),nt=n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],a,u,1,s,0,it),nt.translate(f,e),0<h&&(st=n.line(r,[f,f],[e,e+i],s,h,o,g)),ft=n.polygon(r,[0,0,f,f,0],[0,i,i+e,e,0],a,u,1,s,0,it),et=n.polygon(r,[t,t,t+f,t+f,t],[0,i,i+e,e,0],a,u,1,s,0,it),0<h&&(ht=n.line(r,[t,t+f,t+f,t],[0,e,i+e,i],s,h,o,g)),a=n.adjustLuminosity(y,.2),y=n.polygon(r,[0,f,t+f,t,0],[i,i+e,i+e,i,i],a,u,1,s,0,it),0<h&&(ct=n.line(r,[0,f,t+f],[i,i+e,i+e],s,h,o,g))):(ut?(at=i/2,a=f/2,yt=i/2,vt=t+f/2,w=Math.abs(i/2),c=Math.abs(f/2)):(a=t/2,at=e/2,vt=t/2,yt=i+e/2+1,c=Math.abs(t/2),w=Math.abs(e/2)),b=c*k,tt=w*k,.1<c&&.1<c&&(l=n.circle(r,c,p,u,o,s,h,!1,w),l.translate(a,at)),.1<b&&.1<b&&(y=n.circle(r,b,n.adjustLuminosity(p,.5),u,o,s,h,!1,tt),y.translate(vt,yt)))),u=bt,1>Math.abs(i)&&(i=0),1>Math.abs(t)&&(t=0),!isNaN(k)&&(0<Math.abs(f)||0<Math.abs(e))?(v=[p],v={fill:v,stroke:s,"stroke-width":o,"stroke-opacity":h,"fill-opacity":u},ut?(u="M0,0 L"+t+","+(i/2-i/2*k),o=" B",0<t&&(o=" A"),n.VML?(u+=o+Math.round(t-b)+","+Math.round(i/2-tt)+","+Math.round(t+b)+","+Math.round(i/2+tt)+","+t+",0,"+t+","+i,u=u+(" L0,"+i)+(o+Math.round(-c)+","+Math.round(i/2-w)+","+Math.round(c)+","+Math.round(i/2+w)+",0,"+i+",0,0")):(u+="A"+b+","+tt+",0,0,0,"+t+","+(i-i/2*(1-k))+"L0,"+i,u+="A"+c+","+w+",0,0,1,0,0"),c=90):(o=t/2-t/2*k,u="M0,0 L"+o+","+i,n.VML?(u="M0,0 L"+o+","+i,o=" B",0>i&&(o=" A"),u+=o+Math.round(t/2-b)+","+Math.round(i-tt)+","+Math.round(t/2+b)+","+Math.round(i+tt)+",0,"+i+","+t+","+i,u+=" L"+t+",0",u+=o+Math.round(t/2+c)+","+Math.round(w)+","+Math.round(t/2-c)+","+Math.round(-w)+","+t+",0,0,0"):(u+="A"+b+","+tt+",0,0,0,"+(t-t/2*(1-k))+","+i+"L"+t+",0",u+="A"+c+","+w+",0,0,1,0,0"),c=180),r=r.path(u).attr(v),r.gradient("linearGradient",[p,n.adjustLuminosity(p,-.3),n.adjustLuminosity(p,-.3),p],c),ut?r.translate(f/2,0):r.translate(0,e/2)):r=0===i?n.line(r,[0,t],[0,0],s,h,o,g):0===t?n.line(r,[0,0],[0,i],s,h,o,g):0<wt?n.rect(r,t,i,v,u,o,s,h,wt,it,g):n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],v,u,o,s,h,it,!1,g),t=isNaN(k)?0>i?[l,lt,nt,st,ft,et,ht,y,ct,r]:[y,ct,nt,st,ft,et,l,lt,ht,r]:ut?0<t?[l,r,y]:[y,r,l]:0>i?[l,r,y]:[y,r,l],n.setCN(d,r,rt+"front"),n.setCN(d,nt,rt+"back"),n.setCN(d,y,rt+"top"),n.setCN(d,l,rt+"bottom"),n.setCN(d,ft,rt+"left"),n.setCN(d,et,rt+"right"),l=0;l<t.length;l++)(nt=t[l])&&(pt.push(nt),n.setCN(d,nt,rt+"element"));ot&&r.pattern(ot,NaN,d.path)},width:function(n){isNaN(n)&&(n=0);this.w=Math.round(n);this.draw()},height:function(n){isNaN(n)&&(n=0);this.h=Math.round(n);this.draw()},animateHeight:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rh=r.h;r.frame=0;r.height(1);setTimeout(function(){r.updateHeight.call(r)},1e3/n.updateRate)},updateHeight:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/n.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rw=r.w;r.frame=0;r.width(1);setTimeout(function(){r.updateWidth.call(r)},1e3/n.updateRate)},updateWidth:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/n.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var n=window.AmCharts;n.CategoryAxis=n.Class({inherits:n.AxisBase,construct:function(t){this.cname="CategoryAxis";n.CategoryAxis.base.construct.call(this,t);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;n.applyTheme(this,t,this.cname)},draw:function(){var l,t,a,k,nt,tt,p,ut,ft;if(n.CategoryAxis.base.draw.call(this),this.generateDFObject(),l=this.chart.chartData,this.data=l,this.labelRotationR=this.labelRotation,this.type=null,n.ifArray(l)){a=this.chart;"scrollbar"!=this.id?(n.setCN(a,this.set,"category-axis"),n.setCN(a,this.labelsSet,"category-axis"),n.setCN(a,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var e=this.start,w=this.labelFrequency,g=0,r=this.end-e+1,v=this.gridCountR,i=this.showFirstLabel,y=this.showLastLabel,c,o="",o=n.extractPeriod(this.minPeriod),p=n.getPeriodDuration(o.period,o.count),h,b,it,s,f,rt=this.rotate,u=this.firstDayOfWeek,d=this.boldPeriodBeginning;if(t=n.resetDateToMin(new Date(l[l.length-1].time+1.05*p),this.minPeriod,1,u).getTime(),this.firstTime=a.firstTime,this.endTime>t&&(this.endTime=t),f=this.minorGridEnabled,b=this.gridAlpha,k=0,nt=0,this.widthField)for(t=this.start;t<=this.end;t++)(s=this.data[t])&&(tt=Number(this.data[t].dataContext[this.widthField]),isNaN(tt)||(k+=tt,s.widthValue=tt));if(this.parseDates&&!this.equalSpacing)this.lastTime=l[l.length-1].time,this.maxTime=n.resetDateToMin(new Date(this.lastTime+1.05*p),this.minPeriod,1,u).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(g=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,t=this.choosePeriod(0),w=t.period,h=t.count,t=n.getPeriodDuration(w,h),t<p&&(w=o.period,h=o.count,t=p),b=w,"WW"==b&&(b="DD"),this.currentDateFormat=this.dateFormatsObject[b],this.stepWidth=this.getStepWidth(r),v=Math.ceil(this.timeDifference/t)+1,o=n.resetDateToMin(new Date(this.startTime-t),w,h,u).getTime(),this.cellWidth=this.getStepWidth(r),r=Math.round(o/t),e=-1,r/2==Math.round(r/2)&&(e=-2,o-=t),r=this.start,r/2==Math.round(r/2)&&r--,0>r&&(r=0),nt=this.end+2,nt>=this.data.length&&(nt=this.data.length),l=!1,l=!i,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),tt=r,this.data[r].time!=n.resetDateToMin(new Date(this.data[r].time),w,h,u).getTime())for(p=0,ut=o,t=r;t<nt;t++)s=this.data[t].time,this.checkPeriodChange(w,h,s,ut)&&(p++,2<=p&&(tt=t,t=nt),ut=s);if(f&&1<h&&(s=this.chooseMinorFrequency(h),n.getPeriodDuration(w,s)),0<this.gridCountR)for(t=r;t<nt;t++)(s=this.data[t].time,this.checkPeriodChange(w,h,s,o)&&t>=tt)&&(r=this.getCoordinate(t-this.start),f=!1,this.nextPeriod[b]&&(f=this.checkPeriodChange(this.nextPeriod[b],1,s,o,b))&&n.resetDateToMin(new Date(s),this.nextPeriod[b],1,u).getTime()!=s&&(f=!1),p=!1,f&&this.markPeriodChange?(f=this.dateFormatsObject[this.nextPeriod[b]],p=!0):f=this.dateFormatsObject[b],o=n.formatDate(new Date(s),f,a),(t!=e||i)&&(t!=v||y)||(o=" "),l?l=!1:(d||(p=!1),r-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(o=this.labelFunction(o,new Date(s),this,w,h,it)),this.boldLabels&&(p=!0),c=new this.axisItemRenderer(this,r,o,void 0,void 0,void 0,void 0,p),f=c.graphics(),this.pushAxisItem(c),f=f.getBBox().width,n.isModern||(f-=r),this.previousPos=r+f)),it=o=s)}}else if(this.cellWidth=this.getStepWidth(r),r<v&&(v=r),g+=this.start,this.stepWidth=this.getStepWidth(r),0<v)for(u=Math.floor(r/v),s=this.chooseMinorFrequency(u),r=g,r/2==Math.round(r/2)&&r--,0>r&&(r=0),d=0,this.widthField&&(r=this.start),this.end-r+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),t=r;t<=this.end+2;t++){if(v=!1,0<=t&&t<this.data.length?(h=this.data[t],o=h.category,v=h.forceShow):o="",f&&!isNaN(s))if(t/s==Math.round(t/s)||v)t/u==Math.round(t/u)||v||(this.gridAlpha=this.minorGridAlpha,o=void 0);else continue;else if(t/u!=Math.round(t/u)&&!v)continue;r=this.getCoordinate(t-g);v=0;"start"==this.gridPosition&&(r-=this.cellWidth/2,v=this.cellWidth/2);c=!0;it=v;"start"==this.tickPosition&&(it=0,c=!1,v=0);(t!=e||i)&&(t!=this.end||y)||(o=void 0);Math.round(d/w)!=d/w&&(o=void 0);d++;l=this.cellWidth;rt&&(l=NaN,this.ignoreAxisWidth||!a.autoMargins)&&(l="right"==this.position?a.marginRight:a.marginLeft,l-=this.tickLength+10);this.labelFunction&&h&&(o=this.labelFunction(o,h,this));o=n.fixBrakes(o);p=!1;this.boldLabels&&(p=!0);t>this.end&&"start"==this.tickPosition&&(o=" ");this.rotate&&this.inside&&(v-=2);isNaN(h.widthValue)||(h.percentWidthValue=h.widthValue/k*100,l=this.rotate?this.height*h.widthValue/k:this.width*h.widthValue/k,r=nt,nt+=l,v=l/2);c=new this.axisItemRenderer(this,r,o,c,l,v,void 0,p,it,!1,h.labelColor,h.className);c.serialDataItem=h;this.pushAxisItem(c);this.gridAlpha=b}for(t=i=0;t<this.data.length;t++)(s=this.data[t])&&(this.parseDates&&!this.equalSpacing?(y=s.time,e=this.cellWidth,"MM"==this.minPeriod&&(e=864e5*n.daysInMonth(new Date(y))*this.stepWidth,s.cellWidth=e),y=Math.round((y-this.startTime)*this.stepWidth+e/2)):y=this.getCoordinate(t-g),s.x[this.id]=y);if(this.widthField)for(t=this.start;t<=this.end;t++)s=this.data[t],e=s.widthValue,s.percentWidthValue=e/k*100,this.rotate?(y=this.height*e/k/2+i,i=this.height*e/k+i):(y=this.width*e/k/2+i,i=this.width*e/k+i),s.x[this.id]=y;for(k=this.guides.length,t=0;t<k;t++)(i=this.guides[t],u=u=u=f=e=NaN,y=i.above,i.toCategory&&(u=a.getCategoryIndexByValue(i.toCategory),isNaN(u)||(e=this.getCoordinate(u-g),i.expand&&(e+=this.cellWidth/2),c=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(c,y))),i.category&&(u=a.getCategoryIndexByValue(i.category),isNaN(u)||(f=this.getCoordinate(u-g),i.expand&&(f-=this.cellWidth/2),u=(e-f)/2,c=new this.axisItemRenderer(this,f,i.label,!0,NaN,u,i),this.pushAxisItem(c,y))),d=a.dataDateFormat,i.toDate&&(!d||i.toDate instanceof Date||(i.toDate=i.toDate.toString()+" |"),i.toDate=n.getDate(i.toDate,d),this.equalSpacing?(u=a.getClosestIndex(this.data,"time",i.toDate.getTime(),!1,0,this.data.length-1),isNaN(u)||(e=this.getCoordinate(u-g))):e=(i.toDate.getTime()-this.startTime)*this.stepWidth,c=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(c,y)),i.date&&(!d||i.date instanceof Date||(i.date=i.date.toString()+" |"),i.date=n.getDate(i.date,d),this.equalSpacing?(u=a.getClosestIndex(this.data,"time",i.date.getTime(),!1,0,this.data.length-1),isNaN(u)||(f=this.getCoordinate(u-g))):f=(i.date.getTime()-this.startTime)*this.stepWidth,u=(e-f)/2,c=!0,i.toDate&&(c=!1),c="H"==this.orientation?new this.axisItemRenderer(this,f,i.label,c,2*u,NaN,i):new this.axisItemRenderer(this,f,i.label,!1,NaN,u,i),this.pushAxisItem(c,y)),c&&(u=c.label)&&this.addEventListeners(u,i),0<e||0<f)&&(u=!1,this.rotate?(e<this.height||f<this.height)&&(u=!0):(e<this.width||f<this.width)&&(u=!0),u&&(e=new this.guideFillRenderer(this,f,e,i),f=e.graphics(),this.pushAxisItem(e,y),i.graphics=f,f.index=t,this.addEventListeners(f,i)));(a=a.chartCursor)&&(rt?a.fixHeight(this.cellWidth):(a.fixWidth(this.cellWidth),a.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth)));this.previousHeight=ft}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(rt=this.axisLine.set)&&rt.toFront();ft=this.getBBox().height;2<ft-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var f=this.data,e=this.chart,s=e.rotate,r=this.stepWidth,i,u,o;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/r)-this.minDuration()/2,i=e.getClosestIndex(f,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(e=Infinity,r=this.start;r<=this.end;r++)u=this.data[r],u&&(u=Math.abs(u.x[this.id]-t),u<e&&(e=u,i=r));else this.startOnAxis||(t-=r/2),i=this.start+Math.round(t/r);return i=n.fitToBounds(i,0,f.length-1),f[i]&&(o=f[i].x[this.id]),s?o>this.height+1&&i--:o>this.width+1&&i--,0>o&&i++,n.fitToBounds(i,0,f.length-1)},dateToCoordinate:function(n){return this.parseDates&&!this.equalSpacing?(n.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(n=this.chart.getClosestIndex(this.data,"time",n.getTime(),!1,0,this.data.length-1),this.getCoordinate(n-this.start)):NaN},categoryToCoordinate:function(n){if(this.chart){if(this.parseDates)return this.dateToCoordinate(new Date(n));if(n=this.chart.getCategoryIndexByValue(n),!isNaN(n))return this.getCoordinate(n-this.start)}else return NaN},coordinateToDate:function(n){return this.equalSpacing?(n=this.xToIndex(n),new Date(this.data[n].time)):new Date(this.startTime+n/this.stepWidth)},coordinateToValue:function(n){return n=this.xToIndex(n),(n=this.data[n])?this.parseDates?n.time:n.category:void 0},getCoordinate:function(n){return n*=this.stepWidth,this.startOnAxis||(n+=this.stepWidth/2),Math.round(n)},formatValue:function(t,i){return i||(i=this.currentDateFormat),this.parseDates&&(t=n.formatDate(new Date(t),i,this.chart)),t},showBalloonAt:function(n,t){return void 0===t&&(t=this.parseDates?this.dateToCoordinate(new Date(n)):this.categoryToCoordinate(n)),this.adjustBalloonCoordinate(t)},formatBalloonText:function(t,i,r){var u="",f="",s=this.chart,e=this.data[i],o;return e&&(this.parseDates?(u=n.formatDate(e.category,r,s),i=n.changeDate(new Date(e.category),this.minPeriod,1),f=n.formatDate(i,r,s),-1!=u.indexOf("fff")&&(u=n.formatMilliseconds(u,e.category),f=n.formatMilliseconds(f,i))):(this.data[i+1]&&(o=this.data[i+1]),u=n.fixNewLines(e.category),o&&(f=n.fixNewLines(o.category)))),t=t.replace(/\[\[category\]\]/g,String(u)),t.replace(/\[\[toCategory\]\]/g,String(f))},adjustBalloonCoordinate:function(n,t){var e=this.xToIndex(n),r=this.chart.chartCursor,f,i,u,o;return this.stickBalloonToCategory&&(f=this.data[e],f&&(n=f.x[this.id]+1),this.stickBalloonToStart&&(n-=this.cellWidth/2),i=0,r&&(u=r.limitToGraph,u&&(o=u.valueAxis.id,u.hidden||(i=f.axes[o].graphs[u.id].y)),this.rotate?("left"==this.position?(u&&(i-=r.width),0<i&&(i=0)):0>i&&(i=0),r.fixHLine(n,i)):("top"==this.position?(u&&(i-=r.height),0<i&&(i=0)):0>i&&(i=0),r.fixVLine(n,i)))),r&&!t&&(r.setIndex(e),this.parseDates&&r.setTimestamp(this.coordinateToDate(n).getTime())),n}})}(),function(){var n=window.AmCharts;n.AmSlicedChart=n.Class({inherits:n.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");n.AmSlicedChart.base.construct.call(this,t);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]";n.applyTheme(this,t,"AmSlicedChart")},initChart:function(){n.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(n){var r=n.type,t=n.dataItem,u=this.legend,i;if(t.wedge&&t){i=t.hidden;n=n.event;switch(r){case"clickMarker":i||u.switchable||this.clickSlice(t,n);break;case"clickLabel":i||this.clickSlice(t,n,!1);break;case"rollOverItem":i||this.rollOverSlice(t,!1,n);break;case"rollOutItem":i||this.rollOutSlice(t,n);break;case"hideItem":this.hideSlice(t,n);break;case"showItem":this.showSlice(t,n)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var n=this.legend;n&&n.invalidateSize()},addEventListeners:function(n,t){var i=this;n.mouseover(function(n){i.rollOverSlice(t,!0,n)}).mouseout(function(n){i.rollOutSlice(t,n)}).touchend(function(n){i.rollOverSlice(t,n)}).mouseup(function(n){i.clickSlice(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},formatString:function(t,i,r){t=n.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var u=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=n.formatValue(t,i,["percents"],this.pf),t=n.massReplace(t,{"[[title]]":i.title,"[[description]]":i.description}),this.pf.precision=u,-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),t=r?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},startSlices:function(){for(var n=0;n<this.chartData.length;n++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(n):this.startSlice(this.chartData[n])},setStartTO:function(n){var t=this;n=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*n);t.timeOuts.push(n)},pullSlices:function(n){for(var r=this.chartData,i,t=0;t<r.length;t++)i=r[t],i.pulled&&this.pullSlice(i,1,n)},startSequenced:function(){for(var t=this.chartData,n=0;n<t.length;n++)if(!t[n].started){this.startSlice(this.chartData[n]);break}},startSlice:function(n){n.started=!0;var t=n.wedge,i=this.startDuration,r=n.labelSet;t&&0<i&&(0<n.alpha&&t.show(),t.translate(n.startX,n.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},i,this.startEffect));r&&0<i&&(0<n.alpha&&r.show(),r.translate(n.startX,n.startY),r.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){for(var r=this.chartData,n,i,t=0;t<r.length;t++)n=r[t],0<n.alpha&&(i=n.label,i&&i.show(),(n=n.tick)&&n.show())},showSlice:function(n){isNaN(n)?n.hidden=!1:this.chartData[n].hidden=!1;this.invalidateVisibility()},hideSlice:function(n){isNaN(n)?n.hidden=!0:this.chartData[n].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(t,i,r){var e,o,u,f;isNaN(t)||(t=this.chartData[t]);clearTimeout(this.hoverInt);t.hidden||(this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha}),e=t.balloonX,o=t.balloonY,t.pulled&&(e+=t.pullX,o+=t.pullY),u=this.formatString(this.balloonText,t,!0),f=this.balloonFunction,f&&(u=f(t,u)),f=n.adjustLuminosity(t.color,-.15),u?this.showBalloon(u,f,i,e,o):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:r}))},rollOutSlice:function(n,t){isNaN(n)||(n=this.chartData[n]);n.wedge&&n.wedge.attr({opacity:1});this.hideBalloon();this.fire({type:"rollOutSlice",dataItem:n,chart:this,event:t})},clickSlice:function(t,i,r){this.checkTouchDuration(i)&&(isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),n.getURL(t.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:t,chart:this,event:i}))},handleRightClick:function(n,t){isNaN(n)||(n=this.chartData[n]);this.fire({type:"rightClickSlice",dataItem:n,chart:this,event:t})},drawTicks:function(){for(var u=this.chartData,t,i,r=0;r<u.length;r++)t=u[r],t.label&&!t.skipTick&&(i=t.ty,i=n.line(this.container,[t.tx0,t.tx,t.tx2],[t.ty0,i,i],this.labelTickColor,this.labelTickAlpha),n.setCN(this,i,this.type+"-tick"),n.setCN(this,i,t.className,!0),t.tick=i,t.wedge.push(i),"AmFunnelChart"==this.cname&&i.toBack())},initialStart:function(){var n=this,t=n.startDuration,i=setTimeout(function(){n.showLabels.call(n)},1e3*t);n.timeOuts.push(i);n.chartCreated?n.pullSlices(!0):(n.startSlices(),0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices(!0))},pullSlice:function(n,t,i){var r=this.pullOutDuration;!0===i&&(r=0);(i=n.wedge)&&(0<r?(i.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect),n.labelSet&&n.labelSet.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect)):(n.labelSet&&n.labelSet.translate(t*n.pullX,t*n.pullY),i.translate(t*n.pullX,t*n.pullY)));1==t?(n.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(n.index),n={type:"pullOutSlice",dataItem:n,chart:this}):(n.pulled=!1,n={type:"pullInSlice",dataItem:n,chart:this});this.fire(n)},pullInAll:function(n){for(var i=this.chartData,t=0;t<this.chartData.length;t++)t!=n&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(){for(var t=this.chartData,n=0;n<t.length;n++)t[n].pulled||this.pullSlice(t[n],1)},parseData:function(){var o=[],s,f,e,r,t,i,u;if(this.chartData=o,s=this.dataProvider,isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==s){for(f=s.length,e=0,r=0;r<f;r++)t={},u=s[r],t.dataContext=u,null!==u[this.valueField]&&(t.value=Number(u[this.valueField])),(i=u[this.titleField])||(i=""),t.title=i,t.pulled=n.toBoolean(u[this.pulledField],!1),(i=u[this.descriptionField])||(i=""),t.description=i,t.labelRadius=Number(u[this.labelRadiusField]),t.switchable=!0,t.className=u[this.classNameField],t.url=u[this.urlField],i=u[this.patternField],!i&&this.patterns&&(i=this.patterns[r]),t.pattern=i,t.visibleInLegend=n.toBoolean(u[this.visibleInLegendField],!0),i=u[this.alphaField],t.alpha=void 0!==i?Number(i):this.alpha,i=u[this.colorField],void 0!==i&&(t.color=i),t.labelColor=n.toColor(u[this.labelColorField]),e+=t.value,t.hidden=!1,o[r]=t;for(r=s=0;r<f;r++)t=o[r],t.percents=t.value/e*100,t.percents<this.groupPercent&&s++;for(1<s&&(this.groupValue=0,this.removeSmallSlices(),o.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/e*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),f=this.baseColor,f||(f=this.pieBaseColor),e=this.brightnessStep,e||(e=this.pieBrightnessStep),r=0;r<o.length;r++)f?i=n.adjustLuminosity(f,r*e/100):(i=this.colors[r],void 0===i&&(i=n.randomColor())),void 0===o[r].color&&(o[r].color=i);this.recalculatePercents()}},recalculatePercents:function(){for(var i=this.chartData,r=0,n,t=0;t<i.length;t++)n=i[t],!n.hidden&&0<n.value&&(r+=n.value);for(t=0;t<i.length;t++)n=this.chartData[t],n.percents=!n.hidden&&0<n.value?100*n.value/r:0},removeSmallSlices:function(){for(var t=this.chartData,n=t.length-1;0<=n;n--)t[n].percents<this.groupPercent&&(this.groupValue+=t[n].value,t.splice(n,1))},animateAgain:function(){var n=this,t,i,r;for(n.startSlices(),t=0;t<n.chartData.length;t++)i=n.chartData[t],i.started=!1,r=i.wedge,r&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY)),(r=i.labelSet)&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY));t=n.startDuration;0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices()},measureMaxLabel:function(){for(var f=this.chartData,u=0,r=0;r<f.length;r++){var i=f[r],t=this.formatString(this.labelText,i),e=this.labelFunction;e&&(t=e(i,t));i=n.text(this.container,t,this.color,this.fontFamily,this.fontSize);t=i.getBBox().width;t>u&&(u=t);i.remove()}return u}})}(),function(){var n=window.AmCharts;n.AmFunnelChart=n.Class({inherits:n.AmSlicedChart,construct:function(t){this.type="funnel";n.AmFunnelChart.base.construct.call(this,t);this.cname="AmFunnelChart";this.startX=this.startY=0;this.baseWidth="100%";this.neckHeight=this.neckWidth=0;this.rotate=!1;this.valueRepresents="height";this.pullDistance=30;this.labelPosition="center";this.labelText="[[title]]: [[value]]";this.balloonText="[[title]]: [[value]]\n[[description]]";n.applyTheme(this,t,this.cname)},drawChart:function(){var d,y,i,f,e,u,r,h,b,o,s;if(n.AmFunnelChart.base.drawChart.call(this),d=this.chartData,n.ifArray(d))if(0<this.realWidth&&0<this.realHeight){var ht=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),g=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),rt=this.container,lt=this.startDuration,a=this.rotate,nt=this.updateWidth();this.realWidth=nt;y=this.updateHeight();this.realHeight=y;var p=n.toCoordinate,ot=p(this.marginLeft,nt),ut=p(this.marginRight,nt),t=p(this.marginTop,y)+this.getTitleHeight(),p=p(this.marginBottom,y);0<ht&&0>g&&(this.neckHeight=this.neckWidth=0,a?p-=g/2:t-=g/2);var ut=nt-ot-ut,st=n.toCoordinate(this.baseWidth,ut),tt=n.toCoordinate(this.neckWidth,ut),it=y-p-t,w=n.toCoordinate(this.neckHeight,it),v=t+it-w;a&&(t=y-p,v=t-it+w);this.firstSliceY=t;n.VML&&(this.startAlpha=1);for(var c=ut/2+ot,ft=(it-w)/((st-tt)/2),et=1,l=st/2,st=(it-w)*(st+tt)/2+tt*w,k=t,ct=0,w=0;w<d.length;w++)if(i=d[w],!0!==i.hidden&&(this.showZeroSlices||0!==i.percents)){if(e=[],u=[],"height"==this.valueRepresents?r=it*i.percents/100:(h=-st*i.percents/200,b=l,r=-1/(2*ft),o=Math.pow(b,2)-4*r*h,0>o&&(o=0),r=(Math.sqrt(o)-b)/(2*r),!a&&t>=v||a&&t<=v?r=2*-h/tt:(!a&&t+r>v||a&&t-r<v)&&(f=a?Math.round(r+(t-r-v)):Math.round(r-(t+r-v)),o=f/ft,h=2*(-h-(b-o/2)*f)/tt,Infinity!=h&&(r=f+h))),h=l-r/ft,b=!1,!a&&t+r>v||a&&t-r<v?(h=tt/2,e.push(c-l,c+l,c+h,c+h,c-h,c-h),a?(f=r+(t-r-v),t<v&&(f=0),u.push(t,t,t-f,t-r,t-r,t-f,t)):(f=r-(t+r-v),t>v&&(f=0),u.push(t,t,t+f,t+r,t+r,t+f,t)),b=!0):(e.push(c-l,c+l,c+h,c-h),a?u.push(t,t,t-r,t-r):u.push(t,t,t+r,t+r)),f=rt.set(),0<ht&&0>g?(u=h/l,e=-1,a||(e=1),isNaN(et)&&(et=0),e=new n.Cuboid(rt,2*l,e*r,ht,g*et,i.color,i.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha,90,0,!1,0,i.pattern,u).set,e.translate(c-l,t-g/2*et),et*=u):e=n.polygon(rt,e,u,i.color,i.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha),n.setCN(this,f,"funnel-item"),n.setCN(this,e,"funnel-slice"),n.setCN(this,f,i.className,!0),f.push(e),this.graphsSet.push(f),a||f.toBack(),i.wedge=f,i.index=w,u=this.gradientRatio){for(o=[],s=0;s<u.length;s++)o.push(n.adjustLuminosity(i.color,u[s]));0<o.length&&e.gradient("linearGradient",o);i.pattern&&e.pattern(i.pattern,NaN,this.path)}0<lt&&(this.chartCreated||f.setAttr("opacity",this.startAlpha));this.addEventListeners(f,i);i.ty0=a?t-r/2:t+r/2;this.labelsEnabled&&this.labelText&&i.percents>=this.hideLabelsPercent&&(u=this.formatString(this.labelText,i),(e=this.labelFunction)&&(u=e(i,u)),o=i.labelColor,o||(o=this.color),e=this.labelPosition,s="left","center"==e&&(s="middle"),"left"==e&&(s="right"),""!==u&&(u=n.wrappedText(rt,u,o,this.fontFamily,this.fontSize,s,!1,this.maxLabelWidth),n.setCN(this,u,"funnel-label"),n.setCN(this,u,i.className,!0),u.node.style.pointerEvents="none",f.push(u),o=c,a?(s=t-r/2,i.ty0=s):(s=t+r/2,i.ty0=s,s<k+ct+5&&(s=k+ct+5),s>y-p&&(s=y-p)),"right"==e&&(o=ut+10+ot,i.tx0=c+(l-r/2/ft),b&&(i.tx0=c+h)),"left"==e&&(i.tx0=c-(l-r/2/ft),b&&(i.tx0=c-h),o=ot),i.label=u,i.labelX=o,i.labelY=s,i.labelHeight=u.getBBox().height,u.translate(o,s),l=u.getBBox(),k=n.rect(rt,l.width+5,l.height+5,"#ffffff",.005),k.translate(o+l.x,s+l.y),f.push(k),i.hitRect=k,ct=u.getBBox().height,k=s));(0===i.alpha||0<lt&&!this.chartCreated)&&f.hide();t=a?t-r:t+r;l=h;i.startX=n.toCoordinate(this.startX,nt);i.startY=n.toCoordinate(this.startY,y);i.pullX=n.toCoordinate(this.pullDistance,nt);i.pullY=0;i.balloonX=c;i.balloonY=i.ty0;this.accessible&&this.accessibleLabel&&(i=this.formatString(this.accessibleLabel,i),this.makeAccessible(f,i));void 0!==this.tabIndex&&f.setAttr("tabindex",this.tabIndex)}this.arrangeLabels();this.initialStart();(d=this.legend)&&d.invalidateSize()}else this.cleanChart();this.dispDUpd()},arrangeLabels:function(){for(var h=this.rotate,r=h?0:this.realHeight,f=0,c=this.chartData,l=c.length,n,e=0;e<l;e++){n=c[l-e-1];var i=n.label,o=n.labelY,u=n.labelX,s=n.labelHeight,t=o;h?r+f+5>o&&(t=r+f+5):o+s+5>r&&(t=r-5-s);r=t;f=s;i&&(i.translate(u,t),i=i.getBBox(),n.hitRect&&n.hitRect.translate(u+i.x,t+i.y));n.labelY=t;n.tx=u;n.ty=t;n.tx2=u}"center"!=this.labelPosition&&this.drawTicks()}})}(),function(){var n=window.AmCharts;n.Cuboid=n.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){this.set=n.set();this.container=n;this.h=Math.round(i);this.w=Math.round(t);this.dx=r;this.dy=u;this.colors=f;this.alpha=e;this.bwidth=o;this.bcolor=s;this.balpha=h;this.dashLength=v;this.topRadius=p;this.pattern=y;this.rotate=a;this.bcn=w;a?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90);this.gradientRotation=c;0===r&&0===u&&(this.cornerRadius=l);this.draw()},draw:function(){var pt=this.set,l,nt,st,ft,et,ht,y,ct,lt,bt,c,w,b,tt,ut,at,vt,yt;pt.clear();var r=this.container,d=r.chart,t=this.w,i=this.h,f=this.dx,e=this.dy,v=this.colors,u=this.alpha,o=this.bwidth,s=this.bcolor,h=this.balpha,it=this.gradientRotation,wt=this.cornerRadius,g=this.dashLength,ot=this.pattern,k=this.topRadius,rt=this.bcn,p=v,a=v;for("object"==typeof v&&(p=v[0],a=v[v.length-1]),bt=u,ot&&(u=0),ut=this.rotate,(0<Math.abs(f)||0<Math.abs(e))&&(isNaN(k)?(y=a,a=n.adjustLuminosity(p,-.2),a=n.adjustLuminosity(p,-.2),l=n.polygon(r,[0,f,t+f,t,0],[0,e,e,0,0],a,u,1,s,0,it),0<h&&(lt=n.line(r,[0,f,t+f],[0,e,e],s,h,o,g)),nt=n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],a,u,1,s,0,it),nt.translate(f,e),0<h&&(st=n.line(r,[f,f],[e,e+i],s,h,o,g)),ft=n.polygon(r,[0,0,f,f,0],[0,i,i+e,e,0],a,u,1,s,0,it),et=n.polygon(r,[t,t,t+f,t+f,t],[0,i,i+e,e,0],a,u,1,s,0,it),0<h&&(ht=n.line(r,[t,t+f,t+f,t],[0,e,i+e,i],s,h,o,g)),a=n.adjustLuminosity(y,.2),y=n.polygon(r,[0,f,t+f,t,0],[i,i+e,i+e,i,i],a,u,1,s,0,it),0<h&&(ct=n.line(r,[0,f,t+f],[i,i+e,i+e],s,h,o,g))):(ut?(at=i/2,a=f/2,yt=i/2,vt=t+f/2,w=Math.abs(i/2),c=Math.abs(f/2)):(a=t/2,at=e/2,vt=t/2,yt=i+e/2+1,c=Math.abs(t/2),w=Math.abs(e/2)),b=c*k,tt=w*k,.1<c&&.1<c&&(l=n.circle(r,c,p,u,o,s,h,!1,w),l.translate(a,at)),.1<b&&.1<b&&(y=n.circle(r,b,n.adjustLuminosity(p,.5),u,o,s,h,!1,tt),y.translate(vt,yt)))),u=bt,1>Math.abs(i)&&(i=0),1>Math.abs(t)&&(t=0),!isNaN(k)&&(0<Math.abs(f)||0<Math.abs(e))?(v=[p],v={fill:v,stroke:s,"stroke-width":o,"stroke-opacity":h,"fill-opacity":u},ut?(u="M0,0 L"+t+","+(i/2-i/2*k),o=" B",0<t&&(o=" A"),n.VML?(u+=o+Math.round(t-b)+","+Math.round(i/2-tt)+","+Math.round(t+b)+","+Math.round(i/2+tt)+","+t+",0,"+t+","+i,u=u+(" L0,"+i)+(o+Math.round(-c)+","+Math.round(i/2-w)+","+Math.round(c)+","+Math.round(i/2+w)+",0,"+i+",0,0")):(u+="A"+b+","+tt+",0,0,0,"+t+","+(i-i/2*(1-k))+"L0,"+i,u+="A"+c+","+w+",0,0,1,0,0"),c=90):(o=t/2-t/2*k,u="M0,0 L"+o+","+i,n.VML?(u="M0,0 L"+o+","+i,o=" B",0>i&&(o=" A"),u+=o+Math.round(t/2-b)+","+Math.round(i-tt)+","+Math.round(t/2+b)+","+Math.round(i+tt)+",0,"+i+","+t+","+i,u+=" L"+t+",0",u+=o+Math.round(t/2+c)+","+Math.round(w)+","+Math.round(t/2-c)+","+Math.round(-w)+","+t+",0,0,0"):(u+="A"+b+","+tt+",0,0,0,"+(t-t/2*(1-k))+","+i+"L"+t+",0",u+="A"+c+","+w+",0,0,1,0,0"),c=180),r=r.path(u).attr(v),r.gradient("linearGradient",[p,n.adjustLuminosity(p,-.3),n.adjustLuminosity(p,-.3),p],c),ut?r.translate(f/2,0):r.translate(0,e/2)):r=0===i?n.line(r,[0,t],[0,0],s,h,o,g):0===t?n.line(r,[0,0],[0,i],s,h,o,g):0<wt?n.rect(r,t,i,v,u,o,s,h,wt,it,g):n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],v,u,o,s,h,it,!1,g),t=isNaN(k)?0>i?[l,lt,nt,st,ft,et,ht,y,ct,r]:[y,ct,nt,st,ft,et,l,lt,ht,r]:ut?0<t?[l,r,y]:[y,r,l]:0>i?[l,r,y]:[y,r,l],n.setCN(d,r,rt+"front"),n.setCN(d,nt,rt+"back"),n.setCN(d,y,rt+"top"),n.setCN(d,l,rt+"bottom"),n.setCN(d,ft,rt+"left"),n.setCN(d,et,rt+"right"),l=0;l<t.length;l++)(nt=t[l])&&(pt.push(nt),n.setCN(d,nt,rt+"element"));ot&&r.pattern(ot,NaN,d.path)},width:function(n){isNaN(n)&&(n=0);this.w=Math.round(n);this.draw()},height:function(n){isNaN(n)&&(n=0);this.h=Math.round(n);this.draw()},animateHeight:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rh=r.h;r.frame=0;r.height(1);setTimeout(function(){r.updateHeight.call(r)},1e3/n.updateRate)},updateHeight:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/n.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rw=r.w;r.frame=0;r.width(1);setTimeout(function(){r.updateWidth.call(r)},1e3/n.updateRate)},updateWidth:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/n.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var n=window.AmCharts;n.AmSlicedChart=n.Class({inherits:n.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");n.AmSlicedChart.base.construct.call(this,t);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]";n.applyTheme(this,t,"AmSlicedChart")},initChart:function(){n.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(n){var r=n.type,t=n.dataItem,u=this.legend,i;if(t.wedge&&t){i=t.hidden;n=n.event;switch(r){case"clickMarker":i||u.switchable||this.clickSlice(t,n);break;case"clickLabel":i||this.clickSlice(t,n,!1);break;case"rollOverItem":i||this.rollOverSlice(t,!1,n);break;case"rollOutItem":i||this.rollOutSlice(t,n);break;case"hideItem":this.hideSlice(t,n);break;case"showItem":this.showSlice(t,n)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var n=this.legend;n&&n.invalidateSize()},addEventListeners:function(n,t){var i=this;n.mouseover(function(n){i.rollOverSlice(t,!0,n)}).mouseout(function(n){i.rollOutSlice(t,n)}).touchend(function(n){i.rollOverSlice(t,n)}).mouseup(function(n){i.clickSlice(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},formatString:function(t,i,r){t=n.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var u=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=n.formatValue(t,i,["percents"],this.pf),t=n.massReplace(t,{"[[title]]":i.title,"[[description]]":i.description}),this.pf.precision=u,-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),t=r?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},startSlices:function(){for(var n=0;n<this.chartData.length;n++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(n):this.startSlice(this.chartData[n])},setStartTO:function(n){var t=this;n=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*n);t.timeOuts.push(n)},pullSlices:function(n){for(var r=this.chartData,i,t=0;t<r.length;t++)i=r[t],i.pulled&&this.pullSlice(i,1,n)},startSequenced:function(){for(var t=this.chartData,n=0;n<t.length;n++)if(!t[n].started){this.startSlice(this.chartData[n]);break}},startSlice:function(n){n.started=!0;var t=n.wedge,i=this.startDuration,r=n.labelSet;t&&0<i&&(0<n.alpha&&t.show(),t.translate(n.startX,n.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},i,this.startEffect));r&&0<i&&(0<n.alpha&&r.show(),r.translate(n.startX,n.startY),r.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){for(var r=this.chartData,n,i,t=0;t<r.length;t++)n=r[t],0<n.alpha&&(i=n.label,i&&i.show(),(n=n.tick)&&n.show())},showSlice:function(n){isNaN(n)?n.hidden=!1:this.chartData[n].hidden=!1;this.invalidateVisibility()},hideSlice:function(n){isNaN(n)?n.hidden=!0:this.chartData[n].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(t,i,r){var e,o,u,f;isNaN(t)||(t=this.chartData[t]);clearTimeout(this.hoverInt);t.hidden||(this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha}),e=t.balloonX,o=t.balloonY,t.pulled&&(e+=t.pullX,o+=t.pullY),u=this.formatString(this.balloonText,t,!0),f=this.balloonFunction,f&&(u=f(t,u)),f=n.adjustLuminosity(t.color,-.15),u?this.showBalloon(u,f,i,e,o):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:r}))},rollOutSlice:function(n,t){isNaN(n)||(n=this.chartData[n]);n.wedge&&n.wedge.attr({opacity:1});this.hideBalloon();this.fire({type:"rollOutSlice",dataItem:n,chart:this,event:t})},clickSlice:function(t,i,r){this.checkTouchDuration(i)&&(isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),n.getURL(t.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:t,chart:this,event:i}))},handleRightClick:function(n,t){isNaN(n)||(n=this.chartData[n]);this.fire({type:"rightClickSlice",dataItem:n,chart:this,event:t})},drawTicks:function(){for(var u=this.chartData,t,i,r=0;r<u.length;r++)t=u[r],t.label&&!t.skipTick&&(i=t.ty,i=n.line(this.container,[t.tx0,t.tx,t.tx2],[t.ty0,i,i],this.labelTickColor,this.labelTickAlpha),n.setCN(this,i,this.type+"-tick"),n.setCN(this,i,t.className,!0),t.tick=i,t.wedge.push(i),"AmFunnelChart"==this.cname&&i.toBack())},initialStart:function(){var n=this,t=n.startDuration,i=setTimeout(function(){n.showLabels.call(n)},1e3*t);n.timeOuts.push(i);n.chartCreated?n.pullSlices(!0):(n.startSlices(),0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices(!0))},pullSlice:function(n,t,i){var r=this.pullOutDuration;!0===i&&(r=0);(i=n.wedge)&&(0<r?(i.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect),n.labelSet&&n.labelSet.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect)):(n.labelSet&&n.labelSet.translate(t*n.pullX,t*n.pullY),i.translate(t*n.pullX,t*n.pullY)));1==t?(n.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(n.index),n={type:"pullOutSlice",dataItem:n,chart:this}):(n.pulled=!1,n={type:"pullInSlice",dataItem:n,chart:this});this.fire(n)},pullInAll:function(n){for(var i=this.chartData,t=0;t<this.chartData.length;t++)t!=n&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(){for(var t=this.chartData,n=0;n<t.length;n++)t[n].pulled||this.pullSlice(t[n],1)},parseData:function(){var o=[],s,f,e,r,t,i,u;if(this.chartData=o,s=this.dataProvider,isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==s){for(f=s.length,e=0,r=0;r<f;r++)t={},u=s[r],t.dataContext=u,null!==u[this.valueField]&&(t.value=Number(u[this.valueField])),(i=u[this.titleField])||(i=""),t.title=i,t.pulled=n.toBoolean(u[this.pulledField],!1),(i=u[this.descriptionField])||(i=""),t.description=i,t.labelRadius=Number(u[this.labelRadiusField]),t.switchable=!0,t.className=u[this.classNameField],t.url=u[this.urlField],i=u[this.patternField],!i&&this.patterns&&(i=this.patterns[r]),t.pattern=i,t.visibleInLegend=n.toBoolean(u[this.visibleInLegendField],!0),i=u[this.alphaField],t.alpha=void 0!==i?Number(i):this.alpha,i=u[this.colorField],void 0!==i&&(t.color=i),t.labelColor=n.toColor(u[this.labelColorField]),e+=t.value,t.hidden=!1,o[r]=t;for(r=s=0;r<f;r++)t=o[r],t.percents=t.value/e*100,t.percents<this.groupPercent&&s++;for(1<s&&(this.groupValue=0,this.removeSmallSlices(),o.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/e*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),f=this.baseColor,f||(f=this.pieBaseColor),e=this.brightnessStep,e||(e=this.pieBrightnessStep),r=0;r<o.length;r++)f?i=n.adjustLuminosity(f,r*e/100):(i=this.colors[r],void 0===i&&(i=n.randomColor())),void 0===o[r].color&&(o[r].color=i);this.recalculatePercents()}},recalculatePercents:function(){for(var i=this.chartData,r=0,n,t=0;t<i.length;t++)n=i[t],!n.hidden&&0<n.value&&(r+=n.value);for(t=0;t<i.length;t++)n=this.chartData[t],n.percents=!n.hidden&&0<n.value?100*n.value/r:0},removeSmallSlices:function(){for(var t=this.chartData,n=t.length-1;0<=n;n--)t[n].percents<this.groupPercent&&(this.groupValue+=t[n].value,t.splice(n,1))},animateAgain:function(){var n=this,t,i,r;for(n.startSlices(),t=0;t<n.chartData.length;t++)i=n.chartData[t],i.started=!1,r=i.wedge,r&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY)),(r=i.labelSet)&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY));t=n.startDuration;0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices()},measureMaxLabel:function(){for(var f=this.chartData,u=0,r=0;r<f.length;r++){var i=f[r],t=this.formatString(this.labelText,i),e=this.labelFunction;e&&(t=e(i,t));i=n.text(this.container,t,this.color,this.fontFamily,this.fontSize);t=i.getBBox().width;t>u&&(u=t);i.remove()}return u}})}(),function(){var n=window.AmCharts;n.AmPieChart=n.Class({inherits:n.AmSlicedChart,construct:function(t){this.type="pie";n.AmPieChart.base.construct.call(this,t);this.cname="AmPieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;this.adjustPrecision=!1;this.gradientType="radial";n.applyTheme(this,t,this.cname)},drawChart:function(){var v,u,ut,f,y,i,a,k;if(n.AmPieChart.base.drawChart.call(this),v=this.chartData,n.ifArray(v)){if(0<this.realWidth&&0<this.realHeight){n.VML&&(this.startAlpha=1);var ft=this.startDuration,rt=this.container,h=this.updateWidth();this.realWidth=h;u=this.updateHeight();this.realHeight=u;var o=n.toCoordinate,f=o(this.marginLeft,h),t=o(this.marginRight,h),d=o(this.marginTop,u)+this.getTitleHeight(),s=o(this.marginBottom,u)+this.depth3D,g,nt,r,w=n.toNumber(this.labelRadius),c=this.measureMaxLabel();for(c>this.maxLabelWidth&&(c=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(w=c=0),g=void 0===this.pieX?(h-f-t)/2+f:o(this.pieX,this.realWidth),nt=void 0===this.pieY?(u-d-s)/2+d:o(this.pieY,u),r=o(this.radius,h,u),r||(h=0<=w?h-f-t-2*c:h-f-t,u=u-d-s,r=Math.min(h,u),u<h&&(r/=1-this.angle/90,r>h&&(r=h)),u=n.toCoordinate(this.pullOutRadius,r),r=(0<=w?r-1.8*(w+u):r-1.8*u)/2),r<this.minRadius&&(r=this.minRadius),u=o(this.pullOutRadius,r),d=n.toCoordinate(this.startRadius,r),o=o(this.innerRadius,r),o>=r&&(o=r-1),s=n.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(s=270<=s?270:90),s-=90,360<s&&(s-=360),h=r-r*this.angle/90,f=c=0;f<v.length;f++)t=v[f],!0!==t.hidden&&(c+=n.roundTo(t.percents,this.pf.precision));for(c=n.roundTo(c,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=c&&(this.tempPrec=this.pf.precision+1),f=0;f<v.length;f++)if(t=v[f],!0!==t.hidden&&(this.showZeroSlices||0!==t.percents)){var l=360*t.percents/100,c=Math.sin((s+l/2)/180*Math.PI),tt=h/r*-Math.cos((s+l/2)/180*Math.PI),e=this.outlineColor;if(e||(e=t.color),y=this.alpha,isNaN(t.alpha)||(y=t.alpha),e={fill:t.color,stroke:e,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":y},t.url&&(e.cursor="pointer"),e=n.wedge(rt,g,nt,s,l,r,h,o,this.depth3D,e,this.gradientRatio,t.pattern,this.path,this.gradientType),n.setCN(this,e,"pie-item"),n.setCN(this,e.wedge,"pie-slice"),n.setCN(this,e,t.className,!0),this.addEventListeners(e,t),t.startAngle=s,v[f].wedge=e,0<ft&&(this.chartCreated||e.setAttr("opacity",this.startAlpha)),t.ix=c,t.iy=tt,t.wedge=e,t.index=f,t.label=null,y=rt.set(),this.labelsEnabled&&this.labelText&&t.percents>=this.hideLabelsPercent){i=s+l/2;0>i&&(i+=360);360<i&&(i-=360);a=w;isNaN(t.labelRadius)||(a=t.labelRadius,0>a&&(t.skipTick=!0));var l=g+c*(r+a),it=nt+tt*(r+a),b,p=0;isNaN(ut)&&350<i&&1<v.length-f&&(ut=f-1+Math.floor((v.length-f)/2));0<=a?(90>=i&&0<=i?(k=0,b="start",p=8):90<=i&&180>i?(k=1,b="start",p=8):180<=i&&270>i?(k=2,b="end",p=-8):270<=i&&354>=i?(k=3,b="end",p=-8):354<=i&&(f>ut?(k=0,b="start",p=8):(k=3,b="end",p=-8)),t.labelQuarter=k):b="middle";i=this.formatString(this.labelText,t);(a=this.labelFunction)&&(i=a(t,i));a=t.labelColor;a||(a=this.color);""!==i&&(i=n.wrappedText(rt,i,a,this.fontFamily,this.fontSize,b,!1,this.maxLabelWidth),n.setCN(this,i,"pie-label"),n.setCN(this,i,t.className,!0),i.translate(l+1.5*p,it),0>w&&(i.node.style.pointerEvents="none"),i.node.style.cursor="default",t.ty=it,t.textX=l+1.5*p,y.push(i),this.axesSet.push(y),t.labelSet=y,t.label=i,this.addEventListeners(y,t));t.tx=l;t.tx2=l+p;t.tx0=g+c*r;t.ty0=nt+tt*r}l=o+(r-o)/2;t.pulled&&(l+=u);this.accessible&&this.accessibleLabel&&(it=this.formatString(this.accessibleLabel,t),this.makeAccessible(e,it));void 0!==this.tabIndex&&e.setAttr("tabindex",this.tabIndex);t.balloonX=c*l+g;t.balloonY=tt*l+nt;t.startX=Math.round(c*d);t.startY=Math.round(tt*d);t.pullX=Math.round(c*u);t.pullY=Math.round(tt*u);this.graphsSet.push(e);(0===t.alpha||0<ft&&!this.chartCreated)&&(e.hide(),y&&y.hide());s+=360*t.percents/100;360<s&&(s-=360)}0<w&&this.arrangeLabels();this.pieXReal=g;this.pieYReal=nt;this.radiusReal=r;this.innerRadiusReal=o;0<w&&this.drawTicks();this.initialStart();this.setDepths()}(v=this.legend)&&v.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){for(var i=this.chartData,t=0;t<i.length;t++){var n=i[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){for(var i=this.chartData,r=i.length,t,n=r-1;0<=n;n--)t=i[n],0!==t.labelQuarter||t.hidden||this.checkOverlapping(n,t,0,!0,0);for(n=0;n<r;n++)t=i[n],1!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,1,!1,0);for(n=r-1;0<=n;n--)t=i[n],2!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,2,!0,0);for(n=0;n<r;n++)t=i[n],3!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,3,!1,0)},checkOverlapping:function(n,t,i,r,u){var e,f,o=this.chartData,s=o.length,h=t.label;if(h){if(!0===r)for(f=n+1;f<s;f++)o[f].labelQuarter==i&&(e=this.checkOverlappingReal(t,o[f],i))&&(f=s);else for(f=n-1;0<=f;f--)o[f].labelQuarter==i&&(e=this.checkOverlappingReal(t,o[f],i))&&(f=0);!0===e&&200>u&&isNaN(t.labelRadius)&&(e=t.ty+3*t.iy,t.ty=e,h.translate(t.textX,e),this.checkOverlapping(n,t,i,r,u+1))}},checkOverlappingReal:function(t,i,r){var e=!1,f=t.label,u=i.label;return t.labelQuarter!=r||t.hidden||i.hidden||!u||(f=f.getBBox(),r={},r.width=f.width,r.height=f.height,r.y=t.ty,r.x=t.tx,t=u.getBBox(),u={},u.width=t.width,u.height=t.height,u.y=i.ty,u.x=i.tx,n.hitTest(r,u)&&(e=!0)),e}})}(),function(){var n=window.AmCharts;n.AmGanttChart=n.Class({inherits:n.AmSerialChart,construct:function(t){this.type="gantt";n.AmGanttChart.base.construct.call(this,t);this.cname="AmGanttChart";this.period="ss";this.maxZoomFactor=1e6},initChart:function(){this.dataChanged&&this.processGanttData();n.AmGanttChart.base.initChart.call(this)},parseData:function(){n.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var t,w,it,y,u,o,k,p,f,l,d,c,h,a,nt;this.graphs=[];w=this.dataProvider;this.ganttDataProvider=[];var tt=this.categoryField,rt=this.startField,ut=this.endField,ft=this.durationField,et=this.startDateField,ot=this.endDateField,g=this.colorField,b=n.extractPeriod(this.period),e=b.period,b=b.count,v=n.getDate(this.startDate,this.dataDateFormat,"fff");if(this.categoryAxis.gridPosition="start",t=this.valueAxis,this.valueAxes=[t],"date"==t.type&&(it=!0),t.minimumDate&&(t.minimumDate=n.getDate(t.minimumDate,y,e)),t.maximumDate&&(t.maximumDate=n.getDate(t.maximumDate,y,e)),isNaN(t.minimum)||(t.minimumDate=n.changeDate(new Date(v),e,t.minimum,!0,!0)),isNaN(t.maximum)||(t.maximumDate=n.changeDate(new Date(v),e,t.maximum,!0,!0)),y=this.dataDateFormat,w)for(t=0;t<w.length;t++)if(u=w[t],o={},o[tt]=u[tt],k=u[this.segmentsField],this.ganttDataProvider.push(o),u=u[g],this.colors[t]||(this.colors[t]=n.randomColor()),k)for(f=0;f<k.length;f++){var r=k[f],i=r[rt],s=r[ut],l=r[ft];isNaN(i)&&(i=p);isNaN(l)||(s=i+l);l="start_"+t+"_"+f;d="end_"+t+"_"+f;o[l]=i;o[d]=s;c="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(a in c)h=c[a]+"Field",(p=this.graph[h])&&void 0!==r[p]&&(o[c[a]+"_"+t+"_"+f]=r[p]);p=s;it&&(h=n.getDate(r[et],y,e),nt=n.getDate(r[ot],y,e),v&&(isNaN(i)||(h=n.changeDate(n.newDate(v,"fff"),e,i*b,!0,!0)),isNaN(s)||(nt=n.changeDate(n.newDate(v,"fff"),e,s*b,!0,!0))),o[l]=h.getTime(),o[d]=nt.getTime());s={};n.copyProperties(r,s);i={};n.copyProperties(this.graph,i,!0);for(a in c)h=c[a]+"Field",this.graph[h]&&(i[h]=c[a]+"_"+t+"_"+f);i.customData=s;i.segmentData=r;i.labelFunction=this.graph.labelFunction;i.balloonFunction=this.graph.balloonFunction;i.customBullet=this.graph.customBullet;i.type="column";i.openField=l;i.valueField=d;i.clustered=!1;r[g]&&(u=r[g]);i.columnWidth=r[this.columnWidthField];void 0===u&&(u=this.colors[t]);(r=this.brightnessStep)&&(u=n.adjustLuminosity(u,f*r/100));void 0===this.graph.lineColor&&(i.lineColor=u);void 0===this.graph.fillColors&&(i.fillColors=u);this.graphs.push(i)}}})}(),function(){var n=window.AmCharts;n.GaugeAxis=n.Class({construct:function(t){this.cname="GaugeAxis";this.radius="95%";this.createEvents("rollOverBand","rollOutBand","clickBand");this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";n.applyTheme(this,t,"GaugeAxis")},value2angle:function(n){return(n-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(t){var i,r,u;void 0!==t&&(this.topText=t,i=this.chart,this.axisCreated&&(this.topTF&&this.topTF.remove(),r=this.topTextFontSize,r||(r=i.fontSize),u=this.topTextColor,u||(u=i.color),t=n.text(i.container,t,u,i.fontFamily,r,void 0,this.topTextBold),n.setCN(i,t,"axis-top-label"),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.set.push(t),this.topTF=t))},setBottomText:function(t){var i,r,u;void 0!==t&&(this.bottomText=t,i=this.chart,this.axisCreated&&(this.bottomTF&&this.bottomTF.remove(),r=this.bottomTextFontSize,r||(r=i.fontSize),u=this.bottomTextColor,u||(u=i.color),t=n.text(i.container,t,u,i.fontFamily,r,void 0,this.bottomTextBold),n.setCN(i,t,"axis-bottom-label"),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.set.push(t)))},draw:function(){var t=this.chart,a=t.container.set(),w,v,y,f,r,p,i,u,h,lt,d,g;this.set=a;n.setCN(t,a,this.bcn);n.setCN(t,a,this.bcn+"-"+this.id);t.graphsSet.push(a);this.bandSet=t.container.set();this.set.push(this.bandSet);var nt=this.startValue,c=this.endValue,o=this.valueInterval;isNaN(o)&&(o=(c-nt)/this.gridCount);w=this.minorTickInterval;isNaN(w)&&(w=o/5);var tt=this.startAngle,u=this.endAngle,b=this.tickLength,it=(c-nt)/o+1,ft=(u-tt)/(it-1);this.singleValueAngle=ft/o;var rt=t.container,st=this.tickColor,ht=this.tickAlpha,ct=this.tickThickness,w=o/w,at=ft/w,et=this.minorTickLength,ot=this.labelFrequency,s=this.radiusReal;for(this.inside||(s-=15),this.radiusRealReal=s,v=t.centerX+n.toCoordinate(this.centerX,t.realWidth),y=t.centerY+n.toCoordinate(this.centerY,t.realHeight),this.centerXReal=v,this.centerYReal=y,f={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},this.gridInside?p=r=s:(r=s-b,p=r+et),this.minorTickRadius=p,this.drawBands(),i=this.axisThickness/2,u=n.wedge(rt,v,y,tt,u-tt,r+i,r+i,r-i,0,f),n.setCN(t,u.wedge,"axis-line"),a.push(u),u=n.doNothing,n.isModern||(u=Math.round),f=n.getDecimals(nt),r=n.getDecimals(c),c=n.getDecimals(o),c=Math.max(c,f,r),o=n.roundTo(o,c+1),f=0;f<it;f++){i=n.roundTo(nt+f*o,c);r=tt+f*ft;var e=u(v+s*Math.sin(r/180*Math.PI)),ut=u(y-s*Math.cos(r/180*Math.PI)),l=u(v+(s-b)*Math.sin(r/180*Math.PI)),h=u(y-(s-b)*Math.cos(r/180*Math.PI)),e=n.line(rt,[e,l],[ut,h],st,ht,ct,0,!1,!1,!0);n.setCN(t,e,"axis-tick");a.push(e);e=-1;l=this.labelOffset;this.inside||(l=-l-b,e=1);var ut=v+(s-b-l)*Math.sin(r/180*Math.PI),l=y-(s-b-l)*Math.cos(r/180*Math.PI),k=this.fontSize;if(isNaN(k)&&(k=t.fontSize),h=Math.sin((r-90)/180*Math.PI),lt=Math.cos((r-90)/180*Math.PI),0<ot&&this.labelsEnabled&&f/ot==Math.round(f/ot)&&(this.showLastLabel||f!=it-1)&&(this.showFirstLabel||0!==f)&&(d=this.usePrefixes?n.addPrefix(i,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,t.nf,!0):n.formatNumber(i,t.nf,c),g=this.unit,g&&(d="left"==this.unitPosition?g+d:d+g),(g=this.labelFunction)&&(d=g(i)),i=this.color,void 0===i&&(i=t.color),i=n.text(rt,d,i,t.fontFamily,k),n.setCN(t,i,"axis-label"),k=i.getBBox(),i.translate(ut+e*k.width/2*lt,l+e*k.height/2*h),a.push(i)),f<it-1)for(i=1;i<w;i++)h=r+at*i,e=u(v+p*Math.sin(h/180*Math.PI)),ut=u(y-p*Math.cos(h/180*Math.PI)),l=u(v+(p-et)*Math.sin(h/180*Math.PI)),h=u(y-(p-et)*Math.cos(h/180*Math.PI)),e=n.line(rt,[e,l],[ut,h],st,ht,ct,0,!1,!1,!0),n.setCN(t,e,"axis-tick-minor"),a.push(e)}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);t=t.graphsSet.getBBox();this.width=t.width;this.height=t.height},drawBands:function(){var r=this.bands,i,t;if(r)for(i=0;i<r.length;i++)t=r[i],t&&(t.axis=this,n.processObject(t,n.GaugeBand,this.theme),t.draw(t.startValue,t.endValue))},fireEvent:function(n,t,i){this.fire({type:n,dataItem:t,chart:this,event:i})},addEventListeners:function(t,i){var r=this,u=r.chart;t.mouseover(function(n){u.showBalloon(i.balloonText,i.color,!0);r.fireEvent("rollOverBand",i,n)}).mouseout(function(n){u.hideBalloon();r.fireEvent("rollOutBand",i,n)}).click(function(t){r.fireEvent("clickBand",i,t);n.getURL(i.url,u.urlTarget)}).touchend(function(t){r.fireEvent("clickBand",i,t);n.getURL(i.url,u.urlTarget)})}})}(),function(){var n=window.AmCharts;n.GaugeArrow=n.Class({construct:function(t){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;n.applyTheme(this,t,"GaugeArrow")},setValue:function(n){var t=this.chart;t?t.setValue?t.setValue(this,n):this.previousValue=this.value=n:this.previousValue=this.value=n}});n.GaugeBand=n.Class({construct:function(){this.cname="GaugeBand";this.frame=0},draw:function(t,i){var r=this.axis,f,c;this.bandGraphics&&this.bandGraphics.remove();var l=r.chart,a=r.startAngle,e=r.radiusRealReal,o=r.singleValueAngle,u=l.container,v=r.minorTickLength,h=n.toCoordinate(this.radius,e);isNaN(h)&&(h=r.minorTickRadius);e=n.toCoordinate(this.innerRadius,e);isNaN(e)&&(e=h-v);var a=a+o*(t-r.startValue),v=o*(i-t),s=this.outlineColor;void 0===s&&(s=r.bandOutlineColor);f=this.outlineThickness;isNaN(f)&&(f=r.bandOutlineThickness);c=this.outlineAlpha;isNaN(c)&&(c=r.bandOutlineAlpha);o=this.alpha;isNaN(o)&&(o=r.bandAlpha);s={fill:this.color,stroke:s,"stroke-width":f,"stroke-opacity":c};this.url&&(s.cursor="pointer");f=this.gradientRatio;f||(f=r.bandGradientRatio);u=n.wedge(u,r.centerXReal,r.centerYReal,a,v,h,h,e,0,s,f,void 0,void 0,"radial");n.setCN(l,u.wedge,"axis-band");void 0!==this.id&&n.setCN(l,u.wedge,"axis-band-"+this.id);u.setAttr("opacity",o);r.bandSet.push(u);this.bandGraphics=u;this.currentStartValue=t;this.currentEndValue=i;r.addEventListeners(u,this)},update:function(){var i=this.axis,t=i.chart;if(i&&i.value2angle){if(this.frame>=t.totalFrames)t=this.endValue,i=this.startValue;else{this.frame++;var r=n.getEffect(t.startEffect),i=n[r](0,this.frame,this.previousStartValue,this.startValue-this.previousStartValue,t.totalFrames),t=n[r](0,this.frame,this.previousEndValue,this.endValue-this.previousEndValue,t.totalFrames);isNaN(i)&&(i=this.startValue);isNaN(t)&&(t=this.endValue)}i==this.currentStartValue&&t==this.currentEndValue||this.draw(i,t)}},setStartValue:function(n){this.previousStartValue=this.startValue;this.startValue=n;this.frame=0},setEndValue:function(n){this.previousEndValue=this.endValue;this.endValue=n;this.frame=0}})}(),function(){var n=window.AmCharts;n.AmAngularGauge=n.Class({inherits:n.AmChart,construct:function(t){this.cname="AmAngularGauge";n.AmAngularGauge.base.construct.call(this,t);this.theme=t;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;n.applyTheme(this,t,this.cname)},addAxis:function(n){n.chart=this;this.axes.push(n)},formatString:function(t,i){return n.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){var t,i,r,u;for(n.AmAngularGauge.base.initChart.call(this),0===this.axes.length&&(t=new n.GaugeAxis(this.theme),this.addAxis(t)),i=0;i<this.axes.length;i++)t=this.axes[i],t=n.processObject(t,n.GaugeAxis,this.theme),t.id||(t.id="axisAuto"+i+"_"+(new Date).getTime()),t.chart=this,this.axes[i]=t;for(r=this.arrows,i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.GaugeArrow,this.theme),t.id||(t.id="arrowAuto"+i+"_"+(new Date).getTime()),t.chart=this,r[i]=t,u=t.axis,n.isString(u)&&(t.axis=n.getObjById(this.axes,u)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue);this.setLegendData(r);this.drawChart();this.totalFrames=this.startDuration*n.updateRate},drawChart:function(){var f,t,i,r;n.AmAngularGauge.base.drawChart.call(this);f=this.container;t=this.updateWidth();this.realWidth=t;i=this.updateHeight();this.realHeight=i;var e=n.toCoordinate,o=e(this.marginLeft,t),s=e(this.marginRight,t),c=e(this.marginTop,i)+this.getTitleHeight(),l=e(this.marginBottom,i),u=e(this.radius,t,i),e=t-o-s,h=i-c-l+this.extraHeight;for(u||(u=Math.min(e,h)/2),u<this.minRadius&&(u=this.minRadius),this.radiusReal=u,this.centerX=(t-o-s)/2+o,this.centerY=(i-c-l)/2+c+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY),t=this.faceAlpha,i=this.faceBorderAlpha,(0<t||0<i)&&(r=n.circle(f,u,this.faceColor,t,this.faceBorderWidth,this.faceBorderColor,i,!1),r.translate(this.centerX,this.centerY),r.toBack(),(f=this.facePattern)&&r.pattern(f,NaN,this.path)),t=u=f=0;t<this.axes.length;t++)i=this.axes[t],o=i.radius,i.radiusReal=n.toCoordinate(o,this.radiusReal),i.draw(),s=1,-1!==String(o).indexOf("%")&&(s=1+(100-Number(o.substr(0,o.length-1)))/100),i.width*s>f&&(f=i.width*s),i.height*s>u&&(u=i.height*s);for((t=this.legend)&&t.invalidateSize(),this.adjustSize&&!this.sizeAdjusted&&(r&&(r=r.getBBox(),r.width>f&&(f=r.width),r.height>u&&(u=r.height)),r=0,(h>u||e>f)&&(r=Math.min(h-u,e-f)),5<r&&(this.extraHeight=r,this.sizeAdjusted=!0,this.validateNow())),e=this.arrows.length,t=0;t<e;t++)h=this.arrows[t],h.drawnAngle=NaN;this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=this.sizeAdjusted=!1;n.AmAngularGauge.base.validateSize.call(this)},addArrow:function(n){this.arrows.push(n)},removeArrow:function(t){n.removeFromArray(this.arrows,t);this.validateNow()},removeAxis:function(t){n.removeFromArray(this.axes,t);this.validateNow()},drawArrow:function(t,i){var e,r,v;if(t.set&&t.set.remove(),e=this.container,t.set=e.set(),n.setCN(this,t.set,"gauge-arrow"),n.setCN(this,t.set,"gauge-arrow-"+t.id),!t.hidden){var u=t.axis,o=u.radiusReal,s=u.centerXReal,h=u.centerYReal,c=t.startWidth,l=t.endWidth,a=n.toCoordinate(t.innerRadius,u.radiusReal),f=n.toCoordinate(t.radius,u.radiusReal);u.inside||(f-=15);r=t.nailColor;r||(r=t.color);v=t.nailColor;v||(v=t.color);0<t.nailRadius&&(r=n.circle(e,t.nailRadius,r,t.nailAlpha,t.nailBorderThickness,r,t.nailBorderAlpha),n.setCN(this,r,"gauge-arrow-nail"),t.set.push(r),r.translate(s,h));isNaN(f)&&(f=o-u.tickLength);var u=Math.sin(i/180*Math.PI),o=Math.cos(i/180*Math.PI),r=Math.sin((i+90)/180*Math.PI),y=Math.cos((i+90)/180*Math.PI),e=n.polygon(e,[s-c/2*r+a*u,s+f*u-l/2*r,s+f*u+l/2*r,s+c/2*r+a*u],[h+c/2*y-a*o,h-f*o+l/2*y,h-f*o-l/2*y,h-c/2*y-a*o],t.color,t.alpha,1,v,t.borderAlpha,void 0,!0);n.setCN(this,e,"gauge-arrow");t.set.push(e);this.graphsSet.push(t.set)}},setValue:function(n,t){n.axis&&n.axis.value2angle&&(n.frame=0,n.previousValue=n.value);n.value=t;var i=this.legend;i&&i.updateValues();this.accessible&&this.background&&this.makeAccessible(this.background,t)},handleLegendEvent:function(n){var t=n.type;if(n=n.dataItem,!this.legend.data&&n)switch(t){case"hideItem":this.hideArrow(n);break;case"showItem":this.showArrow(n)}},hideArrow:function(n){n.set.hide();n.hidden=!0},showArrow:function(n){n.set.show();n.hidden=!1},updateAnimations:function(){var u,t,i,r,f;for(n.AmAngularGauge.base.updateAnimations.call(this),u=this.arrows.length,r=0;r<u;r++)t=this.arrows[r],t.axis&&t.axis.value2angle&&(t.frame>=this.totalFrames?i=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(i=t.axis,t.previousValue-=i.endValue-i.startValue),i=n.getEffect(this.startEffect),i=n[i](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(i)&&(i=t.value)),i=t.axis.value2angle(i),t.drawnAngle!=i&&(this.drawArrow(t,i),t.drawnAngle=i));for(u=this.axes,t=u.length-1;0<=t;t--)if(i=u[t],i.bands)for(r=i.bands.length-1;0<=r;r--)f=i.bands[r],f.update&&f.update()}})}(),function(){var n=window.AmCharts;n.AmRadarChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){this.type="radar";n.AmRadarChart.base.construct.call(this,t);this.cname="AmRadarChart";this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0;this.radius="35%";n.applyTheme(this,t,this.cname)},initChart:function(){n.AmRadarChart.base.initChart.call(this);this.dataChanged?this.parseData():this.onDataUpdated()},onDataUpdated:function(){this.drawChart()},updateGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n.index=t,n.width=this.realRadius,n.height=this.realRadius,n.x=this.marginLeftReal,n.y=this.marginTopReal,n.data=this.chartData},parseData:function(){n.AmRadarChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},updateValueAxes:function(){for(var r=this.valueAxes,t,i=0;i<r.length;i++)t=r[i],t.axisRenderer=n.RadAxis,t.guideFillRenderer=n.RadarFill,t.axisItemRenderer=n.RadItem,t.autoGridCount=!1,t.rMultiplier=1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.realRadius,t.height=this.realRadius,t.marginsChanged=!0,t.titleDY=-t.height},drawChart:function(){n.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),i=this.updateHeight(),r=this.marginTop+this.getTitleHeight(),u=this.marginLeft,f=this.marginBottom,e=this.marginRight,o=i-r-f;if(this.marginLeftReal=u+(t-u-e)/2,this.marginTopReal=r+o/2,this.realRadius=n.toCoordinate(this.radius,Math.min(t-u-e,i-r-f),o),this.updateValueAxes(),this.updateGraphs(),t=this.chartData,n.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){for(t=t.length-1,r=this.valueAxes,i=0;i<r.length;i++)r[i].zoom(0,t);for(r=this.graphs,i=0;i<r.length;i++)r[i].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd();this.gridSet.toBack();this.axesSet.toBack();this.set.toBack()},formatString:function(t,i,r){var u=i.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(i.serialDataItem.category))),u=u.numberFormatter,u||(u=this.nf),t=n.formatValue(t,i.values,["value"],u,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),n.AmRadarChart.base.formatString.call(this,t,i,r)},cleanChart:function(){n.callMethod("destroy",[this.valueAxes,this.graphs])}})}(),function(){var n=window.AmCharts;n.RadAxis=n.Class({construct:function(t){var u=t.chart,p=t.axisThickness,w=t.axisColor,a=t.axisAlpha,o,i,f,r;this.set=u.container.set();this.set.translate(t.x,t.y);u.axesSet.push(this.set);var v=t.axisTitleOffset,b=t.radarCategoriesEnabled,k=t.chart.fontFamily,h=t.fontSize;if(void 0===h&&(h=t.chart.fontSize),o=t.color,void 0===o&&(o=t.chart.color),u){this.axisWidth=t.height;var y=u.chartData,s=y.length,e,c=this.axisWidth;for("middle"==t.pointPosition&&"circles"!=t.gridType&&(t.rMultiplier=Math.cos(180/s*Math.PI/180),c*=t.rMultiplier),e=0;e<s;e+=t.axisFrequency)if(r=180-360/s*e,i=r,"middle"==t.pointPosition&&(i-=180/s),f=this.axisWidth*Math.sin(r/180*Math.PI),r=this.axisWidth*Math.cos(r/180*Math.PI),0<a&&(f=n.line(u.container,[0,f],[0,r],w,a,p),this.set.push(f),n.setCN(u,f,t.bcn+"line")),b){var l="start",f=(c+v)*Math.sin(i/180*Math.PI),r=(c+v)*Math.cos(i/180*Math.PI);(180==i||0===i)&&(l="middle",f-=5);0>i&&(l="end",f-=10);180==i&&(r-=5);0===i&&(r+=5);i=n.text(u.container,y[e].category,o,k,h,l);i.translate(f+5,r);this.set.push(i);n.setCN(u,i,t.bcn+"title")}}}})}(),function(){var n=window.AmCharts;n.RadItem=n.Class({construct:function(t,i,r,u,f,e,o,s){var v,h,l,p,w,it,g,y;u=t.chart;void 0===r&&(r="");v=t.chart.fontFamily;h=t.fontSize;void 0===h&&(h=t.chart.fontSize);l=t.color;void 0===l&&(l=t.chart.color);p=t.chart.container;this.set=f=p.set();var st=t.axisColor,ht=t.axisAlpha,k=t.tickLength,c=t.gridAlpha,d=t.gridThickness,nt=t.gridColor,rt=t.dashLength,ut=t.fillColor,tt=t.fillAlpha,ft=t.labelsEnabled;e=t.counter;var et=t.inside,ot=t.gridType,a,ct=t.labelOffset,b;if(i-=t.height,o?(ft=!0,void 0!==o.id&&(b=u.classNamePrefix+"-guide-"+o.id),isNaN(o.tickLength)||(k=o.tickLength),void 0!=o.lineColor&&(nt=o.lineColor),isNaN(o.lineAlpha)||(c=o.lineAlpha),isNaN(o.dashLength)||(rt=o.dashLength),isNaN(o.lineThickness)||(d=o.lineThickness),!0===o.inside&&(et=!0),void 0!==o.boldLabel&&(s=o.boldLabel)):r||(c/=3,k/=2),it="end",g=-1,et&&(it="start",g=1),ft&&(y=n.text(p,r,l,v,h,it,s),y.translate((k+3+ct)*g,i),f.push(y),n.setCN(u,y,t.bcn+"label"),o&&n.setCN(u,y,"guide"),n.setCN(u,y,b,!0),this.label=y,w=n.line(p,[0,k*g],[i,i],st,ht,d),f.push(w),n.setCN(u,w,t.bcn+"tick"),o&&n.setCN(u,w,"guide"),n.setCN(u,w,b,!0)),i=Math.abs(i),s=[],v=[],0<c){if("polygons"==ot){for(a=t.data.length,h=0;h<a;h++)l=180-360/a*h,s.push(i*Math.sin(l/180*Math.PI)),v.push(i*Math.cos(l/180*Math.PI));s.push(s[0]);v.push(v[0]);c=n.line(p,s,v,nt,c,d,rt)}else c=n.circle(p,i,"#FFFFFF",0,d,nt,c);f.push(c);n.setCN(u,c,t.bcn+"grid");n.setCN(u,c,b,!0);o&&n.setCN(u,c,"guide")}if(1==e&&0<tt&&!o&&""!==r){if(o=t.previousCoord,"polygons"==ot){for(h=a;0<=h;h--)l=180-360/a*h,s.push(o*Math.sin(l/180*Math.PI)),v.push(o*Math.cos(l/180*Math.PI));a=n.polygon(p,s,v,ut,tt)}else a=n.wedge(p,0,0,0,360,i,i,o,0,{fill:ut,"fill-opacity":tt,stroke:"#000","stroke-opacity":0,"stroke-width":1});f.push(a);n.setCN(u,a,t.bcn+"fill");n.setCN(u,a,b,!0)}!1===t.visible&&(w&&w.hide(),y&&y.hide());""!==r&&(t.counter=0===e?1:0,t.previousCoord=i)},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var n=window.AmCharts;n.RadarFill=n.Class({construct:function(t,i,r,u){var s,f,o,c,h;i-=t.axisWidth;r-=t.axisWidth;s=Math.min(i,r);r=Math.max(i,r);i=t.chart;var e=i.container,l=u.fillAlpha,a=u.fillColor;r=Math.abs(r);s=Math.abs(s);f=Math.min(r,s);r=Math.max(r,s);var s=f,f=u.angle+90,o=u.toAngle+90;if(isNaN(f)&&(f=0),isNaN(o)&&(o=360),this.set=e.set(),void 0===a&&(a="#000000"),isNaN(l)&&(l=0),"polygons"==t.gridType){for(o=[],c=[],t=t.data.length,h=0;h<t;h++)f=180-360/t*h,o.push(r*Math.sin(f/180*Math.PI)),c.push(r*Math.cos(f/180*Math.PI));for(o.push(o[0]),c.push(c[0]),h=t;0<=h;h--)f=180-360/t*h,o.push(s*Math.sin(f/180*Math.PI)),c.push(s*Math.cos(f/180*Math.PI));e=n.polygon(e,o,c,a,l)}else e=n.wedge(e,0,0,f,o-f,r,r,s,0,{fill:a,"fill-opacity":l,stroke:"#000","stroke-opacity":0,"stroke-width":1});n.setCN(i,e,"guide-fill");u.id&&n.setCN(i,e,"guide-fill-"+u.id);this.set.push(e);this.fill=e},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var n=window.AmCharts;n.AmRectangularChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){n.AmRectangularChart.base.construct.call(this,t);this.theme=t;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;n.applyTheme(this,t,"AmRectangularChart")},initChart:function(){n.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(n.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),n.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var i={},n,t,r,u;if("xy"==this.type){for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}else{for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,o=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,e=0;e<f.length;e++)f[e].handleSynchronization(),n=this.getAxisBounds(f[e],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));o.left&&i<t&&(this.marginLeft=Math.round(-i+t),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));o.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));o.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));o.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var t=this,r,i,u,o;if(!t.zbSet){r=t.container.set();t.zoomButtonSet.push(r);var f=t.color,h=t.fontSize,a=t.zoomOutButtonImageSize,l=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),v=t.langObj.zoomOutText||t.zoomOutText,e=t.zoomOutButtonColor,c=t.zoomOutButtonAlpha,i=t.zoomOutButtonFontSize,s=t.zoomOutButtonPadding;for(isNaN(i)||(h=i),(i=t.zoomOutButtonFontColor)&&(f=i),i=t.zoomOutButton,i&&(i.fontSize&&(h=i.fontSize),i.color&&(f=i.color),i.backgroundColor&&(e=i.backgroundColor),isNaN(i.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=i.backgroundAlpha)),o=i=0,o=t.pathToImages,l&&((n.isAbsolute(l)||void 0===o)&&(o=""),u=t.container.image(o+l+t.extension,0,0,a,a),n.setCN(t,u,"zoom-out-image"),r.push(u),u=u.getBBox(),i=u.width+5),void 0!==v&&(f=n.text(t.container,v,f,t.fontFamily,h,"start"),n.setCN(t,f,"zoom-out-label"),h=f.getBBox(),o=u?u.height/2-3:h.height/2,f.translate(i,o),r.push(f)),u=r.getBBox(),f=1,n.isModern||(f=0),e=n.rect(t.container,u.width+2*s+5,u.height+2*s-2,e,1,1,e,f),e.setAttr("opacity",c),e.translate(-s,-s),n.setCN(t,e,"zoom-out-bg"),r.push(e),e.toBack(),t.zbBG=e,u=e.getBBox(),r.translate(t.marginLeftReal+t.plotAreaWidth-u.width+s,t.marginTopReal+s),r.hide(),r.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB();t.clickZB()}),c=0;c<r.length;c++)r[c].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(r.setAttr("tabindex",t.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(n){13==n.keyCode&&t.clickZB()}));t.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var i=this.dx,u=this.dy,e=this.marginLeftReal,s=this.marginTopReal,r=this.plotAreaWidth-1,o=this.plotAreaHeight-1,t=this.plotAreaFillColors,f=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof f&&(f=f[0]);t=n.polygon(this.container,[0,r,r,0,0],[0,0,o,o,0],t,f,1,h,c,this.plotAreaGradientAngle);n.setCN(this,t,"plot-area");t.translate(e+i,s+u);this.set.push(t);0!==i&&0!==u&&(t=this.plotAreaFillColors,"object"==typeof t&&(t=t[0]),t=n.adjustLuminosity(t,-.15),r=n.polygon(this.container,[0,i,r+i,r,0],[0,u,u,0,0],t,f,1,h,c),n.setCN(this,r,"plot-area-bottom"),r.translate(e,s+o),this.set.push(r),i=n.polygon(this.container,[0,0,i,i,0],[0,o,o+u,u,0],t,f,1,h,c),n.setCN(this,i,"plot-area-left"),i.translate(e,s),this.set.push(i));(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);var i=this.marginLeftReal,r=this.marginTopReal,n=n-i-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t);this.plotBalloonsSet.translate(i,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=n);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,t,n=0;n<i.length;n++)t=i[n],this.setAxisRenderers(t),this.updateObjectSize(t)},setAxisRenderers:function(t){t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.axisItemRenderer=n.RecItem;t.marginsChanged=!0},updateGraphs:function(){for(var i=this.graphs,t,n=0;n<i.length;n++)t=i[n],t.index=n,t.rotate=this.rotate,this.updateObjectSize(t)},updateObjectSize:function(n){n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=n.processObject(t,n.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){n.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())},handleCursorValueZoom:function(){},addTrendLine:function(n){this.trendLines.push(n)},zoomOutValueAxes:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoomOut()},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var r=n.position,i=n.scrollbarHeight+n.offset;n.enabled&&("top"==r?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i)},getScrollbarPosition:function(n,t,i){var r="bottom",u="top";n.oppositeAxis||(u=r,r="top");n.position=t?"bottom"==i||"left"==i?r:u:"top"==i||"right"==i?r:u},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;n&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());(t=this.zbSet)&&(this.zoomButtonSet.push(t),n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(t){n.AmRectangularChart.base.handleReleaseOutside.call(this,t);(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){n.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){n.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(n){this.relativeZoomValueAxes(n.target.valueAxes,n.relativeStart,n.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(n){if(n&&n.enabled){var t=n.valueAxes[0],i=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-i,i=1-t.relativeEnd);n.percentZoom(i,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);(n=this.chartCursor)&&n.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(n,t){var i=n.relativeStart,r=n.relativeEnd;if(i>r)var u=i,i=r,r=u;this.relativeZoomValueAxes(t,i,r);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,r){var u,f,e;if(this.hideBalloonReal(),i=n.fitToBounds(i,0,1),r=n.fitToBounds(r,0,1),i>r&&(u=i,i=r,r=u),u=1/this.maxZoomFactor,f=n.getDecimals(u)+4,r-i<u&&(r=i+(r-i)/2,i=r-u/2,r+=u/2,1<r&&(i-=r-1,r=1),0>i&&(i=0,r=u)),i=n.roundTo(i,f),r=n.roundTo(r,f),u=!1,t){for(f=0;f<t.length;f++)e=t[f].zoomToRelativeValues(i,r,!0),e&&(u=e);this.showZB()}return u},addChartCursor:function(t){n.callMethod("destroy",[this.chartCursor]);t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide));this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(n){for(var r=this.valueAxes,i,t=0;t<r.length;t++)n.panning||(i=r[t],i&&i.showBalloon&&i.showBalloon(n.x,n.y))},handleCursorZoom:function(n){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,r=this.endX0,u=this.endY0,i=this.startY0,f=n.startX,e=n.endX,o=n.startY,s=n.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(t+f*(r-t),t+e*(r-t),i+o*(u-i),i+s*(u-i),n)}},handleCursorHide:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].hideBalloon();for(t=this.graphs,n=0;n<t.length;n++)t[n].hideBalloonReal()}})}(),function(){var n=window.AmCharts;n.AmXYChart=n.Class({inherits:n.AmRectangularChart,construct:function(t){this.type="xy";n.AmXYChart.base.construct.call(this,t);this.cname="AmXYChart";this.theme=t;this.createEvents("zoomed");n.applyTheme(this,t,this.cname)},initChart:function(){n.AmXYChart.base.initChart.call(this);this.dataChanged&&this.updateData();this.drawChart();!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,i=this.marginTopReal,r=this.plotAreaWidth,u=this.plotAreaHeight;this.graphsSet.clipRect(t,i,r,u);this.bulletSet.clipRect(t,i,r,u);this.trendLinesSet.clipRect(t,i,r,u);this.drawGraphs=!0;this.showZB()},prepareForExport:function(){var n=this.bulletSet;n.clipPath&&this.container.remove(n.clipPath)},createValueAxes:function(){var r=[],e=[],u,t,i,f;for(this.xAxes=r,this.yAxes=e,u=this.valueAxes,i=0;i<u.length;i++)t=u[i],f=t.position,("top"==f||"bottom"==f)&&(t.rotate=!0),t.setOrientation(t.rotate),f=t.orientation,"V"==f&&e.push(t),"H"==f&&r.push(t);for(0===e.length&&(t=new n.ValueAxis(this.theme),t.rotate=!1,t.setOrientation(!1),u.push(t),e.push(t)),0===r.length&&(t=new n.ValueAxis(this.theme),t.rotate=!0,t.setOrientation(!0),u.push(t),r.push(t)),i=0;i<u.length;i++)this.processValueAxis(u[i],i);for(r=this.graphs,i=0;i<r.length;i++)this.processGraph(r[i],i)},drawChart:function(){n.AmXYChart.base.drawChart.call(this);var t=this.chartData;this.legend&&(this.legend.valueText=void 0);0<this.realWidth&&0<this.realHeight&&(n.ifArray(t)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(t=this.scrollbarH)&&(this.hideXScrollbar?(t&&t.destroy(),this.scrollbarH=null):t.draw()),(t=this.scrollbarV)&&(this.hideYScrollbar?(t.destroy(),this.scrollbarV=null):t.draw()),this.zoomScrollbar());this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){n.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes);this.zoomObjects(this.graphs);this.zoomTrendLines();this.prevPlotAreaWidth=this.plotAreaWidth;this.prevPlotAreaHeight=this.plotAreaHeight},validateData:function(){if(this.zoomOutOnDataUpdate)for(var i=this.valueAxes,t=0;t<i.length;t++)i[t].minZoom=NaN,i[t].maxZoom=NaN;n.AmXYChart.base.validateData.call(this)},zoomObjects:function(n){for(var r=n.length,i,t=0;t<r;t++)i=n[t],i.zoom(0,this.chartData.length-1)},updateData:function(){var o,i;this.parseData();var r=this.chartData,h=r.length-1,u=this.graphs,s=this.dataProvider,f=-Infinity,e=Infinity,t,n;if(s){for(t=0;t<u.length;t++)if(n=u[t],n.data=r,n.zoom(0,h),n=n.valueField)for(o=0;o<s.length;o++)i=Number(s[o][n]),null!==i&&(i>f&&(f=i),i<e&&(e=i));for(isNaN(this.minValue)||(e=this.minValue),isNaN(this.maxValue)||(f=this.maxValue),t=0;t<u.length;t++)n=u[t],n.maxValue=f,n.minValue=e;(r=this.chartCursor)&&(r.type="crosshair",r.valueBalloonsEnabled=!1);this.dataChanged=!1;this.dispatchDataUpdated=!0}},processValueAxis:function(n){n.chart=this;n.minMaxField="H"==n.orientation?"x":"y";n.min=NaN;n.max=NaN},processGraph:function(t){n.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis));n.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis));t.xAxis||(t.xAxis=this.xAxes[0]);t.yAxis||(t.yAxis=this.yAxes[0]);t.valueAxis=t.yAxis},parseData:function(){var o,c,i,p,r,s,t;n.AmXYChart.base.parseData.call(this);this.chartData=[];var l=this.dataProvider,a=this.valueAxes,v=this.graphs,f;if(l)for(f=0;f<l.length;f++){for(var e={axes:{},x:{},y:{}},y=this.dataDateFormat,u=l[f],h=0;h<a.length;h++)for(o=a[h].id,e.axes[o]={},e.axes[o].graphs={},c=0;c<v.length;c++)i=v[c],p=i.id,(i.xAxis.id==o||i.yAxis.id==o)&&(r={},r.serialDataItem=e,r.index=f,s={},t=u[i.valueField],null!==t&&(t=Number(t),isNaN(t)||(s.value=t)),t=u[i.xField],null!==t&&("date"==i.xAxis.type&&(t=n.getDate(u[i.xField],y).getTime()),t=Number(t),isNaN(t)||(s.x=t)),t=u[i.yField],null!==t&&("date"==i.yAxis.type&&(t=n.getDate(u[i.yField],y).getTime()),t=Number(t),isNaN(t)||(s.y=t)),t=u[i.errorField],null!==t&&(t=Number(t),isNaN(t)||(s.error=t)),r.values=s,this.processFields(i,r,u),r.serialDataItem=e,r.graph=i,e.axes[o].graphs[p]=r);this.chartData[f]=e}this.start=0;this.end=this.chartData.length-1},formatString:function(t,i,r){var e=i.graph,o=e.numberFormatter,u,f;return o||(o=this.nf),"date"==i.graph.xAxis.type&&(u=n.formatDate(new Date(i.values.x),e.dateFormat,this),f=RegExp("\\[\\[x\\]\\]","g"),t=t.replace(f,u)),"date"==i.graph.yAxis.type&&(u=n.formatDate(new Date(i.values.y),e.dateFormat,this),f=RegExp("\\[\\[y\\]\\]","g"),t=t.replace(f,u)),t=n.formatValue(t,i.values,["value","x","y"],o),-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),n.AmXYChart.base.formatString.call(this,t,i,r)},addChartScrollbar:function(t){var r,i;n.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]);t&&(this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight,r="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" "),this.hideYScrollbar||(i=new n.ChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleScrollbarValueZoom),n.copyProperties(t,i,r),i.rotate=!0,this.scrollbarV=i),this.hideXScrollbar||(i=new n.ChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleScrollbarValueZoom),n.copyProperties(t,i,r),i.rotate=!1,this.scrollbarH=i))},updateTrendLines:function(){for(var u=this.trendLines,t,r,i=0;i<u.length;i++)t=u[i],t=n.processObject(t,n.TrendLine,this.theme),u[i]=t,t.chart=this,r=t.valueAxis,n.isString(r)&&(t.valueAxis=this.getValueAxisById(r)),r=t.valueAxisX,n.isString(r)&&(t.valueAxisX=this.getValueAxisById(r)),t.id||(t.id="trendLineAuto"+i+"_"+(new Date).getTime()),t.valueAxis||(t.valueAxis=this.yAxes[0]),t.valueAxisX||(t.valueAxisX=this.xAxes[0])},updateMargins:function(){n.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0));(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){n.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.valueAxes=this.yAxes,t.gridAxis||(t.gridAxis=this.yAxes[0]));(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.valueAxes=this.xAxes,t.gridAxis||(t.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){n.callMethod("destroy",[this.scrollbarH,this.scrollbarV]);this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){n.AmXYChart.base.handleReleaseOutside.call(this,t);n.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){n.AmXYChart.base.update.call(this);this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update();this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV);this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(n,t,i,r){isNaN(n)||isNaN(t)||this.relativeZoomValueAxes(this.xAxes,n,t);isNaN(i)||isNaN(r)||this.relativeZoomValueAxes(this.yAxes,i,r);this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var n=this.xAxes[0];this.startX0=n.relativeStart;this.endX0=n.relativeEnd;n.reversed&&(this.startX0=1-n.relativeEnd,this.endX0=1-n.relativeStart)}this.yAxes&&(n=this.yAxes[0],this.startY0=n.relativeStart,this.endY0=n.relativeEnd,n.reversed&&(this.startY0=1-n.relativeEnd,this.endY0=1-n.relativeStart))},updateChartCursor:function(){var t,e,r,i;if(n.AmXYChart.base.updateChartCursor.call(this),t=this.chartCursor,t){if(t.valueLineEnabled=!0,t.categoryLineAxis||(t.categoryLineAxis=this.xAxes[0]),r=this.valueAxis,t.valueLineBalloonEnabled){var u=t.categoryBalloonAlpha,f=t.categoryBalloonColor,o=t.color;for(void 0===f&&(f=t.cursorColor),e=0;e<this.valueAxes.length;e++)r=this.valueAxes[e],i=r.balloon,i||(i={}),i=n.extend(i,this.balloon,!0),i.fillColor=f,i.balloonColor=f,i.fillAlpha=u,i.borderColor=f,i.color=o,r.balloon=i}else for(u=0;u<this.valueAxes.length;u++)r=this.valueAxes[u],r.balloon&&(r.balloon=null);t.zoomable&&(this.hideYScrollbar||(t.vZoomEnabled=!0),this.hideXScrollbar||(t.hZoomEnabled=!0))}},handleCursorPanning:function(t){var u=t.deltaX,i=t.delta2X,f;isNaN(i)&&(i=u,f=!0);var o=this.endX0,e=this.startX0,r=o-e,i=o-r*i,o=r;f||(o=0);u=n.fitToBounds(e-r*u,0,1-o);i=n.fitToBounds(i,o,1);this.relativeZoomValueAxes(this.xAxes,u,i);r=t.deltaY;t=t.delta2Y;isNaN(t)&&(t=r,f=!0);i=this.endY0;u=this.startY0;e=i-u;r=i+e*r;i=e;f||(i=0);f=n.fitToBounds(u+e*t,0,1-i);r=n.fitToBounds(r,i,1);this.relativeZoomValueAxes(this.yAxes,f,r);this.updateAfterValueZoom()},handleValueAxisZoom:function(n){this.handleValueAxisZoomReal(n,"V"==n.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var i,r=this.valueAxes,t,u;if(r)for(t=0;t<r.length;t++)u=r[t],0!==u.relativeStart&&(i=!0),1!=u.relativeEnd&&(i=!0);n.AmXYChart.base.showZB.call(this,i)}})}();AmCharts.themes.black={themeName:"black",AmChart:{color:"#e7e7e7",backgroundColor:"#222222"},AmCoordinateChart:{colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmStockChart:{colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#de4c4f","#d8854f","#eea638","#a7a737","#86a965","#8aabb0","#69c8ff","#cfd27e","#9d9888","#916b8a","#724887","#7256bc"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#666666",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#555555",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverBrightness:30,slectedBrightness:50,rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#555555",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.4},SmallMap:{mapColor:"#444444",rectangleColor:"#666666",backgroundColor:"#000000",backgroundAlpha:.5,borderColor:"#555555",borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}};AmCharts.themes.chalk={themeName:"chalk",AmChart:{color:"#e7e7e7",fontFamily:"Covered By Your Grace",fontSize:18,handDrawn:!0,backgroundColor:"#282828"},AmCoordinateChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmSlicedChart:{outlineAlpha:1,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmStockChart:{colors:["#FFFFFF","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite"},AxisBase:{axisColor:"#FFFFFF",gridColor:"#FFFFFF"},ChartScrollbar:{backgroundColor:"#FFFFFF",backgroundAlpha:.2,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#000000",selectedBackgroundAlpha:.25,fontSize:15,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000"},AmLegend:{color:"#e7e7e7",markerSize:20},AmGraph:{lineAlpha:.8},GaugeArrow:{color:"#FFFFFF",alpha:.1,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:.8,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:.8,bandAlpha:.4},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AmMap:{handDrawn:!1},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#4d90d6",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#e384a6",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelFontSize:16,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#4d90d6"},ZoomControl:{buttonRollOverColor:"#4d90d6",buttonFillColor:"#e384a6",buttonFillAlpha:.8},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7"},PeriodButton:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{fontFamily:"Covered By Your Grace",fontSize:"16px",color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{fontFamily:"Covered By Your Grace",fontSize:"16px",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}};AmCharts.themes.dark={themeName:"dark",AmChart:{color:"#e7e7e7",backgroundColor:"#282828"},AmCoordinateChart:{colors:["#ae85c9","#aab9f7","#b6d2ff","#c9e6f2","#c9f0e1","#e8d685","#e0ad63","#d48652","#d27362","#495fba","#7a629b","#8881cc"]},AmStockChart:{colors:["#639dbd","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#495fba","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#f15135",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#494949"},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}};AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};AmCharts.themes.patterns={themeName:"patterns",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],patterns:[{url:"patterns/black/pattern1.png",width:4,height:4},{url:"patterns/black/pattern2.png",width:4,height:4},{url:"patterns/black/pattern3.png",width:4,height:4},{url:"patterns/black/pattern4.png",width:4,height:4},{url:"patterns/black/pattern5.png",width:4,height:4},{url:"patterns/black/pattern6.png",width:4,height:4},{url:"patterns/black/pattern7.png",width:4,height:4},{url:"patterns/black/pattern8.png",width:4,height:4},{url:"patterns/black/pattern9.png",width:4,height:4},{url:"patterns/black/pattern10.png",width:4,height:4},{url:"patterns/black/pattern11.png",width:4,height:4},{url:"patterns/black/pattern12.png",width:4,height:4},{url:"patterns/black/pattern13.png",width:4,height:4},{url:"patterns/black/pattern14.png",width:4,height:4},{url:"patterns/black/pattern15.png",width:4,height:4},{url:"patterns/black/pattern16.png",width:4,height:4},{url:"patterns/black/pattern17.png",width:4,height:4},{url:"patterns/black/pattern18.png",width:4,height:4},{url:"patterns/black/pattern19.png",width:4,height:4},{url:"patterns/black/pattern20.png",width:4,height:4},{url:"patterns/black/pattern21.png",width:4,height:4}]},AmStockChart:{colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]},AmPieChart:{depth3D:0,angle:0,labelRadius:10},AmSlicedChart:{outlineAlpha:.3,colors:["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],outlineThickness:1,outlineColor:"#000000",labelTickColor:"#000000",labelTickAlpha:.3,patterns:[{url:"patterns/black/pattern1.png",width:4,height:4},{url:"patterns/black/pattern2.png",width:4,height:4},{url:"patterns/black/pattern3.png",width:4,height:4},{url:"patterns/black/pattern4.png",width:4,height:4},{url:"patterns/black/pattern5.png",width:4,height:4},{url:"patterns/black/pattern6.png",width:4,height:4},{url:"patterns/black/pattern7.png",width:4,height:4},{url:"patterns/black/pattern8.png",width:4,height:4},{url:"patterns/black/pattern9.png",width:4,height:4},{url:"patterns/black/pattern10.png",width:4,height:4},{url:"patterns/black/pattern11.png",width:4,height:4},{url:"patterns/black/pattern12.png",width:4,height:4},{url:"patterns/black/pattern13.png",width:4,height:4},{url:"patterns/black/pattern14.png",width:4,height:4},{url:"patterns/black/pattern15.png",width:4,height:4},{url:"patterns/black/pattern16.png",width:4,height:4},{url:"patterns/black/pattern17.png",width:4,height:4},{url:"patterns/black/pattern18.png",width:4,height:4},{url:"patterns/black/pattern19.png",width:4,height:4},{url:"patterns/black/pattern20.png",width:4,height:4},{url:"patterns/black/pattern21.png",width:4,height:4}]},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.05,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.13,graphFillAlpha:.4,selectedGraphFillAlpha:.7,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.9,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000",markerBorderAlpha:.1,markerSize:20,switchColor:"#000000"},AmGraph:{lineAlpha:.4,fillAlphas:.5},AmAngularGauge:{faceAlpha:.5,facePattern:{url:"patterns/black/pattern1.png",width:4,height:4}},GaugeArrow:{color:"#000000",alpha:1,nailAlpha:1,innerRadius:"0%",nailRadius:15,startWidth:15,borderAlpha:1,radius:"70%",nailBorderAlpha:1},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:1,axisColor:"#000000",axisAlpha:1,bandAlpha:1},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#000000",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8},SmallMap:{mapColor:"#000000",rectangleColor:"#FFFFFF",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"rgba(0, 0, 0, .25)",rollOverBackgroundColor:"rgba(0, 0, 0, .15)"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};AmCharts.translations["export"]||(AmCharts.translations["export"]={});AmCharts.translations["export"].en||(AmCharts.translations["export"].en={"fallback.save.text":"CTRL + C to copy the data into the clipboard.","fallback.save.image":"Rightclick -> Save picture as... to save the image.","capturing.delayed.menu.label":"{{duration}}","capturing.delayed.menu.title":"Click to cancel","menu.label.print":"Print","menu.label.undo":"Undo","menu.label.redo":"Redo","menu.label.cancel":"Cancel","menu.label.save.image":"Download as ...","menu.label.save.data":"Save as ...","menu.label.draw":"Annotate ...","menu.label.draw.change":"Change ...","menu.label.draw.add":"Add ...","menu.label.draw.shapes":"Shape ...","menu.label.draw.colors":"Color ...","menu.label.draw.widths":"Size ...","menu.label.draw.opacities":"Opacity ...","menu.label.draw.text":"Text","menu.label.draw.modes":"Mode ...","menu.label.draw.modes.pencil":"Pencil","menu.label.draw.modes.line":"Line","menu.label.draw.modes.arrow":"Arrow","label.saved.from":"Saved from: "}),function(){AmCharts["export"]=function(n,t){var r,i={name:"export",version:"1.4.61",libs:{async:!0,autoLoad:!0,reload:!1,resources:["fabric.js/fabric.min.js","FileSaver.js/FileSaver.min.js",{"jszip/jszip.min.js":["xlsx/xlsx.min.js"],"pdfmake/pdfmake.min.js":["pdfmake/vfs_fonts.js"]}],namespaces:{"pdfmake.min.js":"pdfMake","jszip.min.js":"JSZip","xlsx.min.js":"XLSX","fabric.min.js":"fabric","FileSaver.min.js":"saveAs"},loadTimeout:1e4},config:{},setup:{chart:n,hasBlob:!1,wrapper:!1,isIE:!!window.document.documentMode,IEversion:window.document.documentMode,hasTouch:typeof Touch=="object",focusedMenuItem:undefined},drawing:{enabled:!1,undos:[],redos:[],buffer:{position:{x1:0,y1:0,x2:0,y2:0,xD:0,yD:0}},handler:{undo:function(n,t){var r=i.drawing.undos.pop(),u;r&&(r.selectable=!0,i.drawing.redos.push(r),r.action=="added"&&i.setup.fabric.remove(r.target),u=JSON.parse(r.state),r.target.set(u),r.target instanceof fabric.Group&&i.drawing.handler.change({color:u.cfg.color,width:u.cfg.width,opacity:u.cfg.opacity},!0,r.target),i.setup.fabric.renderAll(),r.state!=r.target.recentState||t||i.drawing.handler.undo(r,!0))},redo:function(){var n=i.drawing.redos.pop(),t;n&&(n.selectable=!0,i.drawing.undos.push(n),n.action=="added"&&i.setup.fabric.add(n.target),t=JSON.parse(n.state),n.target.recentState=n.state,n.target.set(t),n.target instanceof fabric.Group&&i.drawing.handler.change({color:t.cfg.color,width:t.cfg.width,opacity:t.cfg.opacity},!0,n.target),i.setup.fabric.renderAll(),n.action=="addified"&&i.drawing.handler.redo())},done:function(){i.drawing.enabled=!1;i.drawing.buffer.enabled=!1;i.drawing.undos=[];i.drawing.redos=[];i.createMenu(i.config.menu);i.setup.fabric.deactivateAll();i.setup.wrapper&&(i.setup.chart.containerDiv.removeChild(i.setup.wrapper),i.setup.wrapper=!1)},add:function(n){var t=i.deepMerge({top:i.setup.fabric.height/2,left:i.setup.fabric.width/2},n||{}),r=t.url.indexOf(".svg")!=-1?fabric.loadSVGFromURL:fabric.Image.fromURL;r(t.url,function(n,r){var u=r!==undefined?fabric.util.groupSVGElements(n,r):n,f=!1;(u.height>i.setup.fabric.height||u.width>i.setup.fabric.width)&&(f=i.setup.fabric.height/2/u.height);t.top>i.setup.fabric.height&&(t.top=i.setup.fabric.height/2);t.left>i.setup.fabric.width&&(t.left=i.setup.fabric.width/2);i.drawing.buffer.isDrawing=!0;u.set({originX:"center",originY:"center",top:t.top,left:t.left,width:f?u.width*f:u.width,height:f?u.height*f:u.height,fill:i.drawing.color});i.setup.fabric.add(u)})},change:function(n,t,r){var u=i.deepMerge({},n||{}),s,f,h,o=r||i.drawing.buffer.target,e=o?o._objects?o._objects:[o]:null;if(u.mode&&(i.drawing.mode=u.mode),u.width&&(i.drawing.width=u.width,i.drawing.fontSize=u.fontSize=u.width*3,i.drawing.width==1&&(i.drawing.fontSize=u.fontSize=i.defaults.fabric.drawing.fontSize)),u.fontSize&&(i.drawing.fontSize=u.fontSize),u.color&&(i.drawing.color=u.color),u.opacity&&(i.drawing.opacity=u.opacity),h=i.getRGBA(i.drawing.color),h.pop(),h.push(i.drawing.opacity),i.drawing.color="rgba("+h.join()+")",i.setup.fabric.freeDrawingBrush.color=i.drawing.color,i.setup.fabric.freeDrawingBrush.width=i.drawing.width,o){for(s=JSON.parse(o.recentState).cfg,s&&(u.color=u.color||s.color,u.width=u.width||s.width,u.opacity=u.opacity||s.opacity,u.fontSize=u.fontSize||s.fontSize,h=i.getRGBA(u.color),h.pop(),h.push(u.opacity),u.color="rgba("+h.join()+")"),f=0;f<e.length;f++)e[f]instanceof fabric.Text||e[f]instanceof fabric.PathGroup||e[f]instanceof fabric.Triangle?((u.color||u.opacity)&&e[f].set({fill:u.color}),u.fontSize&&e[f].set({fontSize:u.fontSize})):(e[f]instanceof fabric.Path||e[f]instanceof fabric.Line)&&(o instanceof fabric.Group?(u.color||u.opacity)&&e[f].set({stroke:u.color}):((u.color||u.opacity)&&e[f].set({stroke:u.color}),u.width&&e[f].set({strokeWidth:u.width})));t||(s=JSON.stringify(i.deepMerge(o.saveState().originalState,{cfg:{color:u.color,width:u.width,opacity:u.opacity}})),o.recentState=s,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:o,state:s}));i.setup.fabric.renderAll()}},text:function(n){var r=i.deepMerge({text:i.i18l("menu.label.draw.text"),top:i.setup.fabric.height/2,left:i.setup.fabric.width/2,fontSize:i.drawing.fontSize,fontFamily:i.setup.chart.fontFamily||"Verdana",fill:i.drawing.color},n||{}),t;return r.click=function(){},t=new fabric.IText(r.text,r),i.drawing.buffer.isDrawing=!0,i.setup.fabric.add(t),i.setup.fabric.setActiveObject(t),t.selectAll(),t.enterEditing(),t},line:function(n){var t=i.deepMerge({x1:i.setup.fabric.width/2-i.setup.fabric.width/10,x2:i.setup.fabric.width/2+i.setup.fabric.width/10,y1:i.setup.fabric.height/2,y2:i.setup.fabric.height/2,angle:90,strokeLineCap:i.drawing.lineCap,arrow:i.drawing.arrow,color:i.drawing.color,width:i.drawing.width,group:[]},n||{}),u,s,f,e,o=new fabric.Line([t.x1,t.y1,t.x2,t.y2],{stroke:t.color,strokeWidth:t.width,strokeLineCap:t.strokeLineCap}),r;if(t.group.push(o),t.arrow&&(t.angle=t.angle?t.angle:i.getAngle(t.x1,t.y1,t.x2,t.y2),t.arrow=="start"?(f=t.y1+t.width/2,e=t.x1+t.width/2):t.arrow=="middle"?(f=t.y2+t.width/2-(t.y2-t.y1)/2,e=t.x2+t.width/2-(t.x2-t.x1)/2):(f=t.y2+t.width/2,e=t.x2+t.width/2),s=new fabric.Triangle({top:f,left:e,fill:t.color,height:t.width*7,width:t.width*7,angle:t.angle,originX:"center",originY:"bottom"}),t.group.push(s)),i.drawing.buffer.isDrawing=!0,t.action!="config")return t.arrow?(r=new fabric.Group(t.group),r.set({cfg:t,fill:t.color,action:t.action,selectable:!0,known:t.action=="change"}),t.action=="change"&&i.setup.fabric.setActiveObject(r),i.setup.fabric.add(r),r):(i.setup.fabric.add(o),o);for(u=0;u<t.group.length;u++)i.setup.fabric.add(t.group[u]);return t}}},defaults:{position:"top-right",fileName:"amCharts",action:"download",overflow:!0,path:(n.path||"")+"plugins/export/",formats:{JPG:{mimeType:"image/jpg",extension:"jpg",capture:!0},PNG:{mimeType:"image/png",extension:"png",capture:!0},SVG:{mimeType:"text/xml",extension:"svg",capture:!0},PDF:{mimeType:"application/pdf",extension:"pdf",capture:!0},CSV:{mimeType:"text/plain",extension:"csv"},JSON:{mimeType:"text/plain",extension:"json"},XLSX:{mimeType:"application/octet-stream",extension:"xlsx"}},fabric:{backgroundColor:"#FFFFFF",removeImages:!0,forceRemoveImages:!1,selection:!1,loadTimeout:5e3,drawing:{enabled:!0,arrow:"end",lineCap:"butt",mode:"pencil",modes:["pencil","line","arrow"],color:"#000000",colors:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF"],shapes:["11.svg","14.svg","16.svg","17.svg","20.svg","27.svg"],width:1,fontSize:11,widths:[1,5,10,15],opacity:1,opacities:[1,.8,.6,.4,.2],menu:undefined,autoClose:!0},border:{fill:"",fillOpacity:0,stroke:"#000000",strokeWidth:1,strokeOpacity:1}},pdfMake:{images:{},pageOrientation:"portrait",pageMargins:40,pageOrigin:!0,pageSize:"A4",pageSizes:{"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}},menu:undefined,divId:null,menuReviver:null,menuWalker:null,fallback:!0,keyListener:!0,fileListener:!0,compress:!0,debug:!1},i18l:function(n,t){var r=t?t:i.setup.chart.language?i.setup.chart.language:"en",u=AmCharts.translations[i.name][r]||AmCharts.translations[i.name].en;return u[n]||n},download:function(n,t,r){var o;if(window.saveAs&&i.setup.hasBlob)o=i.toBlob({data:n,type:t},function(n){saveAs(n,r)});else if(i.config.fallback&&t=="text/plain"){var u=document.createElement("div"),f=document.createElement("div"),e=document.createElement("textarea");f.innerHTML=i.i18l("fallback.save.text");u.appendChild(f);u.appendChild(e);f.setAttribute("class","amcharts-export-fallback-message");u.setAttribute("class","amcharts-export-fallback");i.setup.chart.containerDiv.appendChild(u);e.setAttribute("readonly","");e.value=n;e.focus();e.select();i.createMenu([{"class":"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu);i.setup.chart.containerDiv.removeChild(u)}}])}else if(i.config.fallback&&t.split("/")[0]=="image"){var u=document.createElement("div"),f=document.createElement("div"),s=i.toImage({data:n});f.innerHTML=i.i18l("fallback.save.image");u.appendChild(f);u.appendChild(s);f.setAttribute("class","amcharts-export-fallback-message");u.setAttribute("class","amcharts-export-fallback");i.setup.chart.containerDiv.appendChild(u);i.createMenu([{"class":"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu);i.setup.chart.containerDiv.removeChild(u)}}])}else throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.");return n},loadResource:function(n,t){var u,o,r,f,e,c,s=n.indexOf("//")!=-1?n:[i.libs.path,n].join(""),h=function(){if(t)for(u=0;u<t.length;u++)i.loadResource(t[u])};for(n.indexOf(".js")!=-1?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",s),i.libs.async&&r.setAttribute("async","")):n.indexOf(".css")!=-1&&(r=document.createElement("link"),r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",s)),u=0;u<document.head.childNodes.length;u++)if(f=document.head.childNodes[u],e=f?f.src||f.href:!1,c=f?f.tagName:!1,f&&e&&e.indexOf(n)!=-1){i.libs.reload&&document.head.removeChild(f);o=!0;break}for(u in i.libs.namespaces){var l=i.libs.namespaces[u],e=n.toLowerCase(),f=u.toLowerCase();if(e.indexOf(f)!=-1&&window[l]!==undefined){o=!0;break}}(!o||i.libs.reload)&&(r.addEventListener("load",h),r.addEventListener("error",function(){i.handleLog(["amCharts[export]: Loading error on ",this.src||this.href].join(""))}),document.head.appendChild(r),i.listenersToRemove||(i.listenersToRemove=[]),i.listenersToRemove.push({node:r,method:h,event:"load"}))},loadDependencies:function(){var n,t;if(i.libs.autoLoad)for(n=0;n<i.libs.resources.length;n++)if(i.libs.resources[n]instanceof Object)for(t in i.libs.resources[n])i.loadResource(t,i.libs.resources[n][t]);else i.loadResource(i.libs.resources[n])},pxToNumber:function(n,t){return!n&&t?undefined:Number(String(n).replace("px",""))||0},numberToPx:function(n){return String(n)+"px"},cloneObject:function(n){var r,t,u,f,e;r=Array.isArray(n)?[]:{};for(u in n)t=n[u],f=typeof t=="object",e=t instanceof Date,r[u]=f&&!e?i.cloneObject(t):t;return r},deepMerge:function(n,t,r){var f,u,e=t instanceof Array?"array":"object";if(!(n instanceof Object||n instanceof Array))return n;for(f in t)e=="array"&&isNaN(f)||(u=t[f],(n&&n[f]==undefined||r)&&(u instanceof Array?n[f]=[]:u instanceof Function?n[f]=function(){}:u instanceof Date?n[f]=new Date:u instanceof Object?n[f]={}:u instanceof Number?n[f]=new Number:u instanceof String&&(n[f]=new String)),!(u instanceof Object||u instanceof Array)||u instanceof Function||u instanceof Date||i.isElement(u)||f=="chart"||f=="scope"?n instanceof Array&&!r?n.push(u):n&&(n[f]=u):i.deepMerge(n[f],u,r));return n},isElement:function(n){return n instanceof Object&&n&&n.nodeType===1},isHashbanged:function(n){var t=String(n).replace(/\"/g,"");return t.slice(0,3)=="url"?t.slice(t.indexOf("#")+1,t.length-1):!1},isPressed:function(n){return n.type=="mousemove"&&n.which===1||(i.drawing.buffer.isPressed=n.type=="touchmove"||n.buttons===1||n.button===1||n.which===1?!0:!1),i.drawing.buffer.isPressed},removeImage:function(n){return n&&(i.config.fabric.forceRemoveImages||i.config.fabric.removeImages&&i.isTainted(n)||i.setup.isIE&&(i.setup.IEversion==10||i.setup.IEversion==11)&&n.toLowerCase().indexOf(".svg")!=-1)?!0:!1},isTainted:function(n){var t=String(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));return n&&(t.indexOf(":\\")!=-1||n.indexOf(":\\")!=-1||t.indexOf("file://")!=-1||n.indexOf("file://")!=-1||n.indexOf("//")!=-1&&n.indexOf(t.replace(/.*:/,""))==-1)?!0:!1},isSupported:function(){return i.config.enabled?i.setup.isIE&&i.setup.IEversion<=9&&(!Array.prototype.indexOf||!document.head||i.config.fallback===!1)?!1:!0:!1},getAngle:function(n,t,i,r){var f=i-n,u=r-t,e;return e=f==0?u==0?0:u>0?Math.PI/2:Math.PI*3/2:u==0?f>0?0:Math.PI:f<0?Math.atan(u/f)+Math.PI:u<0?Math.atan(u/f)+2*Math.PI:Math.atan(u/f),e*180/Math.PI},gatherAttribute:function(n,t,r,u){var f,u=u?u:0,r=r?r:3;return n&&(f=n.getAttribute(t),!f&&u<r)?i.gatherAttribute(n.parentNode,t,r,u+1):f},gatherClassName:function(n,t,r,u){var f,u=u?u:0,r=r?r:3;if(i.isElement(n)){if(f=(n.getAttribute("class")||"").split(" ").indexOf(t)!=-1,!f&&u<r)return i.gatherClassName(n.parentNode,t,r,u+1);f&&(f=n)}return f},gatherElements:function(n,t,r){for(var f,u,h,a,e,o,s=0;s<n.children.length;s++)if(u=n.children[s],u.tagName=="clipPath"){for(h={},a=fabric.parseTransformAttribute(i.gatherAttribute(u,"transform")),f=0;f<u.childNodes.length;f++)u.childNodes[f].setAttribute("fill","transparent"),h={x:i.pxToNumber(u.childNodes[f].getAttribute("x")),y:i.pxToNumber(u.childNodes[f].getAttribute("y")),width:i.pxToNumber(u.childNodes[f].getAttribute("width")),height:i.pxToNumber(u.childNodes[f].getAttribute("height"))};n.clippings[u.id]={svg:u,bbox:h,transform:a}}else if(u.tagName=="pattern"){for(e={node:u,source:u.getAttribute("xlink:href"),width:Number(u.getAttribute("width")),height:Number(u.getAttribute("height")),repeat:"repeat",offsetX:0,offsetY:0},f=0;f<u.childNodes.length;f++)u.childNodes[f].tagName=="rect"?e.fill=u.childNodes[f].getAttribute("fill"):u.childNodes[f].tagName=="image"&&(o=fabric.parseAttributes(u.childNodes[f],fabric.SHARED_ATTRIBUTES),o.transformMatrix&&(e.offsetX=o.transformMatrix[4],e.offsetY=o.transformMatrix[5]));i.removeImage(e.source)?n.patterns[u.id]=e.fill?e.fill:"transparent":n.patterns[e.node.id]=e}else if(u.tagName=="image")r.included++,fabric.Image.fromURL(u.getAttribute("xlink:href"),function(){r.loaded++});else for(o=["fill","stroke"],f=0;f<o.length;f++){var c=o[f],l=u.getAttribute(c),v=i.getRGBA(l),y=i.isHashbanged(l);!l||v||y||(u.setAttribute(c,"none"),u.setAttribute(c+"-opacity","0"))}return n},getRGBA:function(n,t){return n!="none"&&n!="transparent"&&!i.isHashbanged(n)&&(n=new fabric.Color(n),n._source)?t?n:n.getSource():!1},gatherPosition:function(n,t){var r=i.drawing.buffer.position,f=fabric.util.invertTransform(i.setup.fabric.viewportTransform),u;return n.type=="touchmove"&&("touches"in n?n=n.touches[0]:"changedTouches"in n&&(n=n.changedTouches[0])),u=fabric.util.transformPoint(i.setup.fabric.getPointer(n,!0),f),t==1&&(r.x1=u.x,r.y1=u.y),r.x2=u.x,r.y2=u.y,r.xD=r.x1-r.x2<0?(r.x1-r.x2)*-1:r.x1-r.x2,r.yD=r.y1-r.y2<0?(r.y1-r.y2)*-1:r.y1-r.y2,r},modifyFabric:function(){fabric.ElementsParser.prototype.resolveGradient=function(n,t){var u=n.get(t),f,r;/^url\(/.test(u)&&(f=u.slice(u.indexOf("#")+1,u.length-1),fabric.gradientDefs[this.svgUid][f]&&(r=fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][f],n),r.coords.y1&&i.setup.chart.type!="pie"&&(r.coords.y2=r.coords.y1*-1,r.coords.y1=0),n.set(t,r)))};fabric.Text.fromElement=function(n,t){var u,o,r,e,i,f;if(!n)return null;if(u=fabric.parseAttributes(n,fabric.Text.ATTRIBUTE_NAMES),t=fabric.util.object.extend(t?fabric.util.object.clone(t):{},u),t.top=t.top||0,t.left=t.left||0,"dx"in u&&(t.left+=u.dx),"dy"in u&&(t.top+=u.dy),"fontSize"in t||(t.fontSize=fabric.Text.DEFAULT_SVG_FONT_SIZE),t.originX||(t.originX="left"),o="",r=[],"textContent"in n)if(n.childNodes)for(e=0;e<n.childNodes.length;e++)r.push(n.childNodes[e].textContent);else r.push(n.textContent);else"firstChild"in n&&n.firstChild!==null&&"data"in n.firstChild&&n.firstChild.data!==null&&r.push(n.firstChild.data);return o=r.join("\n"),i=new fabric.Text(o,t),f=0,i.originX==="left"&&(f=i.getWidth()/2),i.originX==="right"&&(f=-i.getWidth()/2),r.length>1?i.set({left:i.getLeft()+f,top:i.getTop()+i.fontSize*(r.length-1)*(.18+i._fontSizeFraction),textAlign:t.originX,lineHeight:r.length>1?.965:1.16}):i.set({left:i.getLeft()+f,top:i.getTop()-i.getHeight()/2+i.fontSize*(.18+i._fontSizeFraction)}),i}},capture:function(n,t){var f,o=i.deepMerge(i.deepMerge({},i.config.fabric),n||{}),h=[],u={x:0,y:0,pX:0,pY:0,lX:0,lY:0,width:i.setup.chart.divRealWidth,height:i.setup.chart.divRealHeight},c={loaded:0,included:0},e={items:[],width:0,height:0,maxWidth:0,maxHeight:0},a,l,s,r;if(!i.handleNamespace("fabric",{scope:this,cb:i.capture,args:arguments}))return!1;for(i.modifyFabric(),i.handleCallback(o.beforeCapture,o),a=i.setup.chart.containerDiv.getElementsByTagName("svg"),f=0;f<a.length;f++)r={svg:a[f],parent:a[f].parentNode,children:a[f].getElementsByTagName("*"),offset:{x:0,y:0},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}},r.has.legend=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-legend-div",1),r.has.panel=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-stock-panel-div"),r.has.scrollbar=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-scrollbar-chart-div"),r=i.gatherElements(r,o,c),h.push(r);if(i.config.legend){if(i.setup.chart.type=="stock")for(f=0;f<i.setup.chart.panels.length;f++)i.setup.chart.panels[f].stockLegend&&i.setup.chart.panels[f].stockLegend.divId&&e.items.push(i.setup.chart.panels[f].stockLegend);else i.setup.chart.legend&&i.setup.chart.legend.divId&&e.items.push(i.setup.chart.legend);for(f=0;f<e.items.length;f++)l=e.items[f],r={svg:l.container.container,parent:l.container.container.parentNode,children:l.container.container.getElementsByTagName("*"),offset:{x:0,y:0},legend:{id:f,type:["top","left"].indexOf(i.config.legend.position)!=-1?"unshift":"push",position:i.config.legend.position,width:i.config.legend.width?i.config.legend.width:l.container.div.offsetWidth,height:i.config.legend.height?i.config.legend.height:l.container.div.offsetHeight},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}},e.width+=r.legend.width,e.height+=r.legend.height,e.maxWidth=r.legend.width>e.maxWidth?r.legend.width:e.maxWidth,e.maxHeight=r.legend.height>e.maxHeight?r.legend.height:e.maxHeight,r=i.gatherElements(r,o,c),h[r.legend.type](r);["top","bottom"].indexOf(i.config.legend.position)!=-1?(u.width=e.maxWidth>u.width?e.maxWidth:u.width,u.height+=e.height):["left","right"].indexOf(i.config.legend.position)!=-1?(u.width+=e.maxWidth,u.height=e.height>u.height?e.height:u.height):(u.height+=e.height,u.width+=e.maxWidth)}i.drawing.enabled=o.drawing.enabled=o.action=="draw";i.drawing.buffer.enabled=i.drawing.enabled;i.setup.wrapper=document.createElement("div");i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas");i.setup.chart.containerDiv.appendChild(i.setup.wrapper);i.setup.chart.type=="stock"&&(s={top:0,right:0,bottom:0,left:0},i.setup.chart.leftContainer&&(u.width-=i.setup.chart.leftContainer.offsetWidth,s.left=i.setup.chart.leftContainer.offsetWidth+i.setup.chart.panelsSettings.panelSpacing*2),i.setup.chart.rightContainer&&(u.width-=i.setup.chart.rightContainer.offsetWidth,s.right=i.setup.chart.rightContainer.offsetWidth+i.setup.chart.panelsSettings.panelSpacing*2),i.setup.chart.periodSelector&&["top","bottom"].indexOf(i.setup.chart.periodSelector.position)!=-1&&(u.height-=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing,s[i.setup.chart.periodSelector.position]+=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.dataSetSelector&&["top","bottom"].indexOf(i.setup.chart.dataSetSelector.position)!=-1&&(u.height-=i.setup.chart.dataSetSelector.offsetHeight,s[i.setup.chart.dataSetSelector.position]+=i.setup.chart.dataSetSelector.offsetHeight),i.setup.wrapper.style.paddingTop=i.numberToPx(s.top),i.setup.wrapper.style.paddingRight=i.numberToPx(s.right),i.setup.wrapper.style.paddingBottom=i.numberToPx(s.bottom),i.setup.wrapper.style.paddingLeft=i.numberToPx(s.left));i.setup.canvas=document.createElement("canvas");i.setup.wrapper.appendChild(i.setup.canvas);i.setup.fabric=new fabric.Canvas(i.setup.canvas,i.deepMerge({width:u.width,height:u.height,isDrawingMode:!0},o));i.deepMerge(i.setup.fabric,o);i.deepMerge(i.setup.fabric.freeDrawingBrush,o.drawing);i.deepMerge(i.drawing,o.drawing);i.drawing.handler.change(o.drawing);i.setup.fabric.on("mouse:down",function(n){var t=i.gatherPosition(n.e,1);i.drawing.buffer.pressedTS=Number(new Date);i.isPressed(n.e);i.drawing.buffer.isDrawing=!1;i.drawing.buffer.isDrawingTimer=setTimeout(function(){i.drawing.buffer.isSelected||(i.drawing.buffer.isDrawing=!0)},200)});i.setup.fabric.on("mouse:move",function(n){var r=i.gatherPosition(n.e,2),u,e,o,t;if(i.isPressed(n.e),i.drawing.buffer.isPressed&&!i.drawing.buffer.isSelected&&(i.drawing.buffer.isDrawing=!0,!i.drawing.buffer.line&&i.drawing.mode!="pencil"&&(r.xD>5||r.yD>5)&&(i.setup.fabric.isDrawingMode=!1,i.setup.fabric._isCurrentlyDrawing=!1,i.setup.fabric.freeDrawingBrush.onMouseUp(),i.setup.fabric.remove(i.setup.fabric._objects.pop()),i.drawing.buffer.line=i.drawing.handler.line({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,arrow:i.drawing.mode=="line"?!1:i.drawing.arrow,action:"config"}))),i.drawing.buffer.isSelected&&(i.setup.fabric.isDrawingMode=!1),i.drawing.buffer.line){for(t=i.drawing.buffer.line,t.x2=r.x2,t.y2=r.y2,f=0;f<t.group.length;f++)u=t.group[f],u instanceof fabric.Line?u.set({x2:t.x2,y2:t.y2}):u instanceof fabric.Triangle&&(t.angle=i.getAngle(t.x1,t.y1,t.x2,t.y2)+90,t.arrow=="start"?(e=t.y1+t.width/2,o=t.x1+t.width/2):t.arrow=="middle"?(e=t.y2+t.width/2-(t.y2-t.y1)/2,o=t.x2+t.width/2-(t.x2-t.x1)/2):(e=t.y2+t.width/2,o=t.x2+t.width/2),u.set({top:e,left:o,angle:t.angle}));i.setup.fabric.renderAll()}});i.setup.fabric.on("mouse:up",function(n){if(!i.drawing.buffer.isDrawing){var t=i.setup.fabric.findTarget(n.e);t&&t.selectable&&i.setup.fabric.setActiveObject(t)}if(i.drawing.buffer.line){for(f=0;f<i.drawing.buffer.line.group.length;f++)i.drawing.buffer.line.group[f].remove();delete i.drawing.buffer.line.action;delete i.drawing.buffer.line.group;i.drawing.handler.line(i.drawing.buffer.line)}i.drawing.buffer.line=!1;i.drawing.buffer.hasLine=!1;i.drawing.buffer.isPressed=!1;clearTimeout(i.drawing.buffer.isDrawingTimer);i.drawing.buffer.isDrawing=!1});i.setup.fabric.on("object:selected",function(n){i.drawing.buffer.isSelected=!0;i.drawing.buffer.target=n.target;i.setup.fabric.isDrawingMode=!1});i.setup.fabric.on("selection:cleared",function(){i.drawing.buffer.target=!1;i.drawing.buffer.isSelected&&(i.setup.fabric._isCurrentlyDrawing=!1);i.drawing.buffer.isSelected=!1;i.setup.fabric.isDrawingMode=!0});i.setup.fabric.on("path:created",function(n){var t=n.path;if(!i.drawing.buffer.isDrawing||i.drawing.buffer.hasLine){i.setup.fabric.remove(t);i.setup.fabric.renderAll();return}});i.setup.fabric.on("object:added",function(n){var t=n.target,r=i.deepMerge(t.saveState().originalState,{cfg:{color:i.drawing.color,width:i.drawing.width,opacity:i.drawing.opacity,fontSize:i.drawing.fontSize}});r=JSON.stringify(r);t.recentState=r;t.selectable&&!t.known&&(t.isAnnotation=!0,i.drawing.undos.push({action:"added",target:t,state:r}),i.drawing.undos.push({action:"addified",target:t,state:r}),i.drawing.redos=[]);t.known=!0;i.setup.fabric.isDrawingMode=!0});i.setup.fabric.on("object:modified",function(n){var t=n.target,u=JSON.parse(t.recentState),r=i.deepMerge(t.saveState().originalState,{cfg:u.cfg});r=JSON.stringify(r);t.recentState=r;i.drawing.undos.push({action:"modified",target:t,state:r});i.drawing.redos=[]});i.setup.fabric.on("text:changed",function(n){var t=n.target;clearTimeout(t.timer);t.timer=setTimeout(function(){var n=JSON.stringify(t.saveState().originalState);t.recentState=n;i.drawing.redos=[];i.drawing.undos.push({action:"modified",target:t,state:n})},250)});for(i.drawing.enabled?(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),i.setup.wrapper.style.backgroundColor=o.backgroundColor,i.setup.wrapper.style.display="block"):(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.wrapper.style.display="none"),f=0;f<h.length;f++)r=h[f],i.setup.chart.type=="stock"&&i.setup.chart.legendSettings.position?["top","bottom"].indexOf(i.setup.chart.legendSettings.position)!=-1?r.parent.style.top&&r.parent.style.left?(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left)):(r.offset.x=u.x,r.offset.y=u.y,u.y+=i.pxToNumber(r.parent.style.height),r.has.panel?(u.pY=i.pxToNumber(r.has.panel.style.marginTop),r.offset.y+=u.pY):r.has.scrollbar&&(r.offset.y+=u.pY)):["left","right"].indexOf(i.setup.chart.legendSettings.position)!=-1&&(r.offset.y=i.pxToNumber(r.parent.style.top)+u.pY,r.offset.x=i.pxToNumber(r.parent.style.left)+u.pX,r.has.legend?u.pY+=i.pxToNumber(r.has.panel.style.height)+i.setup.chart.panelsSettings.panelSpacing:r.has.scrollbar&&(r.offset.y-=i.setup.chart.panelsSettings.panelSpacing)):(r.parent.style.position=="absolute"?(r.offset.absolute=!0,r.offset.top=i.pxToNumber(r.parent.style.top),r.offset.right=i.pxToNumber(r.parent.style.right,!0),r.offset.bottom=i.pxToNumber(r.parent.style.bottom,!0),r.offset.left=i.pxToNumber(r.parent.style.left),r.offset.width=i.pxToNumber(r.parent.style.width),r.offset.height=i.pxToNumber(r.parent.style.height)):r.parent.style.top&&r.parent.style.left?(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left)):r.legend?(r.legend.position=="left"?u.x=e.maxWidth:r.legend.position=="right"?r.offset.x=u.width-e.maxWidth:r.legend.position=="top"?u.y+=r.legend.height:r.legend.position=="bottom"&&(r.offset.y=u.height-e.height),r.offset.y+=u.lY,u.lY+=r.legend.height):(r.offset.x=u.x,r.offset.y=u.y+u.pY,u.y+=i.pxToNumber(r.parent.style.height)),r.has.legend&&r.has.panel&&r.has.panel.style.marginTop?(u.y+=i.pxToNumber(r.has.panel.style.marginTop),r.offset.y+=i.pxToNumber(r.has.panel.style.marginTop)):i.setup.chart.legend&&["left","right"].indexOf(i.setup.chart.legend.position)!=-1&&(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left))),fabric.parseSVGDocument(r.svg,function(n){return function(r,f){var e,s=fabric.util.groupSVGElements(r,f),k=[],y={selectable:!1,isCoreElement:!0},a,b,p,g,nt;for(n.offset.absolute?(y.top=n.offset.bottom!==undefined?u.height-n.offset.height-n.offset.bottom:n.offset.top,y.left=n.offset.right!==undefined?u.width-n.offset.width-n.offset.right:n.offset.left):(y.top=n.offset.y,y.left=n.offset.x),e=0;e<s.paths.length;e++){if(a=null,s.paths[e]){if(i.removeImage(s.paths[e]["xlink:href"]))continue;s.paths[e].fill instanceof Object?s.paths[e].fill.type=="radial"&&["pie","gauge"].indexOf(i.setup.chart.type)==-1&&(s.paths[e].fill.coords.r2=s.paths[e].fill.coords.r1*-1,s.paths[e].fill.coords.r1=0,s.paths[e].set({opacity:s.paths[e].fillOpacity})):(a=i.isHashbanged(s.paths[e].fill))&&n.patterns&&n.patterns[a]&&(b=n.patterns[a],c.included++,fabric.Image.fromURL(b.source,function(n,t){return function(r){var u,f;c.loaded++;r.set({top:n.offsetY,left:n.offsetX,width:n.width,height:n.height});i.setup.fabric._isRetinaScaling()&&r.set({top:n.offsetY/2,left:n.offsetX/2,scaleX:.5,scaleY:.5});u=new fabric.StaticCanvas(undefined,{backgroundColor:n.fill,width:r.getWidth(),height:r.getHeight()});u.add(r);f=new fabric.Pattern({source:u.getElement(),offsetX:s.paths[t].width/2,offsetY:s.paths[t].height/2,repeat:"repeat"});s.paths[t].set({fill:f,opacity:s.paths[t].fillOpacity})}}(b,e)));(a=i.isHashbanged(s.paths[e].clipPath))&&n.clippings&&n.clippings[a]&&(function(t,i){var r=s.paths[t].toSVG;s.paths[t].toSVG=function(t){return r.apply(this,[function(r){return t(r,n.clippings[i])}])}}(e,a),s.paths[e].set({clipTo:function(t,r){return function(u){var e=n.clippings[r],o=this.transformMatrix||[1,0,0,1,0,0],f={top:e.bbox.y,left:e.bbox.x,width:e.bbox.width,height:e.bbox.height};i.setup.chart.type=="map"&&(f.top+=e.transform[5],f.left+=e.transform[4]);e.bbox.x&&o[4]&&e.bbox.y&&o[5]&&(f.top-=o[5],f.left-=o[4]);i.setup.chart.smoothCustomBullets!==undefined&&this.className==i.setup.chart.classNamePrefix+"-graph-bullet"&&s.paths[t].svg.tagName=="image"?(radius=e.svg.firstChild.rx.baseVal.value/2+2,u.beginPath(),u.moveTo(f.left+radius,f.top),u.lineTo(f.left+f.width-radius,f.top),u.quadraticCurveTo(f.left+f.width,f.top,f.left+f.width,f.top+radius),u.lineTo(f.left+f.width,f.top+f.height-radius),u.quadraticCurveTo(f.left+f.width,f.top+f.height,f.left+f.width-radius,f.top+f.height),u.lineTo(f.left+radius,f.top+f.height),u.quadraticCurveTo(f.left,f.top+f.height,f.left,f.top+f.height-radius),u.lineTo(f.left,f.top+radius),u.quadraticCurveTo(f.left,f.top,f.left+radius,f.top),u.closePath()):u.rect(f.left,f.top,f.width,f.height)}}(e,a)}))}k.push(s.paths[e])}if(s.paths=k,y.top+=.5,y.left+=.5,s.set(y),i.setup.fabric.add(s),n.svg.parentNode&&n.svg.parentNode.getElementsByTagName)for(p=n.svg.parentNode.getElementsByClassName(i.setup.chart.classNamePrefix+"-balloon-div"),e=0;e<p.length;e++)if(o.balloonFunction instanceof Function)o.balloonFunction.apply(i,[p[e],n]);else{var l=p[e],v=fabric.parseStyleAttribute(l),w=fabric.parseStyleAttribute(l.childNodes[0]),d=new fabric.Text(l.innerText||l.textContent||l.innerHTML,{selectable:!1,top:v.top+n.offset.y,left:v.left+n.offset.x,fill:w.color,fontSize:w.fontSize,fontFamily:w.fontFamily,textAlign:w["text-align"],isCoreElement:!0});i.setup.fabric.add(d)}if(n.svg.nextSibling&&n.svg.nextSibling.tagName=="A"){var l=n.svg.nextSibling,v=fabric.parseStyleAttribute(l),d=new fabric.Text(l.innerText||l.textContent||l.innerHTML,{selectable:!1,top:v.top+n.offset.y,left:v.left+n.offset.x,fill:v.color,fontSize:v.fontSize,fontFamily:v.fontFamily,opacity:v.opacity,isCoreElement:!0});n.has.scrollbar||i.setup.fabric.add(d)}h.pop();h.length||(g=Number(new Date),nt=setInterval(function(){var n=Number(new Date);(c.loaded==c.included||n-g>i.config.fabric.loadTimeout)&&(clearTimeout(nt),i.handleBorder(o),i.handleCallback(o.afterCapture,o),i.setup.fabric.renderAll(),i.handleCallback(t,o))},AmCharts.updateRate))}}(r),function(n,t){var r,h=i.gatherAttribute(n,"class"),c=i.gatherAttribute(n,"visibility"),l=i.gatherAttribute(n,"clip-path"),e;for(t.className=String(h),t.classList=String(h).split(" "),t.clipPath=l,t.svg=n,e=["fill","stroke"],r=0;r<e.length;r++){var u=e[r],a=String(n.getAttribute(u)||"none"),s=Number(n.getAttribute(u+"-opacity")||"1"),f=i.getRGBA(a);c=="hidden"&&(t.opacity=0,s=0);f&&(f.pop(),f.push(s),t[u]="rgba("+f.join()+")",t[u+i.capitalize("opacity")]=s)}i.handleCallback(o.reviver,t,n)})},toCanvas:function(n,t){var u=i.deepMerge({},n||{}),r=i.setup.canvas;return i.handleCallback(t,r,u),r},toImage:function(n,t){var r=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},n||{}),f=r.data,u=document.createElement("img");return i.handleNamespace("fabric",{scope:this,cb:i.toImage,args:arguments})?(r.data||(f=r.lossless||r.format=="svg"?i.toSVG(i.deepMerge(r,{getBase64:!0})):i.setup.fabric.toDataURL(r)),u.setAttribute("src",f),i.handleCallback(t,u,r),u):!1},toBlob:function(n,t){var r=i.deepMerge({data:"empty",type:"text/plain"},n||{}),u,f=/^data:.+;base64,(.*)$/.exec(r.data);return f&&(r.data=f[0],r.type=r.data.slice(5,r.data.indexOf(",")-7),r.data=i.toByteArray({data:r.data.slice(r.data.indexOf(",")+1,r.data.length)})),u=r.getByteArray?r.data:new Blob([r.data],{type:r.type}),i.handleCallback(t,u,r),u},toJPG:function(n,t){var r=i.deepMerge({format:"jpeg",quality:1,multiplier:i.config.multiplier},n||{}),u;return(r.format=r.format.toLowerCase(),!i.handleNamespace("fabric",{scope:this,cb:i.toJPG,args:arguments}))?!1:(u=i.setup.fabric.toDataURL(r),i.handleCallback(t,u,r),u)},toPNG:function(n,t){var u=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},n||{}),r;return i.handleNamespace("fabric",{scope:this,cb:i.toPNG,args:arguments})?(r=i.setup.fabric.toDataURL(u),i.handleCallback(t,r,u),r):!1},toSVG:function(n,t){var f=[],e=[],u=i.deepMerge({compress:i.config.compress,reviver:function(n,t){var b=new RegExp(/\bstyle=(['"])(.*?)\1/),c=b.exec(n)[0].slice(7,-1),r=c.split(";"),u=[],a,v,d,p,w;for(i1=0;i1<r.length;i1++)if(r[i1]){var l=r[i1].replace(/\s/g,"").split(":"),s=l[0],o=l[1];["fill","stroke"].indexOf(s)!=-1?(o=i.getRGBA(o,!0),o?(a="#"+o.toHex(),v=o._source[3],u.push([s,a].join(":")),u.push([s+"-opacity",v].join(":"))):u.push(r[i1])):s!="opactiy"&&u.push(r[i1])}if(n=n.replace(c,u.join(";")),t&&t.svg){var k=t.svg.id,h=2,y=n.slice(-h);y!="/>"&&(h=3,y=n.slice(-h));d=n.slice(0,n.length-h);p=' clip-path="url(#'+t.svg.id+')" ';n="<g "+p+">"+n+"<\/g>";e.indexOf(k)==-1&&(w=(new XMLSerializer).serializeToString(t.svg),f.push(w),e.push(t.svg.id))}return n}},n||{}),r,o,s;return i.handleNamespace("fabric",{scope:this,cb:i.toSVG,args:arguments})?(r=i.setup.fabric.toSVG(u,u.reviver),f.length&&(o=r.slice(0,r.length-6),s=r.slice(-6),r=o+f.join("")+s),u.compress&&(r=r.replace(/[\t\r\n]+/g,"")),u.getBase64&&(r="data:image/svg+xml;base64,"+btoa(r)),i.handleCallback(t,r,u),r):!1},toPDF:function(n,t){function s(n){if(typeof n=="number"||n instanceof Number)n={left:n,right:n,top:n,bottom:n};else if(n instanceof Array)if(n.length===2)n={left:n[0],top:n[1],right:n[0],bottom:n[1]};else if(n.length===4)n={left:n[0],top:n[1],right:n[2],bottom:n[3]};else throw"Invalid pageMargins definition";else n={left:i.defaults.pdfMake.pageMargins,top:i.defaults.pdfMake.pageMargins,right:i.defaults.pdfMake.pageMargins,bottom:i.defaults.pdfMake.pageMargins};return n}function h(n,t){var r=i.defaults.pdfMake.pageSizes[String(n).toUpperCase()].slice();if(!r)throw new Error('The given pageSize "'+n+'" does not exist!');return t=="landscape"&&r.reverse(),r}var r=i.deepMerge(i.deepMerge({multiplier:i.config.multiplier||2,pageOrigin:i.config.pageOrigin===undefined?!0:!1},i.config.pdfMake),n||{},!0),o;if(!i.handleNamespace("pdfMake",{scope:this,cb:i.toPDF,args:arguments}))return!1;if(o=new pdfMake.createPdf(r),r.images.reference=i.toPNG(r),!r.content){var u=[],f=h(r.pageSize,r.pageOrientation),e=s(r.pageMargins);f[0]-=e.left+e.right;f[1]-=e.top+e.bottom;r.pageOrigin&&(u.push(i.i18l("label.saved.from")),u.push(window.location.href),f[1]-=14.064*2);u.push({image:"reference",fit:f});r.content=u}return t&&o.getDataUrl(function(n){return function(){n.apply(i,arguments)}}(t)),o},toPRINT:function(n,t){var r,f=i.deepMerge({delay:.01,lossless:!1},n||{}),e=i.toImage(f),o=[],u=document.body.childNodes,s=document.documentElement.scrollTop||document.body.scrollTop;for(e.setAttribute("style","width: 100%; max-height: 100%;"),r=0;r<u.length;r++)i.isElement(u[r])&&(o[r]=u[r].style.display,u[r].style.display="none");return document.body.appendChild(e),setTimeout(function(){window.print();f.delay*=1e3;var n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;n&&f.delay<1e3&&(f.delay=1e3);setTimeout(function(){for(r=0;r<u.length;r++)i.isElement(u[r])&&(u[r].style.display=o[r]);document.body.removeChild(e);document.documentElement.scrollTop=document.body.scrollTop=s;i.handleCallback(t,e,f)},f.delay)},1),e},toJSON:function(n,t){var r=i.deepMerge({dateFormat:i.config.dateFormat||"dateObject"},n||{},!0),u={};return i.handleNamespace("JSON",{scope:this,cb:i.toJSON,args:arguments})?(r.data=r.data!==undefined?r.data:i.getChartData(r),u=JSON.stringify(r.data,undefined,"\t"),i.handleCallback(t,u,r),u):!1},toCSV:function(n,t){var r,u=i.deepMerge({delimiter:",",quotes:!0,escape:!0,withHeader:!0},n||{},!0),f=[],e="";f=i.toArray(u);for(r in f)isNaN(r)||(e+=f[r].join(u.delimiter)+"\n");return i.handleCallback(t,e,u),e},toXLSX:function(n,t){function o(n,t){t&&(n+=1462);var i=Date.parse(n),r=n.getTimezoneOffset()*6e4;return(i-r-new Date(Date.UTC(1899,11,30)))/864e5}function s(n){for(var u,t,e,f={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},r=0;r!=n.length;++r)for(u=0;u!=n[r].length;++u)(i.s.r>r&&(i.s.r=r),i.s.c>u&&(i.s.c=u),i.e.r<r&&(i.e.r=r),i.e.c<u&&(i.e.c=u),t={v:n[r][u]},t.v!=null)&&(e=XLSX.utils.encode_cell({c:u,r:r}),typeof t.v=="number"?t.t="n":typeof t.v=="boolean"?t.t="b":t.v instanceof Date?(t.t="n",t.z=XLSX.SSF._table[14],t.v=o(t.v)):t.v instanceof Object?(t.t="s",t.v=JSON.stringify(t.v)):t.t="s",f[e]=t);return i.s.c<1e7&&(f["!ref"]=XLSX.utils.encode_range(i)),f}var u=i.deepMerge({name:"amCharts",dateFormat:i.config.dateFormat||"dateObject",withHeader:!0,stringify:!1},n||{},!0),e=[],r="",f={SheetNames:[],Sheets:{}};return i.handleNamespace("XLSX",{scope:this,cb:i.toXLSX,args:arguments})?(e=i.toArray(u),f.SheetNames.push(u.name),f.Sheets[u.name]=s(e),r=XLSX.write(f,{bookType:"xlsx",bookSST:!0,type:"base64"}),r="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+r,i.handleCallback(t,r,u),r):!1},toArray:function(n,t){function a(n,t){var u=t.exportFields||Object.keys(t.dataFieldsMap),f,e;for(r=0;r<u.length;r++)f=u[r],e=t.dataFieldsTitlesMap[f],o.push(e);return c?i.handleCallback(c,n,t):n}function l(n){return typeof n=="string"&&(u.escape&&(n=n.replace('"','""')),u.quotes&&(n=['"',n,'"'].join(""))),n}var h,u=i.deepMerge({withHeader:!1,stringify:!0,escape:!1,quotes:!1},n||{},!0),s=[],o=[],f=[],c=i.config.processData,r,e;if(u.processData=a,u.data=u.data!==undefined?i.processData(u):i.getChartData(u),u.withHeader){f=[];for(r in o)isNaN(r)||f.push(l(o[r]));s.push(f)}for(h in u.data)if(f=[],!isNaN(h)){for(r in o)isNaN(r)||(r=o[r],e=u.data[h][r],e=e==null?"":u.stringify?String(e):e,f.push(l(e)));s.push(f)}return i.handleCallback(t,s,u),s},toByteArray:function(n,t){function r(n){var t=n.charCodeAt(0);return t===c?62:t===l?63:t<u?-1:t<u+10?t-u+26+26:t<o+26?t-o:t<e+26?t-e+26:void 0}function a(n){function u(n){e[l++]=n}var t,s,c,i,f,e,o,l;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");for(o=n.length,f="="===n.charAt(o-2)?2:"="===n.charAt(o-1)?1:0,e=new h(n.length*3/4-f),c=f>0?n.length-4:n.length,l=0,t=0,s=0;t<c;t+=4,s+=3)i=r(n.charAt(t))<<18|r(n.charAt(t+1))<<12|r(n.charAt(t+2))<<6|r(n.charAt(t+3)),u((i&16711680)>>16),u((i&65280)>>8),u(i&255);return f===2?(i=r(n.charAt(t))<<2|r(n.charAt(t+1))>>4,u(i&255)):f===1&&(i=r(n.charAt(t))<<10|r(n.charAt(t+1))<<4|r(n.charAt(t+2))>>2,u(i>>8&255),u(i&255)),e}var f=i.deepMerge({},n||{}),h=typeof Uint8Array!="undefined"?Uint8Array:Array,c="+".charCodeAt(0),l="/".charCodeAt(0),u="0".charCodeAt(0),e="a".charCodeAt(0),o="A".charCodeAt(0),s=a(f.data);return i.handleCallback(t,s,f),s},handleCallback:function(n){var t,r=Array();if(n&&n instanceof Function){for(t=0;t<arguments.length;t++)t>0&&r.push(arguments[t]);return n.apply(i,r)}},handleLog:function(n){i.config.debug===!0&&console.log(n)},handleNamespace:function(n,t){function e(){var s=Number(new Date);r=!!(n in u);n=="pdfMake"&&r&&(r=u.pdfMake.vfs);r?(clearTimeout(f),t.cb.apply(t.scope,t.args),i.handleLog(['AmCharts [export]: Namespace "',n,'" showed up in: ',String(u)].join(""))):s-o<i.libs.loadTimeout?f=setTimeout(e,250):i.handleLog(['AmCharts [export]: Gave up waiting for "',n,'" in: ',String(u)].join(""))}var u=i.config.scope||window,r=!1,o=Number(new Date),f;return r=!!(n in u),r||(i.handleLog(['AmCharts [export]: Could not find "',n,'" in: ',String(u)].join("")),e()),r},handleBorder:function(n){if(i.config.border instanceof Object){var t=i.deepMerge(i.defaults.fabric.border,n.border||{},!0),r=new fabric.Rect;t.width=i.setup.fabric.width-t.strokeWidth;t.height=i.setup.fabric.height-t.strokeWidth;r.set(t);i.setup.fabric.add(r)}},handleDropbox:function(n){var t,r;if(i.drawing.enabled)if(n.preventDefault(),n.stopPropagation(),n.type=="dragover")i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active dropbox");else if(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),n.type=="drop"&&n.dataTransfer.files.length)for(t=0;t<n.dataTransfer.files.length;t++)r=new FileReader,r.onloadend=function(t){return function(){i.drawing.handler.add({url:r.result,top:n.layerY-t*10,left:n.layerX-t*10})}}(t),r.readAsDataURL(n.dataTransfer.files[t])},handleReady:function(n){var t=this,i=Number(new Date),r;t.handleCallback(n,"data",!1);for(filename in t.libs.namespaces)r=t.libs.namespaces[filename],function(r){var u=setInterval(function(){var f=Number(new Date);(f-i>t.libs.loadTimeout||r in window)&&(clearTimeout(u),t.handleCallback(n,r,f-i>t.libs.loadTimeout))},AmCharts.updateRate)}(r)},getChartData:function(n){function o(n,t,r){function f(n,t){return u.dataFields.indexOf(n)!=-1?f([n,".",t].join("")):n}n&&u.exportTitles&&i.setup.chart.type!="gantt"&&(e=f(n,r),u.dataFieldsMap[e]=n,u.dataFields.push(e),u.titles[e]=t||e)}var u=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames},n||{},!0),t,r,s,h=["valueField","openField","closeField","highField","lowField","xField","yField"],y,p,c,e,a,l,f,v,w;if(u.data.length==0)if(i.setup.chart.type=="stock"){for(u.data=i.cloneObject(i.setup.chart.mainDataSet.dataProvider),o(i.setup.chart.mainDataSet.categoryField),u.dateFields.push(i.setup.chart.mainDataSet.categoryField),t=0;t<i.setup.chart.mainDataSet.fieldMappings.length;t++)for(c=i.setup.chart.mainDataSet.fieldMappings[t],r=0;r<i.setup.chart.panels.length;r++)for(p=i.setup.chart.panels[r],s=0;s<p.stockGraphs.length;s++)for(f=p.stockGraphs[s],i4=0;i4<h.length;i4++)f[h[i4]]==c.toField&&o(c.fromField,f.title,h[i4]);if(i.setup.chart.comparedGraphs.length){for(y=[],t=0;t<u.data.length;t++)y.push(u.data[t][i.setup.chart.mainDataSet.categoryField]);for(t=0;t<i.setup.chart.comparedGraphs.length;t++)for(f=i.setup.chart.comparedGraphs[t],r=0;r<f.dataSet.dataProvider.length;r++){var k=f.dataSet.categoryField,d=f.dataSet.dataProvider[r][k],b=y.indexOf(d);if(b!=-1)for(s=0;s<f.dataSet.fieldMappings.length;s++)c=f.dataSet.fieldMappings[s],e=f.dataSet.id+"_"+c.toField,u.data[b][e]=f.dataSet.dataProvider[r][c.fromField],u.titles[e]||o(e,f.dataSet.title)}}}else if(i.setup.chart.type=="gantt"){for(o(i.setup.chart.categoryField),u.dateFields.push(i.setup.chart.categoryField),a=i.setup.chart.segmentsField,t=0;t<i.setup.chart.dataProvider.length;t++)if(l=i.setup.chart.dataProvider[t],l[a])for(r=0;r<l[a].length;r++)l[a][r][i.setup.chart.categoryField]=l[i.setup.chart.categoryField],u.data.push(l[a][r]);for(t=0;t<i.setup.chart.graphs.length;t++)for(f=i.setup.chart.graphs[t],r=0;r<h.length;r++){var v=h[r],w=f[v],g=f.title;o(w,f.title,v)}}else if(["pie","funnel"].indexOf(i.setup.chart.type)!=-1)u.data=i.setup.chart.dataProvider,o(i.setup.chart.titleField),u.dateFields.push(i.setup.chart.titleField),o(i.setup.chart.valueField);else if(i.setup.chart.type!="map")for(u.data=i.setup.chart.dataProvider,i.setup.chart.categoryAxis&&(o(i.setup.chart.categoryField,i.setup.chart.categoryAxis.title),i.setup.chart.categoryAxis.parseDates!==!1&&u.dateFields.push(i.setup.chart.categoryField)),t=0;t<i.setup.chart.graphs.length;t++)for(f=i.setup.chart.graphs[t],r=0;r<h.length;r++)v=h[r],w=f[v],o(w,f.title,v);return i.processData(u)},getAnnotations:function(n,t){for(var e=i.deepMerge({},n||{},!0),u=[],f,r=0;r<i.setup.fabric._objects.length;r++)i.setup.fabric._objects[r].isCoreElement||(f=i.setup.fabric._objects[r].toJSON(),i.handleCallback(e.reviver,f,r),u.push(f));return i.handleCallback(t,u),u},setAnnotations:function(n,t){var r=i.deepMerge({data:[]},n||{},!0);return fabric.util.enlivenObjects(r.data,function(n){n.forEach(function(n,t){i.handleCallback(r.reviver,n,t);i.setup.fabric.add(n)});i.handleCallback(t,r)}),r.data},processData:function(t){var r=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},dataFieldsTitlesMap:{},dataDateFormat:i.setup.chart.dataDateFormat,dateFormat:i.config.dateFormat||i.setup.chart.dataDateFormat||"YYYY-MM-DD",exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames,processData:i.config.processData},t||{},!0),f,e,l,s,h;if(r.data.length){for(f=0;f<r.data.length;f++)for(e in r.data[f])r.dataFields.indexOf(e)==-1&&(r.dataFields.push(e),r.dataFieldsMap[e]=e);for(r.exportFields!==undefined&&(r.dataFields=r.exportFields.filter(function(n){return r.dataFields.indexOf(n)!=-1})),l=[],f=0;f<r.data.length;f++){for(s={},h=!1,e=0;e<r.dataFields.length;e++){var o=r.dataFields[e],a=r.dataFieldsMap[o],c=r.columnNames&&r.columnNames[o]||r.titles[o]||o,u=r.data[f][a];u==null&&(u=undefined);r.exportTitles&&i.setup.chart.type!="gantt"&&c in s&&(c+=["( ",o," )"].join(""));r.dateFields.indexOf(a)!=-1&&(r.dataDateFormat&&(u instanceof String||typeof u=="string")?u=AmCharts.stringToDate(u,r.dataDateFormat):r.dateFormat&&(u instanceof Number||typeof u=="number")&&(u=new Date(u)),r.exportSelection&&(u instanceof Date?(u<n.startDate||u>n.endDate)&&(h=!0):(f<n.startIndex||f>n.endIndex)&&(h=!0)),r.dateFormat&&r.dateFormat!="dateObject"&&u instanceof Date&&(u=AmCharts.formatDate(u,r.dateFormat)));r.dataFieldsTitlesMap[a]=c;s[c]=u}h||l.push(s)}r.data=l}return r.processData!==undefined&&(r.data=i.handleCallback(r.processData,r.data,r)),r.data},capitalize:function(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()},createMenu:function(t,r){function f(t,r){for(var s,y=document.createElement("ul"),v,h,o,k,d,c=0;c<t.length;c++){var e=typeof t[c]=="string"?{format:t[c]}:t[c],l=document.createElement("li"),a=document.createElement("a"),w=document.createElement("img"),p=document.createElement("span"),b=String(e.action?e.action:e.format).toLowerCase();if(e.format=String(e.format).toUpperCase(),a.addEventListener("focus",function(){i.setup.hasTouch||(i.setup.focusedMenuItem=this,this.parentNode.classList.add("active"),this.parentNode.parentNode.parentNode.classList.add("active"))}),i.config.formats[e.format]?e=i.deepMerge({label:e.icon?"":e.format,format:e.format,mimeType:i.config.formats[e.format].mimeType,extension:i.config.formats[e.format].extension,capture:i.config.formats[e.format].capture,action:i.config.action,fileName:i.config.fileName},e):e.label||(e.label=e.label?e.label:i.i18l("menu.label."+b)),["CSV","JSON","XLSX"].indexOf(e.format)!=-1&&["map","gauge"].indexOf(i.setup.chart.type)!=-1)continue;else if(!i.setup.hasBlob&&e.format!="UNDEFINED"&&e.mimeType&&e.mimeType.split("/")[0]!="image"&&e.mimeType!="text/plain")continue;if(e.action=="draw")i.config.fabric.drawing.enabled?(e.menu=e.menu?e.menu:i.config.fabric.drawing.menu,e.click=function(n){return function(){this.capture(n,function(){this.createMenu(n.menu)})}}(e)):e.menu=[];else if(!e.populated&&e.action&&e.action.indexOf("draw.")!=-1)for(v=e.action.split(".")[1],h=e[v]||i.config.fabric.drawing[v]||[],e.menu=[],e.populated=!0,s=0;s<h.length;s++)o={label:h[s]},v=="shapes"?(k=h[s].indexOf("//")==-1,d=(k?i.config.path+"shapes/":"")+h[s],o.action="add",o.url=d,o.icon=d,o.ignore=k,o["class"]="export-drawing-shape"):v=="colors"?(o.style="background-color: "+h[s],o.action="change",o.color=h[s],o["class"]="export-drawing-color"):v=="widths"?(o.action="change",o.width=h[s],o.label=document.createElement("span"),o.label.style.width=i.numberToPx(h[s]),o.label.style.height=i.numberToPx(h[s]),o["class"]="export-drawing-width"):v=="opacities"?(o.style="opacity: "+h[s],o.action="change",o.opacity=h[s],o.label=h[s]*100+"%",o["class"]="export-drawing-opacity"):v=="modes"&&(o.label=i.i18l("menu.label.draw.modes."+h[s]),o.click=function(n){return function(){i.drawing.mode=n}}(h[s]),o["class"]="export-drawing-mode"),e.menu.push(o);else e.click||e.menu||e.items||(i.drawing.handler[b]instanceof Function?(e.action=b,e.click=function(n){return function(){this.drawing.handler[n.action](n)}}(e)):i.drawing.enabled?e.click=function(n){return function(){this.config.drawing.autoClose&&this.drawing.handler.done();this["to"+n.format](n,function(t){n.action=="download"&&this.download(t,n.mimeType,[n.fileName,n.extension].join("."))})}}(e):e.format!="UNDEFINED"&&(e.click=function(n){return function(){if(n.capture||n.action=="print"||n.format=="PRINT")this.capture(n,function(){this.drawing.handler.done();this["to"+n.format](n,function(t){n.action=="download"&&this.download(t,n.mimeType,[n.fileName,n.extension].join("."))})});else if(this["to"+n.format])this["to"+n.format](n,function(t){this.download(t,n.mimeType,[n.fileName,n.extension].join("."))});else throw new Error("Invalid format. Could not determine output type.");}}(e)));(e.menu===undefined||e.menu.length)&&(a.setAttribute("href","#"),a.addEventListener("click",function(n,t){return function(r){r.preventDefault();var u=[r,t];if((t.action=="draw"||t.format=="PRINT"||t.format!="UNDEFINED"&&t.capture)&&!i.drawing.enabled&&(!isNaN(t.delay)||!isNaN(i.config.delay))){t.delay=isNaN(t.delay)?i.config.delay:t.delay;i.delay(t,n);return}n.apply(i,u)}}(e.click||function(n){n.preventDefault()},e)),i.setup.hasTouch&&l.classList&&a.addEventListener("click",function(n){return function(t){function h(n){var t=n.parentNode.parentNode,i=t.classList;return t.tagName=="LI"&&i.contains("active")?!0:!1}function l(n){var r=n.parentNode.children,t,i;for(c=0;c<r.length;c++)if(t=r[c],i=t.classList,t!==n&&i.contains("active"))return i.remove("active"),!0;return!1}function a(n){return n.getElementsByTagName("ul").length>0}function o(n){return n.classList.contains("export-main")||n.classList.contains("export-drawing")}t.preventDefault();var r=n.elements.li,s=h(r),p=l(r),f=a(r);if((o(r)||!f)&&i.setup.menu.classList.toggle("active"),!s||!f)while(u.length){var e=u.pop(),v=o(e),y=e!==r;v?f||e.classList.remove("active"):y&&e.classList.remove("active")}u.push(r);f&&r.classList.toggle("active")}}(e)),l.appendChild(a),i.isElement(e.label)?p.appendChild(e.label):p.innerHTML=e.label,e["class"]&&(l.className=e["class"]),e.style&&l.setAttribute("style",e.style),e.icon&&(w.setAttribute("src",(!e.ignore&&e.icon.slice(0,10).indexOf("//")==-1?n.pathToImages:"")+e.icon),a.appendChild(w)),e.label&&a.appendChild(p),e.title&&a.setAttribute("title",e.title),i.config.menuReviver&&(l=i.config.menuReviver.apply(i,[e,l])),e.elements={li:l,a:a,img:w,span:p},(e.menu||e.items)&&e.action!="draw"?f(e.menu||e.items,l).childNodes.length&&y.appendChild(l):y.appendChild(l))}return y.childNodes.length&&r.appendChild(y),y}var u=[];return r||(typeof i.config.divId=="string"?i.config.divId=r=document.getElementById(i.config.divId):r=i.isElement(i.config.divId)?i.config.divId:i.setup.chart.containerDiv),i.isElement(i.setup.menu)?i.setup.menu.innerHTML="":i.setup.menu=document.createElement("div"),i.setup.menu.setAttribute("class",i.setup.chart.classNamePrefix+"-export-menu "+i.setup.chart.classNamePrefix+"-export-menu-"+i.config.position+" amExportButton"),i.config.menuWalker&&(f=i.config.menuWalker),f.apply(this,[t,i.setup.menu]),i.setup.menu.childNodes.length&&r.appendChild(i.setup.menu),i.setup.menu},delay:function(n,t){var r=i.deepMerge({delay:3,precision:2},n||{}),u,f,o=Number(new Date),s=i.createMenu([{label:i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(r.delay,r.precision)),title:i.i18l("capturing.delayed.menu.title"),"class":"export-delayed-capturing",click:function(){clearTimeout(u);clearTimeout(f);i.createMenu(i.config.menu)}}]),e=s.getElementsByTagName("a")[0];u=setInterval(function(){var n=r.delay-(Number(new Date)-o)/1e3;n<=0?(clearTimeout(u),r.action!="draw"&&i.createMenu(i.config.menu)):e&&(e.innerHTML=i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(n,2)))},AmCharts.updateRate);f=setTimeout(function(){t.apply(i,arguments)},r.delay*1e3)},migrateSetup:function(n){function i(n){var r,u;for(r in n)u=n[r],r.slice(0,6)=="export"&&u?t.menu.push(r.slice(6)):r=="userCFG"?i(u):r=="menuItems"?t.menu=u:r=="libs"?t.libs=u:typeof r=="string"&&(t[r]=u)}var t={enabled:!0,migrated:!0,libs:{autoLoad:!0},menu:[]};return i(n),t},clear:function(){var n,t,r;if(i.setup=undefined,i.docListener&&document.removeEventListener("keydown",i.docListener),n=i.listenersToRemove,n)for(t=0;t<n.length;t++)r=n[t],r.node.removeEventListener(r.event,r.method);i.listenersToRemove=[]},loadListeners:function(){function n(n){n&&(n.set({top:n.top+10,left:n.left+10}),i.setup.fabric.add(n))}i.config.keyListener&&i.config.keyListener!="attached"&&(i.docListener=function(t){function u(n,t){for(i1=0;i1<n.length;i1++){var i=n[i1];i.parentNode.classList.remove("active");i1!=0||t||i.focus()}}function f(n){i.setup.focusedMenuItem&&i.setup.focusedMenuItem.nextSibling&&(i.setup.focusedMenuItem.parentNode.classList.add("active"),u(i.setup.focusedMenuItem.nextSibling.getElementsByTagName("a"),n))}function o(n){i.setup.focusedMenuItem&&i.setup.focusedMenuItem.parentNode.parentNode.parentNode&&(i.setup.focusedMenuItem.parentNode.classList.add("active"),u(i.setup.focusedMenuItem.parentNode.parentNode.parentNode.getElementsByTagName("a"),n))}function s(n){i.setup.focusedMenuItem&&i.setup.focusedMenuItem.parentNode.nextSibling&&(i.setup.focusedMenuItem.parentNode.classList.remove("active"),u(i.setup.focusedMenuItem.parentNode.nextSibling.getElementsByTagName("a"),n))}function h(n){i.setup.focusedMenuItem&&i.setup.focusedMenuItem.parentNode.previousSibling&&(i.setup.focusedMenuItem.parentNode.classList.remove("active"),u(i.setup.focusedMenuItem.parentNode.previousSibling.getElementsByTagName("a"),n))}function c(){function n(t){i.isElement(t)&&(t.blur(),t.parentNode&&t.parentNode.classList.remove("active"),t.classList.contains("amExportButton")||n(t.parentNode))}i.setup.focusedMenuItem&&(n(i.setup.focusedMenuItem),i.setup.focusedMenuItem=undefined)}var r=i.drawing.buffer.target,l=["top-left","bottom-left"].indexOf(i.config.position)!=-1,e=["top-right","bottom-right"].indexOf(i.config.position)!=-1;if(i.setup.focusedMenuItem&&[37,38,39,40,13,9,27].indexOf(t.keyCode)!=-1){if(t.keyCode==9){i.setup.focusedMenuItem.nextSibling?t.shiftKey&&i.setup.focusedMenuItem.parentNode.classList.remove("active"):(i.setup.focusedMenuItem.parentNode.classList.remove("active"),i.setup.focusedMenuItem.parentNode.nextSibling||(i.setup.focusedMenuItem.parentNode.classList.remove("active"),i.setup.focusedMenuItem.parentNode.parentNode.parentNode.classList.remove("active")));return}t.keyCode==13&&i.setup.focusedMenuItem.nextSibling&&f();t.keyCode==37&&(e?f():o());t.keyCode==39&&(e?o():f());t.keyCode==40&&s();t.keyCode==38&&h();t.keyCode==27&&c()}(t.keyCode==8||t.keyCode==46)&&r?(t.preventDefault(),i.setup.fabric.remove(r)):t.keyCode==27&&i.drawing.enabled?(t.preventDefault(),i.drawing.buffer.isSelected?i.setup.fabric.discardActiveObject():i.drawing.handler.done()):t.keyCode==67&&(t.metaKey||t.ctrlKey)&&r?i.drawing.buffer.copy=r:t.keyCode==88&&(t.metaKey||t.ctrlKey)&&r?(i.drawing.buffer.copy=r,i.setup.fabric.remove(r)):t.keyCode==86&&(t.metaKey||t.ctrlKey)?i.drawing.buffer.copy&&n(i.drawing.buffer.copy.clone(n)):t.keyCode==90&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),t.shiftKey?i.drawing.handler.redo():i.drawing.handler.undo())},i.config.keyListener="attached",document.addEventListener("keydown",i.docListener));i.config.fileListener&&(i.setup.chart.containerDiv.addEventListener("dragover",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("dragleave",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("drop",i.handleDropbox))},init:function(){clearTimeout(r);r=setInterval(function(){i.setup&&i.setup.chart.containerDiv&&(clearTimeout(r),i.config.enabled&&(i.setup.chart.AmExport=i,i.config.overflow&&(i.setup.chart.div.style.overflow="visible"),i.loadListeners(),i.createMenu(i.config.menu),i.handleReady(i.config.onReady)))},AmCharts.updateRate)},construct:function(){i.drawing.handler.cancel=i.drawing.handler.done;try{i.setup.hasBlob=!!new Blob}catch(n){}window.safari=window.safari?window.safari:{};i.defaults.fabric.drawing.fontSize=i.setup.chart.fontSize||11;i.config.drawing=i.deepMerge(i.defaults.fabric.drawing,i.config.drawing||{},!0);i.config.border&&(i.config.border=i.deepMerge(i.defaults.fabric.border,i.config.border||{},!0));i.deepMerge(i.defaults.fabric,i.config,!0);i.deepMerge(i.defaults.fabric,i.config.fabric||{},!0);i.deepMerge(i.defaults.pdfMake,i.config,!0);i.deepMerge(i.defaults.pdfMake,i.config.pdfMake||{},!0);i.deepMerge(i.libs,i.config.libs||{},!0);i.config.drawing=i.defaults.fabric.drawing;i.config.fabric=i.defaults.fabric;i.config.pdfMake=i.defaults.pdfMake;i.config=i.deepMerge(i.defaults,i.config,!0);i.config.fabric.drawing.enabled&&i.config.fabric.drawing.menu===undefined&&(i.config.fabric.drawing.menu=[],i.deepMerge(i.config.fabric.drawing.menu,[{"class":"export-drawing",menu:[{label:i.i18l("menu.label.draw.add"),menu:[{label:i.i18l("menu.label.draw.shapes"),action:"draw.shapes"},{label:i.i18l("menu.label.draw.text"),action:"text"}]},{label:i.i18l("menu.label.draw.change"),menu:[{label:i.i18l("menu.label.draw.modes"),action:"draw.modes"},{label:i.i18l("menu.label.draw.colors"),action:"draw.colors"},{label:i.i18l("menu.label.draw.widths"),action:"draw.widths"},{label:i.i18l("menu.label.draw.opacities"),action:"draw.opacities"},"UNDO","REDO"]},{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},"PRINT","CANCEL"]}]));i.config.menu===undefined&&(i.config.menu=[],i.deepMerge(i.config,{menu:[{"class":"export-main",menu:[{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},{label:i.i18l("menu.label.save.data"),menu:["CSV","XLSX","JSON"]},{label:i.i18l("menu.label.draw"),action:"draw",menu:i.config.fabric.drawing.menu},{format:"PRINT",label:i.i18l("menu.label.print")}]}]}));i.libs.path||(i.libs.path=i.config.path+"libs/");i.isSupported()&&(i.loadDependencies(i.libs.resources,i.libs.reload),i.setup.chart.addClassNames=!0,i.setup.chart[i.name]=i,i.init())}};if(t)i.config=t;else if(i.setup.chart[i.name])i.config=i.setup.chart[i.name];else if(i.setup.chart.amExport||i.setup.chart.exportConfig)i.config=i.migrateSetup(i.setup.chart.amExport||i.setup.chart.exportConfig);else return;return i.construct(),i.deepMerge(this,i)}}();AmCharts.addInitHandler(function(n){new AmCharts["export"](n)},["pie","serial","xy","funnel","radar","gauge","stock","map","gantt"]);AmCharts.translations["export"].pt={"fallback.save.text":"CTRL + C para copiar os dados para a área de transferência.","fallback.save.image":"Clique Direito -> Salvar imagem como... para salvar a imagem.","capturing.delayed.menu.label":"{{duration}}","capturing.delayed.menu.title":"Clique para cancelar","menu.label.print":"Imprimir","menu.label.undo":"Desfazer","menu.label.redo":"Refazer","menu.label.cancel":"Cancelar","menu.label.save.image":"Baixar Como","menu.label.save.data":"Salvar Como","menu.label.draw":"Editar","menu.label.draw.change":"Alterar","menu.label.draw.add":"Adicionar","menu.label.draw.shapes":"Forma","menu.label.draw.colors":"Cor","menu.label.draw.widths":"Tamanho","menu.label.draw.opacities":"Tranparência","menu.label.draw.text":"Texto","menu.label.draw.modes":"Ferramenta","menu.label.draw.modes.pencil":"Pincel","menu.label.draw.modes.line":"Linha","menu.label.draw.modes.arrow":"Seta","label.saved.from":"Salvar de: "};AmCharts.translations.dataLoader={};AmCharts.addInitHandler(function(n){function r(e,o,s,l){undefined===l&&(l="dataProvider");s.showCurtain&&c(undefined,s.noStyles);t.remaining++;t.percentLoaded[e]=0;s.progress!==undefined&&typeof s.progress=="function"&&s._progress===undefined&&(s._progress=s.progress,s.progress=function(n){var i,r,u,f;t.percentLoaded[e]=n;i=0;r=0;for(u in t.percentLoaded)t.percentLoaded.hasOwnProperty(u)&&(r++,i+=t.percentLoaded[u]);f=Math.round(i/r*100)/100;s._progress.call(this,f,Math.round(n*100)/100,e)});AmCharts.loadFile(e,s,function(c){if(!1===c)i(s.error,s,n),u(AmCharts.__("Error loading the file",n.language)+": "+e,!1,s);else{undefined===s.format&&(s.format="json");s.format=s.format.toLowerCase();switch(s.format){case"json":if(o[l]=AmCharts.parseJSON(c),!1===o[l]){i(s.error,s,n);u(AmCharts.__("Error parsing JSON file",n.language)+": "+t.url,!1,s);o[l]=[];return}o[l]=h(o[l],s);i(s.load,s,n);break;case"csv":if(o[l]=AmCharts.parseCSV(c,s),!1===o[l]){i(s.error,s,n);u(AmCharts.__("Error parsing CSV file",n.language)+": "+t.url,!1,s);o[l]=[];return}o[l]=h(o[l],s);i(s.load,s,n);break;default:i(s.error,s,n);u(AmCharts.__("Unsupported data format",n.language)+": "+s.format,!1,s.noStyles);return}if(t.remaining--,0===t.remaining&&(i(s.complete,n),s.async))if("map"===n.type)n.validateNow(!0),f();else if("gauge"!==n.type&&n.addListener("dataUpdated",function(){"stock"!==n.type||s.reloading||undefined===n.periodSelector||n.periodSelector.setDefaultPeriod();f();n.events.dataUpdated.pop()}),n.validateData(),"gauge"===n.type&&f(),t.startDuration)if("stock"===n.type){n.panelsSettings.startDuration=t.startDuration;for(var a=0;a<n.panels.length;a++)n.panels[a].startDuration=t.startDuration,n.panels[a].animateAgain()}else n.startDuration=t.startDuration,n.animateAgain!==undefined&&n.animateAgain();s.reload&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(r,1e3*s.reload,e,o,s,l),s.reloading=!0)}})}function h(i,r){if(undefined!==r.postProcess&&a(r.postProcess))try{return r.postProcess.call(t,i,r,n)}catch(f){return u(AmCharts.__("Error loading file",n.language)+": "+r.url,!1,r),i}else return i}function l(n){return"object"==typeof n}function a(n){return"function"==typeof n}function s(n){for(var t in o)o.hasOwnProperty(t)&&v(n,t,o[t])}function v(n,t,i){undefined===n[t]&&(n[t]=i)}function u(n,t,i){i.showErrors?c(n,i.noStyles):(f(),console.log(n))}function c(i,r){f();undefined===i&&(i=AmCharts.__("Loading data...",n.language));var u=document.createElement("div");if(u.setAttribute("id",n.div.id+"-curtain"),u.className="amcharts-dataloader-curtain",!0!==r){u.style.position="absolute";u.style.top=0;u.style.left=0;u.style.width=(undefined!==n.realWidth?n.realWidth:n.divRealWidth)+"px";u.style.height=(undefined!==n.realHeight?n.realHeight:n.divRealHeight)+"px";u.style.textAlign="center";u.style.display="table";u.style.fontSize="20px";try{u.style.background="rgba(255, 255, 255, 0.3)"}catch(e){u.style.background="rgb(255, 255, 255)"}u.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+i+"<\/div>"}else u.innerHTML=i;n.containerDiv.appendChild(u);t.curtain=u}function f(){try{undefined!==t.curtain&&n.containerDiv.removeChild(t.curtain)}catch(i){}t.curtain=undefined}function i(n,i,r,u){"function"==typeof n&&n.call(t,i,r,u)}var e,t,o;(undefined!==n.dataLoader&&l(n.dataLoader)||(n.dataLoader={}),e=n.version.split("."),Number(e[0])<3||3===Number(e[0])&&Number(e[1])<13)||(t=n.dataLoader,t.remaining=0,t.percentLoaded={},o={async:!0,format:"json",showErrors:!0,showCurtain:!0,noStyles:!1,reload:0,timestamp:!1,delimiter:",",skip:0,skipEmpty:!0,emptyAs:undefined,useColumnNames:!1,init:!1,progress:!1,reverse:!1,reloading:!1,complete:!1,error:!1,numberFields:[],headers:[],chart:n},t.loadData=function(){if("stock"===n.type)setTimeout(function(){var f,u;for(0>n.panelsSettings.startDuration&&(t.startDuration=n.panelsSettings.startDuration,n.panelsSettings.startDuration=0),f=0;f<n.dataSets.length;f++)u=n.dataSets[f],undefined!==u.dataLoader&&undefined!==u.dataLoader.url&&(i(u.dataLoader.init,u.dataLoader,n),u.dataProvider=[],s(u.dataLoader),r(u.dataLoader.url,u,u.dataLoader,"dataProvider")),undefined!==u.eventDataLoader&&undefined!==u.eventDataLoader.url&&(i(u.eventDataLoader.init,u.eventDataLoader,n),u.events=[],s(u.eventDataLoader),r(u.eventDataLoader.url,u,u.eventDataLoader,"stockEvents"))},100);else{if(i(t.init,t,n),s(t),undefined===t.url)return;undefined!==n.startDuration&&0<n.startDuration&&(t.startDuration=n.startDuration,n.startDuration=0);"gauge"===n.type?(undefined===n.arrows&&(n.arrows=[]),r(t.url,n,t,"arrows")):(undefined===n.dataProvider&&(n.dataProvider=n.type==="map"?{}:[]),r(t.url,n,t,"dataProvider"))}},t.loadData())},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"]);undefined===AmCharts.__&&(AmCharts.__=function(n,t){return undefined!==t&&undefined!==AmCharts.translations.dataLoader[t]&&undefined!==AmCharts.translations.dataLoader[t][n]?AmCharts.translations.dataLoader[t][n]:n});AmCharts.loadFile=function(n,t,i){var r,u,f;typeof t!="object"&&(t={});t.async===undefined&&(t.async=!0);r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{r.open("GET",t.timestamp?AmCharts.timestampUrl(n):n,t.async)}catch(e){i.call(this,!1)}if(t.headers!==undefined&&t.headers.length)for(u=0;u<t.headers.length;u++)f=t.headers[u],r.setRequestHeader(f.key,f.value);t.progress!==undefined&&typeof t.progress=="function"&&(r.onprogress=function(n){var i=n.loaded/n.total*100;t.progress.call(this,i)});r.onreadystatechange=function(){4===r.readyState&&404===r.status?i.call(this,!1):4===r.readyState&&200===r.status&&i.call(this,r.responseText)};try{r.send()}catch(e){i.call(this,!1)}};AmCharts.parseJSON=function(n){try{return undefined!==JSON?JSON.parse(n):eval(n)}catch(t){return!1}};AmCharts.parseCSV=function(n,t){var s=AmCharts.CSVToArray(n,t.delimiter),c=t.numberFields&&t.numberFields.length>0,h=[],u=[],r,i,f,e,o;if(t.useColumnNames){for(u=s.shift(),f=0;f<u.length;f++)r=u[f].replace(/^\s+|\s+$/gm,""),""===r&&(r="col"+f),u[f]=r;0<t.skip&&t.skip--}for(i=0;i<t.skip;i++)s.shift();while(e=t.reverse?s.pop():s.shift())if(!t.skipEmpty||e.length!==1||e[0]!==""){for(o={},i=0;i<e.length;i++)r=undefined===u[i]?"col"+i:u[i],o[r]=e[i]===""?t.emptyAs:e[i],c&&t.numberFields.indexOf(r)!==-1&&(o[r]=Number(o[r]));h.push(o)}return h};AmCharts.CSVToArray=function(n,t){var u,f;t=t||",";for(var e=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],i=null;i=e.exec(n);)u=i[1],u.length&&u!==t&&r.push([]),f=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],r[r.length-1].push(f);return r};AmCharts.timestampUrl=function(n){var t=n.split("?");return 1===t.length?t[1]=(new Date).getTime():t[1]+="&"+(new Date).getTime(),t.join("?")};AmCharts.translations.pt={monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonthNames:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDayNames:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],zoomOutText:"Mostrar todos"};
/*!
 * Datepicker for Bootstrap v1.5.1 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(i.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_process_options:function(t){var f,o,l,a,e,c;this._o=n.extend({},this._o,t);f=this.o=n.extend({},this._o);o=f.language;r[o]||(o=o.split("-")[0],r[o]||(o=s.language));f.language=o;switch(f.startView){case 2:case"decade":f.startView=2;break;case 1:case"year":f.startView=1;break;default:f.startView=0}switch(f.minViewMode){case 1:case"months":f.minViewMode=1;break;case 2:case"years":f.minViewMode=2;break;default:f.minViewMode=0}switch(f.maxViewMode){case 0:case"days":f.maxViewMode=0;break;case 1:case"months":f.maxViewMode=1;break;default:f.maxViewMode=2}if(f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-Infinity&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language):-Infinity),f.endDate!==Infinity&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language):Infinity),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(a=[],a.push(i.parseDate(f.datesDisabled,l,f.language)),f.datesDisabled=a),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&c!=="auto")if(e.length===1)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var v=f.defaultViewDate.year||(new Date).getFullYear(),y=f.defaultViewDate.month||0,p=f.defaultViewDate.day||1;f.defaultViewDate=u(v,y,p)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){var t=this.component?this.element.find("input"):this.element;if(!t.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&n.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)i=window.clipboardData.getData("Text");else return;this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return typeof n!="undefined"?new Date(n):null},clearDates:function(){var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input"));n&&n.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),setValue:function(){var n=this.getFormattedDate();return this.isInput?this.element.val(n):this.component&&this.element.find("input").val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var r,y,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c=this.o.container==="body"?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");t!=="auto"&&t!==0&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return this.o.container!=="body"&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,r==="auto"&&(y=-c+i-s,r=y<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),r==="top"?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),n+='<th class="cw">&#160;<\/th>');t<this.o.weekStart+7;)n+='<th class="dow">'+r[this.o.language].daysMin[t++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+r[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(!this.dateWithinRange(t)||this.dateIsDisabled(t))&&i.push("disabled"),n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var nt=new Date(this.viewDate),f=nt.getUTCFullYear(),w=nt.getUTCMonth(),b=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,ot=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,k=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,st=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ht=r[this.o.language].today||r.en.today||"",ct=r[this.o.language].clear||r.en.clear||"",lt=r[this.o.language].titleFormat||r.en.titleFormat,l,e,d,v,h,a,o,rt,y,ut,ft,et,c,p,s;if(!isNaN(f)&&!isNaN(w)){for(this.picker.find(".datepicker-days thead .datepicker-switch").text(i.formatDate(new u(f,w),lt,this.o.language)),this.picker.find("tfoot .today").text(ht).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ct).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(this.o.title!==""),this.updateNavArrows(),this.fillMonths(),e=u(f,w-1,28),d=i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),e.setUTCDate(d),e.setUTCDate(d-(e.getUTCDay()-this.o.weekStart+7)%7),v=new Date(e),e.getUTCFullYear()<100&&v.setUTCFullYear(e.getUTCFullYear()),v.setUTCDate(v.getUTCDate()+42),v=v.valueOf(),h=[];e.valueOf()<v;){if(e.getUTCDay()===this.o.weekStart&&(h.push("<tr>"),this.o.calendarWeeks)){var tt=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864e5),it=new Date(Number(tt)+(11-tt.getUTCDay())%7*864e5),g=new Date(Number(g=u(it.getUTCFullYear(),0,1))+(11-g.getUTCDay())%7*864e5),at=(it-g)/6048e5+1;h.push('<td class="cw">'+at+"<\/td>")}a=this.getClassNames(e);a.push("day");this.o.beforeShowDay!==n.noop&&(o=this.o.beforeShowDay(this._utc_to_local(e)),o===t?o={}:typeof o=="boolean"?o={enabled:o}:typeof o=="string"&&(o={classes:o}),o.enabled===!1&&a.push("disabled"),o.classes&&(a=a.concat(o.classes.split(/\s+/))),o.tooltip&&(l=o.tooltip));a=n.unique(a);h.push('<td class="'+a.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+e.getUTCDate()+"<\/td>");l=null;e.getUTCDay()===this.o.weekEnd&&h.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(h.join("")),rt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months",y=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?rt:f).end().find("span").removeClass("active"),n.each(this.dates,function(n,t){t.getUTCFullYear()===f&&y.eq(t.getUTCMonth()).addClass("active")}),(f<b||f>k)&&y.addClass("disabled"),f===b&&y.slice(0,ot).addClass("disabled"),f===k&&y.slice(st+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop&&(ut=this,n.each(y,function(t,i){if(!n(i).hasClass("disabled")){var r=new Date(f,t,1),u=ut.o.beforeShowMonth(r);u===!1&&n(i).addClass("disabled")}})),h="",f=parseInt(f/10,10)*10,ft=this.picker.find(".datepicker-years").find(".datepicker-switch").text(f+"-"+(f+9)).end().find("td"),f-=1,et=n.map(this.dates,function(n){return n.getUTCFullYear()}),p=-1;p<11;p++)c=["year"],l=null,p===-1?c.push("old"):p===10&&c.push("new"),n.inArray(f,et)!==-1&&c.push("active"),(f<b||f>k)&&c.push("disabled"),this.o.beforeShowYear!==n.noop&&(s=this.o.beforeShowYear(new Date(f,0,1)),s===t?s={}:typeof s=="boolean"?s={enabled:s}:typeof s=="string"&&(s={classes:s}),s.enabled===!1&&c.push("disabled"),s.classes&&(c=c.concat(s.classes.split(/\s+/))),s.tooltip&&(l=s.tooltip)),h+='<span class="'+c.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+f+"<\/span>",f+=1;ft.html(h)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,e,f,o,s,c;if(t.preventDefault(),t.stopPropagation(),r=n(t.target).closest("span, td, th"),r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":s=i.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s);this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":this.showMode(-2);c=this.o.todayBtn==="linked"?null:"view";this._setDate(h(),c);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1)):(o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,o)),this.showMode(-1)),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")?f===0?(f=11,e-=1):f-=1:r.hasClass("new")&&(f===11?(f=0,e+=1):f+=1),this._setDate(u(e,f,o)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));t&&t!=="view"||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&t==="view"||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();this.o.autoclose&&(!t||t==="date")&&(this.hide(),i.focus(),i.select())},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,t*7)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s===1)u=t===-1?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var f,r,t,i,u;if(!this.picker.is(":visible")){(n.keyCode===40||n.keyCode===27)&&(this.show(),n.stopPropagation());return}f=!1;i=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;r=n.keyCode===37||n.keyCode===38?-1:1;n.ctrlKey?(t=this.moveAvailableDate(i,r,"moveYear"),t&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(t=this.moveAvailableDate(i,r,"moveMonth"),t&&this._trigger("changeMonth",this.viewDate)):n.keyCode===37||n.keyCode===39?t=this.moveAvailableDate(i,r,"moveDay"):this.weekOfDateIsDisabled(i)||(t=this.moveAvailableDate(i,r,"moveWeek"));t&&(this.focusDate=this.viewDate=t,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;i=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(i),f=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}f&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),typeof f!="undefined")){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(e!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])while(r>=0&&i<this.dates[r])this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])while(u<o&&i>this.dates[u])this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c=typeof i=="object"&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}typeof i=="string"&&typeof t[i]=="function"&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");else return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:""};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){if(typeof n.toValue=="function"&&typeof n.toDisplay=="function")return n;var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s){function it(){var n=this.slice(0,l[c].length),t=l[c].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var v,rt,d,w;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var l=e.match(/([\-+]\d+)([dmwy])/g),ut={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},y,nt,c,tt;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,c=0;c<l.length;c++)y=/([\-+]\d+)([dmwy])/.exec(l[c]),nt=parseInt(y[1]),tt=ut[y[2]],e=f.prototype[tt](e,nt);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}l=e&&e.match(this.nonpunctuation)||[];e=new Date;var b={},g=["yyyy","yy","M","MM","m","mm","d","dd"],a={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},p,k;if(a.M=a.MM=a.mm=a.m,a.dd=a.d,e=h(),v=o.parts.slice(),l.length!==v.length&&(v=n(v).filter(function(t,i){return n.inArray(i,g)!==-1}).toArray()),l.length===v.length){for(c=0,rt=v.length;c<rt;c++){if(p=parseInt(l[c],10),y=v[c],isNaN(p))switch(y){case"MM":k=n(r[s].months).filter(it);p=n.inArray(k[0],r[s].months)+1;break;case"M":k=n(r[s].monthsShort).filter(it);p=n.inArray(k[0],r[s].monthsShort)+1}b[y]=p}for(c=0;c<g.length;c++)w=g[c],w in b&&!isNaN(b[w])&&(d=new Date(e),a[w](d,b[w]),isNaN(d)||(e=d))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";if(typeof u=="string"&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);for(e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev"><i class="fa fa-angle-left"><\/i><\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next"><i class="fa fa-angle-right"><\/i><\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.5.1";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)}(function(n){"use strict";var r=function(){var t=function(n){return function(t){return n===t}},i=function(n,t){return n===t},r=function(n){return function(t,i){return t[n]===i[n]}},u=function(){return!0},f=function(){return!1},e=function(n){return function(){return!n.apply(n,arguments)}},o=function(n,t){return function(i){return n(i)&&t(i)}},s=function(n){return n},h=function(n,t){return function(){return n[t].apply(n,arguments)}},c=0,l=function(n){var t=++c+"";return n?n+t:t},a=function(t){var i=n(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},v=function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[n[t]]=t);return i},y=function(n,t){return t=t||"",t+n.split(".").map(function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).join("")};return{eq:t,eq2:i,peq2:r,ok:u,fail:f,self:s,not:e,and:o,invoke:h,uniqueId:l,rect2bnd:a,invertObject:v,namespaceToCamel:y}}(),i=function(){var u=function(n){return n[0]},t=function(n){return n[n.length-1]},o=function(n){return n.slice(0,n.length-1)},f=function(n){return n.slice(1)},s=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r))return r},h=function(n,t){for(var i=0,r=n.length;i<r;i++)if(!t(n[i]))return!1;return!0},i=function(t,i){return n.inArray(i,t)},e=function(n,t){return i(n,t)!==-1},c=function(n,t){return t=t||r.self,n.reduce(function(n,i){return n+t(i)},0)},l=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},a=function(n){return!n||!n.length},v=function(n,i){if(!n.length)return[];var r=f(n);return r.reduce(function(n,r){var u=t(n);return i(t(u),r)?u[u.length]=r:n[n.length]=[r],n},[[u(n)]])},y=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},p=function(n){for(var i=[],t=0,r=n.length;t<r;t++)e(i,n[t])||i.push(n[t]);return i},w=function(n,t){var r=i(n,t);return r===-1?null:n[r+1]},b=function(n,t){var r=i(n,t);return r===-1?null:n[r-1]};return{head:u,last:t,initial:o,tail:f,prev:b,next:w,find:s,contains:e,all:h,sum:c,from:l,isEmpty:a,clusterBy:v,compact:y,unique:p}}(),w=typeof define=="function"&&define.amd,tt=function(t){var r=t==="Comic Sans MS"?"Courier New":"Comic Sans MS",i=n("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),u=i.css("fontFamily",r).width(),f=i.css("fontFamily",t+","+r).width();return i.remove(),u!==f},h=navigator.userAgent,b=/MSIE|Trident/i.test(h),y,c,l,a;if(b&&(c=/MSIE (\d+[.]\d+)/.exec(h),c&&(y=parseFloat(c[1])),c=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(h),c&&(y=parseFloat(c[1]))),l=/Edge\/\d+/.test(h),a=!!window.CodeMirror,!a&&w&&require)if(require.hasOwnProperty("resolve"))try{require.resolve("codemirror");a=!0}catch(rr){a=!1}else require.hasOwnProperty("specified")&&(a=require.specified("codemirror"));var f={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:b,isEdge:l,isFF:!l&&/firefox/i.test(h),isPhantom:/PhantomJS/i.test(h),isWebkit:!l&&/webkit/i.test(h),isChrome:!l&&/chrome/i.test(h),isSafari:!l&&/safari/i.test(h),browserVersion:y,jqueryVersion:parseFloat(n.fn.jquery),isSupportAmd:w,hasCodeMirror:a,isFontInstalled:tt,isW3CRangeSupport:!!document.createRange},k=String.fromCharCode(160),it="﻿",t=function(){var o=function(t){return t&&n(t).hasClass("note-editable")},ri=function(t){return t&&n(t).hasClass("note-control-sizing")},u=function(n){return n=n.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===n}},s=function(n){return n&&n.nodeType===3},ui=function(n){return n&&n.nodeType===1},a=function(n){return n&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(n.nodeName.toUpperCase())},h=function(n){return o(n)?!1:n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())},fi=function(n){return n&&/^H[1-7]/.test(n.nodeName.toUpperCase())},ei=u("PRE"),st=u("LI"),oi=function(n){return h(n)&&!st(n)},ht=u("TABLE"),v=function(n){return!nt(n)&&!ct(n)&&!si(n)&&!h(n)&&!ht(n)&&!g(n)},ct=function(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())},si=u("HR"),lt=function(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())},g=u("BLOCKQUOTE"),nt=function(n){return lt(n)||g(n)||o(n)},at=u("A"),hi=function(n){return v(n)&&!!p(n,h)},ci=function(n){return v(n)&&!p(n,h)},li=u("BODY"),ai=function(n,t){return n.nextSibling===t||n.previousSibling===t},vi=function(n,t){t=t||r.ok;var i=[];return n.previousSibling&&t(n.previousSibling)&&i.push(n.previousSibling),i.push(n),n.nextSibling&&t(n.nextSibling)&&i.push(n.nextSibling),i},y=f.isMSIE&&f.browserVersion<11?"&nbsp;":"<br>",e=function(n){return s(n)?n.nodeValue.length:n.childNodes.length},tt=function(n){var t=e(n);if(t===0)return!0;if(s(n)||t!==1||n.innerHTML!==y){if(i.all(n.childNodes,s)&&n.innerHTML==="")return!0}else return!0;return!1},vt=function(n){a(n)||e(n)||(n.innerHTML=y)},p=function(n,t){while(n){if(t(n))return n;if(o(n))break;n=n.parentNode}return null},yi=function(n,t){for(n=n.parentNode;n;){if(e(n)!==1)break;if(t(n))return n;if(o(n))break;n=n.parentNode}return null},c=function(n,t){t=t||r.fail;var i=[];return p(n,function(n){return o(n)||i.push(n),t(n)}),i},pi=function(n,t){var r=c(n);return i.last(r.filter(t))},wi=function(t,i){for(var u=c(t),r=i;r;r=r.parentNode)if(n.inArray(r,u)>-1)return r;return null},bi=function(n,t){t=t||r.fail;for(var i=[];n;){if(t(n))break;i.push(n);n=n.previousSibling}return i},yt=function(n,t){t=t||r.fail;for(var i=[];n;){if(t(n))break;i.push(n);n=n.nextSibling}return i},ki=function(n,t){var i=[];return t=t||r.ok,function u(r){n!==r&&t(r)&&i.push(r);for(var f=0,e=r.childNodes.length;f<e;f++)u(r.childNodes[f])}(n),i},di=function(t,i){var u=t.parentNode,r=n("<"+i+">")[0];return u.insertBefore(r,t),r.appendChild(t),r},rt=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},ut=function(t,i){return n.each(i,function(n,i){t.appendChild(i)}),t},w=function(n){return n.offset===0},b=function(n){return n.offset===e(n.node)},pt=function(n){return w(n)||b(n)},wt=function(n,t){while(n&&n!==t){if(l(n)!==0)return!1;n=n.parentNode}return!0},bt=function(n,t){while(n&&n!==t){if(l(n)!==e(n.parentNode)-1)return!1;n=n.parentNode}return!0},gi=function(n,t){return w(n)&&wt(n.node,t)},nr=function(n,t){return b(n)&&bt(n.node,t)},l=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},d=function(n){return!!(n&&n.childNodes&&n.childNodes.length)},kt=function(n,t){var i,r;if(n.offset===0){if(o(n.node))return null;i=n.node.parentNode;r=l(n.node)}else d(n.node)?(i=n.node.childNodes[n.offset-1],r=e(i)):(i=n.node,r=t?0:n.offset-1);return{node:i,offset:r}},ft=function(n,t){var i,r;if(e(n.node)===n.offset){if(o(n.node))return null;i=n.node.parentNode;r=l(n.node)+1}else d(n.node)?(i=n.node.childNodes[n.offset],r=0):(i=n.node,r=t?e(n.node):n.offset+1);return{node:i,offset:r}},dt=function(n,t){return n.node===t.node&&n.offset===t.offset},tr=function(n){if(s(n.node)||!d(n.node)||tt(n.node))return!0;var t=n.node.childNodes[n.offset-1],i=n.node.childNodes[n.offset];return(!t||a(t))&&(!i||a(i))?!0:!1},ir=function(n,t){while(n){if(t(n))return n;n=kt(n)}return null},rr=function(n,t){while(n){if(t(n))return n;n=ft(n)}return null},ur=function(n){if(!s(n.node))return!1;var t=n.node.nodeValue.charAt(n.offset-1);return t&&t!==" "&&t!==k},fr=function(n,t,i,r){for(var u=n,f;u;){if(i(u),dt(u,t))break;f=r&&n.node!==u.node&&t.node!==u.node;u=ft(u,f)}},er=function(n,t){var i=c(t,r.eq(n));return i.map(l).reverse()},or=function(n,t){for(var i=n,r=0,u=t.length;r<u;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},et=function(n,t){var u=t&&t.isSkipPaddingBlankHTML,f=t&&t.isNotSplitEdgePoint,r,i;if(pt(n)&&(s(n.node)||f)){if(w(n))return n.node;if(b(n))return n.node.nextSibling}return s(n.node)?n.node.splitText(n.offset):(r=n.node.childNodes[n.offset],i=rt(n.node.cloneNode(!1),n.node),ut(i,yt(r)),u||(vt(n.node),vt(i)),i)},gt=function(n,i,u){var f=c(i.node,r.eq(n));if(f.length){if(f.length===1)return et(i,u)}else return null;return f.reduce(function(n,r){return n===i.node&&(n=et(i,u)),et({node:r,offset:n?t.position(n):e(r)},u)})},sr=function(n,t){var s=t?h:nt,e=c(n.node,s),o=i.last(e)||n.node,r,u,f;return s(o)?(r=e[e.length-2],u=o):(r=o,u=r.parentNode),f=r&&gt(r,n,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}),f||u!==n.node||(f=n.node.childNodes[n.offset]),{rightNode:f,container:u}},ni=function(n){return document.createElement(n)},hr=function(n){return document.createTextNode(n)},ot=function(n,t){var f,r,i,u;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(f=n.parentNode,!t){for(r=[],i=0,u=n.childNodes.length;i<u;i++)r.push(n.childNodes[i]);for(i=0,u=r.length;i<u;i++)f.insertBefore(r[i],n)}f.removeChild(n)}},cr=function(n,t){while(n){if(o(n)||!t(n))break;var i=n.parentNode;ot(n);n=i}},lr=function(n,t){if(n.nodeName.toUpperCase()===t.toUpperCase())return n;var r=ni(t);return n.style.cssText&&(r.style.cssText=n.style.cssText),ut(r,i.from(n.childNodes)),rt(r,n),ot(n),r},ti=u("TEXTAREA"),ii=function(n,t){var i=ti(n[0])?n.val():n.html();return t?i.replace(/[\n\r]/g,""):i},ar=function(t,i){var r=ii(t),u;return i&&(u=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,r=r.replace(u,function(n,t,i){i=i.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,u=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return n+(r||u?"\n":"")}),r=n.trim(r)),r},vr=function(t){var i=n(t),r=i.offset(),u=i.outerHeight(!0);return{left:r.left,top:r.top+u}},yr=function(n,t){Object.keys(t).forEach(function(i){n.on(i,t[i])})},pr=function(n,t){Object.keys(t).forEach(function(i){n.off(i,t[i])})};return{NBSP_CHAR:k,ZERO_WIDTH_NBSP_CHAR:it,blank:y,emptyPara:"<p>"+y+"<\/p>",makePredByNodeName:u,isEditable:o,isControlSizing:ri,isText:s,isElement:ui,isVoid:a,isPara:h,isPurePara:oi,isHeading:fi,isInline:v,isBlock:r.not(v),isBodyInline:ci,isBody:li,isParaInline:hi,isPre:ei,isList:ct,isTable:ht,isCell:lt,isBlockquote:g,isBodyContainer:nt,isAnchor:at,isDiv:u("DIV"),isLi:st,isBR:u("BR"),isSpan:u("SPAN"),isB:u("B"),isU:u("U"),isS:u("S"),isI:u("I"),isImg:u("IMG"),isTextarea:ti,isEmpty:tt,isEmptyAnchor:r.and(at,tt),isClosestSibling:ai,withClosestSiblings:vi,nodeLength:e,isLeftEdgePoint:w,isRightEdgePoint:b,isEdgePoint:pt,isLeftEdgeOf:wt,isRightEdgeOf:bt,isLeftEdgePointOf:gi,isRightEdgePointOf:nr,prevPoint:kt,nextPoint:ft,isSamePoint:dt,isVisiblePoint:tr,prevPointUntil:ir,nextPointUntil:rr,isCharPoint:ur,walkPoint:fr,ancestor:p,singleChildAncestor:yi,listAncestor:c,lastAncestor:pi,listNext:yt,listPrev:bi,listDescendant:ki,commonAncestor:wi,wrap:di,insertAfter:rt,appendChildNodes:ut,position:l,hasChildren:d,makeOffsetPath:er,fromOffsetPath:or,splitTree:gt,splitPoint:sr,create:ni,createText:hr,remove:ot,removeWhile:cr,replace:lr,html:ar,value:ii,posFromPlaceholder:vr,attachEvents:yr,detachEvents:pr}}(),rt=function(u,f){var e=this,o=n.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=f,this.initialize=function(){return this.layoutInfo=o.createLayout(u,f),this._initialize(),u.hide(),this},this.destroy=function(){this._destroy();u.removeData("summernote");o.removeLayout(u,this.layoutInfo)},this.reset=function(){var n=e.isDisabled();this.code(t.emptyPara);this._destroy();this._initialize();n&&e.disable()},this._initialize=function(){var i=n.extend({},this.options.buttons),t;Object.keys(i).forEach(function(n){e.memo("button."+n,i[n])});t=n.extend({},this.options.modules,n.summernote.plugins||{});Object.keys(t).forEach(function(n){e.module(n,t[n],!0)});Object.keys(this.modules).forEach(function(n){e.initializeModule(n)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(n){e.removeModule(n)});Object.keys(this.memos).forEach(function(n){e.removeMemo(n)})},this.code=function(n){var t=this.invoke("codeview.isActivated");if(n===undefined)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(n):this.layoutInfo.editable.html(n);u.val(n);this.triggerEvent("change",n)},this.isDisabled=function(){return this.layoutInfo.editable.attr("contenteditable")==="false"},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0);this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate");this.layoutInfo.editable.attr("contenteditable",!1);this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var n=i.head(arguments),t=i.tail(i.from(arguments)),f=this.options.callbacks[r.namespaceToCamel(n,"on")];f&&f.apply(u[0],t);u.trigger("summernote."+n,t)},this.initializeModule=function(n){var i=this.modules[n];(i.shouldInitialize=i.shouldInitialize||r.ok,i.shouldInitialize())&&(i.initialize&&i.initialize(),i.events&&t.attachEvents(u,i.events))},this.module=function(n,t,i){if(arguments.length===1)return this.modules[n];this.modules[n]=new t(this);i||this.initializeModule(n)},this.removeModule=function(n){var i=this.modules[n];i.shouldInitialize()&&(i.events&&t.detachEvents(u,i.events),i.destroy&&i.destroy());delete this.modules[n]},this.memo=function(n,t){if(arguments.length===1)return this.memos[n];this.memos[n]=t},this.removeMemo=function(n){this.memos[n]&&this.memos[n].destroy&&this.memos[n].destroy();delete this.memos[n]},this.createInvokeHandler=function(t,i){return function(r){r.preventDefault();e.invoke(t,i||n(r.target).closest("[data-value]").data("value"))}},this.invoke=function(){var o=i.head(arguments),u=i.tail(i.from(arguments)),t=o.split("."),f=t.length>1,e=f&&i.head(t),r=f?i.last(t):i.head(t),n=this.modules[e||"editor"];return!e&&this[r]?this[r].apply(this,u):n&&n[r]&&n.shouldInitialize()?n[r].apply(n,u):void 0},this.initialize()};n.fn.extend({summernote:function(){var f=n.type(i.head(arguments)),e=f==="string",o=f==="object",t=o?i.head(arguments):{},u,r;if(t=n.extend({},n.summernote.options,t),t.langInfo=n.extend(!0,{},n.summernote.lang["en-US"],n.summernote.lang[t.lang]),this.each(function(i,r){var u=n(r),f;u.data("summernote")||(f=new rt(u,t),u.data("summernote",f),u.data("summernote").triggerEvent("init",f.layoutInfo))}),u=this.first(),u.length){if(r=u.data("summernote"),e)return r.invoke.apply(r,i.from(arguments));t.focus&&r.invoke("editor.focus")}return this}});var ut=function(t,i,r,u){this.render=function(f){var e=n(t),o;if(r&&r.contents&&e.html(r.contents),r&&r.className&&e.addClass(r.className),r&&r.data&&n.each(r.data,function(n,t){e.attr("data-"+n,t)}),r&&r.click)e.on("click",r.click);return i&&(o=e.find(".note-children-container"),i.forEach(function(n){n.render(o.length?o:e)})),u&&u(e,r),r&&r.callback&&r.callback(e),f&&f.append(e),e}},o={create:function(t,i){return function(){var u=n.isArray(arguments[0])?arguments[0]:[],r=typeof arguments[1]=="object"?arguments[1]:arguments[0];return r&&r.children&&(u=r.children),new ut(t,u,r,i)}}},ft=o.create('<div class="note-editor note-frame panel panel-default"/>'),et=o.create('<div class="note-toolbar panel-heading"/>'),ot=o.create('<div class="note-editing-area"/>'),st=o.create('<textarea class="note-codable"/>'),ht=o.create('<div class="note-editable panel-body" contentEditable="true"/>'),ct=o.create('<div class="note-statusbar">  <div class="note-resizebar">    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>  <\/div><\/div>'),lt=o.create('<div class="note-editor"/>'),at=o.create('<div class="note-editable" contentEditable="true"/>'),vt=o.create('<div class="note-btn-group btn-group">'),yt=o.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(n,t){t&&t.tooltip&&n.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),pt=o.create('<div class="dropdown-menu">',function(t,i){var r=n.isArray(i.items)?i.items.map(function(n){var t=typeof n=="string"?n:n.value||"",r=i.template?i.template(n):n;return'<li><a href="#" data-value="'+t+'">'+r+"<\/a><\/li>"}).join(""):i.items;t.html(r)}),wt=o.create('<div class="dropdown-menu note-check">',function(t,i){var r=n.isArray(i.items)?i.items.map(function(n){var t=typeof n=="string"?n:n.value||"",r=i.template?i.template(n):n;return'<li><a href="#" data-value="'+t+'">'+d(i.checkClassName)+" "+r+"<\/a><\/li>"}).join(""):i.items;t.html(r)}),bt=o.create('<div class="note-color-palette"/>',function(n,t){for(var i,s,r,f=[],u=0,h=t.colors.length;u<h;u++){var c=t.eventName,e=t.colors[u],o=[];for(i=0,s=e.length;i<s;i++)r=e[i],o.push(['<button type="button" class="note-color-btn"','style="background-color:',r,'" ','data-event="',c,'" ','data-value="',r,'" ','title="',r,'" ','data-toggle="button" tabindex="-1"><\/button>'].join(""));f.push('<div class="note-color-row">'+o.join("")+"<\/div>")}n.html(f.join(""));n.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),kt=o.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(n,t){t.fade&&n.addClass("fade");n.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>      <h4 class="modal-title">'+t.title+"<\/h4>    <\/div>":"",'    <div class="modal-body">'+t.body+"<\/div>",t.footer?'    <div class="modal-footer">'+t.footer+"<\/div>":"","  <\/div>","<\/div>"].join(""))}),dt=o.create('<div class="note-popover popover in">  <div class="arrow"/>  <div class="popover-content note-children-container"/><\/div>',function(n,t){var i=typeof t.direction!="undefined"?t.direction:"bottom";n.addClass(i);t.hideArrow&&n.find(".arrow").hide()}),d=function(n,t){return t=t||"i","<"+t+' class="'+n+'"/>'},s={editor:ft,toolbar:et,editingArea:ot,codable:st,editable:ht,statusbar:ct,airEditor:lt,airEditable:at,buttonGroup:vt,button:yt,dropdown:pt,dropdownCheck:wt,palette:bt,dialog:kt,popover:dt,icon:d,toggleBtn:function(n,t){n.toggleClass("disabled",!t);n.attr("disabled",!t)},toggleBtnActive:function(n,t){n.toggleClass("active",t)},onDialogShown:function(n,t){n.one("shown.bs.modal",t)},onDialogHidden:function(n,t){n.one("hidden.bs.modal",t)},showDialog:function(n){n.modal("show")},hideDialog:function(n){n.modal("hide")},createLayout:function(n,t){var i=(t.airMode?s.airEditor([s.editingArea([s.airEditable()])]):s.editor([s.toolbar(),s.editingArea([s.codable(),s.editable()]),s.statusbar()])).render();return i.insertAfter(n),{note:n,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(n,t){n.html(t.editable.html());t.editor.remove();n.show()}};n.summernote=n.summernote||{lang:{}};n.extend(n.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var e=function(){var n={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return i.contains([n.BACKSPACE,n.TAB,n.ENTER,n.SPACE],t)},isMove:function(t){return i.contains([n.LEFT,n.UP,n.RIGHT,n.DOWN],t)},nameFromCode:r.invertObject(n),code:n}}(),u=function(){var e=function(n,r){for(var o=n.parentElement(),a=document.body.createTextRange(),s,h=i.from(o.childNodes),c,u,l,e,v,f=0;f<h.length;f++)if(!t.isText(h[f])){if(a.moveToElementText(h[f]),a.compareEndPoints("StartToStart",n)>=0)break;s=h[f]}if(f!==0&&t.isText(h[f-1])){for(c=document.body.createTextRange(),u=null,c.moveToElementText(s||o),c.collapse(!s),u=s?s.nextSibling:o.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),e=l.text.replace(/[\r\n]/g,"").length;e>u.nodeValue.length&&u.nextSibling;)e-=u.nodeValue.length,u=u.nextSibling;v=u.nodeValue;r&&u.nextSibling&&t.isText(u.nextSibling)&&e===u.nodeValue.length&&(e-=u.nodeValue.length,u=u.nextSibling);o=u;f=e}return{cont:o,offset:f}},o=function(n){var e=function(n,u){var f,o,s,h;if(t.isText(n))s=t.listPrev(n,r.not(t.isText)),h=i.last(s).previousSibling,f=h||n.parentNode,u+=i.sum(i.tail(s),t.nodeLength),o=!h;else{if(f=n.childNodes[u]||n,t.isText(f))return e(f,0);u=0;o=!1}return{node:f,collapseToStart:o,offset:u}},u=document.body.createTextRange(),f=e(n.node,n.offset);return u.moveToElementText(f.node),u.collapse(f.collapseToStart),u.moveStart("character",f.offset),u},u=function(e,s,h,c){var a,l;this.sc=e;this.so=s;this.ec=h;this.eo=c;a=function(){var n,t;return f.isW3CRangeSupport?(n=document.createRange(),n.setStart(e,s),n.setEnd(h,c),n):(t=o({node:e,offset:s}),t.setEndPoint("EndToEnd",o({node:h,offset:c})),t)};this.getPoints=function(){return{sc:e,so:s,ec:h,eo:c}};this.getStartPoint=function(){return{node:e,offset:s}};this.getEndPoint=function(){return{node:h,offset:c}};this.select=function(){var t=a(),n;return f.isW3CRangeSupport?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select(),this};this.scrollIntoView=function(t){var i=n(t).height();return t.scrollTop+i<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+i-this.sc.offsetTop)),this};this.normalize=function(){var i=function(n,i){var r,u;if(t.isVisiblePoint(n)&&!t.isEdgePoint(n)||t.isVisiblePoint(n)&&t.isRightEdgePoint(n)&&!i||t.isVisiblePoint(n)&&t.isLeftEdgePoint(n)&&i||t.isVisiblePoint(n)&&t.isBlock(n.node)&&t.isEmpty(n.node))return n;if(r=t.ancestor(n.node,t.isBlock),(t.isLeftEdgePointOf(n,r)||t.isVoid(t.prevPoint(n).node))&&!i||(t.isRightEdgePointOf(n,r)||t.isVoid(t.nextPoint(n).node))&&i){if(t.isVisiblePoint(n))return n;i=!i}return u=i?t.nextPointUntil(t.nextPoint(n),t.isVisiblePoint):t.prevPointUntil(t.prevPoint(n),t.isVisiblePoint),u||n},n=i(this.getEndPoint(),!1),r=this.isCollapsed()?n:i(this.getStartPoint(),!0);return new u(r.node,r.offset,n.node,n.offset)};this.nodes=function(n,u){n=n||r.ok;var o=u&&u.includeAncestor,s=u&&u.fullyContains,h=this.getStartPoint(),c=this.getEndPoint(),f=[],e=[];return t.walkPoint(h,c,function(r){if(!t.isEditable(r.node)){var u;s?(t.isLeftEdgePoint(r)&&e.push(r.node),t.isRightEdgePoint(r)&&i.contains(e,r.node)&&(u=r.node)):u=o?t.ancestor(r.node,n):r.node;u&&n(u)&&f.push(u)}},!0),i.unique(f)};this.commonAncestor=function(){return t.commonAncestor(e,h)};this.expand=function(n){var f=t.ancestor(e,n),r=t.ancestor(h,n),i;return!f&&!r?new u(e,s,h,c):(i=this.getPoints(),f&&(i.sc=f,i.so=0),r&&(i.ec=r,i.eo=t.nodeLength(r)),new u(i.sc,i.so,i.ec,i.eo))};this.collapse=function(n){return n?new u(e,s,e,s):new u(h,c,h,c)};this.splitText=function(){var i=e===h,n=this.getPoints();return t.isText(h)&&!t.isEdgePoint(this.getEndPoint())&&h.splitText(c),t.isText(e)&&!t.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(s),n.so=0,i&&(n.ec=n.sc,n.eo=c-s)),new u(n.sc,n.so,n.ec,n.eo)};this.deleteContents=function(){if(this.isCollapsed())return this;var f=this.splitText(),e=f.nodes(null,{fullyContains:!0}),r=t.prevPointUntil(f.getStartPoint(),function(n){return!i.contains(e,n.node)}),o=[];return n.each(e,function(n,i){var u=i.parentNode;r.node!==u&&t.nodeLength(u)===1&&o.push(u);t.remove(i,!1)}),n.each(o,function(n,i){t.remove(i,!1)}),new u(r.node,r.offset,r.node,r.offset).normalize()};l=function(n){return function(){var i=t.ancestor(e,n);return!!i&&i===t.ancestor(h,n)}};this.isOnEditable=l(t.isEditable);this.isOnList=l(t.isList);this.isOnAnchor=l(t.isAnchor);this.isOnCell=l(t.isCell);this.isLeftEdgeOf=function(n){if(!t.isLeftEdgePoint(this.getStartPoint()))return!1;var i=t.ancestor(this.sc,n);return i&&t.isLeftEdgeOf(this.sc,i)};this.isCollapsed=function(){return e===h&&s===c};this.wrapBodyInlineWithPara=function(){var n,f,s,o,h;return t.isBodyContainer(e)&&t.isEmpty(e)?(e.innerHTML=t.emptyPara,new u(e.firstChild,0,e.firstChild,0)):(n=this.normalize(),t.isParaInline(e)||t.isPara(e))?n:(t.isInline(n.sc)?(s=t.listAncestor(n.sc,r.not(t.isInline)),f=i.last(s),t.isInline(f)||(f=s[s.length-2]||n.sc.childNodes[n.so])):f=n.sc.childNodes[n.so>0?n.so-1:0],o=t.listPrev(f,t.isParaInline).reverse(),o=o.concat(t.listNext(f.nextSibling,t.isParaInline)),o.length&&(h=t.wrap(i.head(o),"p"),t.appendChildNodes(h,i.tail(o))),this.normalize())};this.insertNode=function(n){var r=this.wrapBodyInlineWithPara().deleteContents(),i=t.splitPoint(r.getStartPoint(),t.isInline(n));return i.rightNode?i.rightNode.parentNode.insertBefore(n,i.rightNode):i.container.appendChild(n),n};this.pasteHTML=function(t){var r=n("<div><\/div>").html(t)[0],u=i.from(r.childNodes),f=this.wrapBodyInlineWithPara().deleteContents();return u.reverse().map(function(n){return f.insertNode(n)}).reverse()};this.toString=function(){var n=a();return f.isW3CRangeSupport?n.toString():n.text};this.getWordRange=function(n){var i=this.getEndPoint(),r;return t.isCharPoint(i)?(r=t.prevPointUntil(i,function(n){return!t.isCharPoint(n)}),n&&(i=t.nextPointUntil(i,function(n){return!t.isCharPoint(n)})),new u(r.node,r.offset,i.node,i.offset)):this};this.bookmark=function(n){return{s:{path:t.makeOffsetPath(n,e),offset:s},e:{path:t.makeOffsetPath(n,h),offset:c}}};this.paraBookmark=function(n){return{s:{path:i.tail(t.makeOffsetPath(i.head(n),e)),offset:s},e:{path:i.tail(t.makeOffsetPath(i.last(n),h)),offset:c}}};this.getClientRects=function(){var n=a();return n.getClientRects()}};return{create:function(n,i,r,f){if(arguments.length===4)return new u(n,i,r,f);if(arguments.length===2)return r=n,f=i,new u(n,i,r,f);var e=this.createFromSelection();return!e&&arguments.length===1?(e=this.createFromNode(arguments[0]),e.collapse(t.emptyPara===arguments[0].innerHTML)):e},createFromSelection:function(){var s,h,c,l,r,o,a,v,y,n,i;if(f.isW3CRangeSupport){if(r=document.getSelection(),r&&r.rangeCount!==0){if(t.isBody(r.anchorNode))return null}else return null;o=r.getRangeAt(0);s=o.startContainer;h=o.startOffset;c=o.endContainer;l=o.endOffset}else a=document.selection.createRange(),v=a.duplicate(),v.collapse(!1),y=a,y.collapse(!0),n=e(y,!0),i=e(v,!1),t.isText(n.node)&&t.isLeftEdgePoint(n)&&t.isTextNode(i.node)&&t.isRightEdgePoint(i)&&i.node.nextSibling===n.node&&(n=i),s=n.cont,h=n.offset,c=i.cont,l=i.offset;return new u(s,h,c,l)},createFromNode:function(n){var r=n,f=0,i=n,u=t.nodeLength(i);return t.isVoid(r)&&(f=t.listPrev(r).length-1,r=r.parentNode),t.isBR(i)?(u=t.listPrev(i).length-1,i=i.parentNode):t.isVoid(i)&&(u=t.listPrev(i).length,i=i.parentNode),this.create(r,f,i,u)},createFromNodeBefore:function(n){return this.createFromNode(n).collapse(!0)},createFromNodeAfter:function(n){return this.createFromNode(n).collapse()},createFromBookmark:function(n,i){var r=t.fromOffsetPath(n,i.s.path),f=i.s.offset,e=t.fromOffsetPath(n,i.e.path),o=i.e.offset;return new u(r,f,e,o)},createFromParaBookmark:function(n,r){var f=n.s.offset,e=n.e.offset,o=t.fromOffsetPath(i.head(r),n.s.path),s=t.fromOffsetPath(i.last(r),n.e.path);return new u(o,f,s,e)}}}(),g=function(){var t=function(t){return n.Deferred(function(i){n.extend(new FileReader,{onload:function(n){var t=n.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},i=function(t){return n.Deferred(function(i){var r=n("<img>");r.one("load",function(){r.off("error abort");i.resolve(r)}).one("error abort",function(){r.off("load").detach();i.reject(r)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:i}}(),gt=function(n){var i=[],t=-1,r=n[0],e=function(){var t=u.create(r);return{contents:n.html(),bookmark:t?t.bookmark(r):{s:{path:[],offset:0},e:{path:[],offset:0}}}},f=function(t){t.contents!==null&&n.html(t.contents);t.bookmark!==null&&u.createFromBookmark(r,t.bookmark).select()};this.rewind=function(){n.html()!==i[t].contents&&this.recordUndo();t=0;f(i[t])};this.reset=function(){i=[];t=-1;n.html("");this.recordUndo()};this.undo=function(){n.html()!==i[t].contents&&this.recordUndo();0<t&&(t--,f(i[t]))};this.redo=function(){i.length-1>t&&(t++,f(i[t]))};this.recordUndo=function(){t++;i.length>t&&(i=i.slice(0,t));i.push(e())}},ni=function(){var u=function(t,i){if(f.jqueryVersion<1.9){var r={};return n.each(i,function(n,i){r[i]=t.css(i)}),r}return t.css.call(t,i)};this.fromNode=function(n){if(n.context!=null&&n.context.ownerDocument==null)return"";var t=u(n,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t};this.stylePara=function(i,r){n.each(i.nodes(t.isPara,{includeAncestor:!0}),function(t,i){n(i).css(r)})};this.styleNodes=function(u,f){var e,s,h;u=u.splitText();var o=f&&f.nodeName||"SPAN",c=!!(f&&f.expandClosestSibling),l=!!(f&&f.onlyPartialContains);return u.isCollapsed()?[u.insertNode(t.create(o))]:(e=t.makePredByNodeName(o),s=u.nodes(t.isText,{fullyContains:!0}).map(function(n){return t.singleChildAncestor(n,e)||t.wrap(n,o)}),c?(l&&(h=u.nodes(),e=r.and(e,function(n){return i.contains(h,n)})),s.map(function(r){var u=t.withClosestSiblings(r,e),f=i.head(u),o=i.tail(u);return n.each(o,function(n,i){t.appendChildNodes(f,i.childNodes);t.remove(i)}),i.head(u)})):s)};this.current=function(i){var s=n(t.isElement(i.sc)?i.sc:i.sc.parentNode),r=this.fromNode(s),f,e,u,o;try{r=n.extend(r,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(h){}return i.isOnList()?(f=["circle","disc","disc-leading-zero","square"],e=n.inArray(r["list-style-type"],f)>-1,r["list-style"]=e?"unordered":"ordered"):r["list-style"]="none",u=t.ancestor(i.sc,t.isPara),u&&u.style["line-height"]?r["line-height"]=u.style.lineHeight:(o=parseInt(r["line-height"],10)/parseInt(r["font-size"],10),r["line-height"]=o.toFixed(1)),r.anchor=i.isOnAnchor()&&t.ancestor(i.sc,t.isAnchor),r.ancestors=t.listAncestor(i.sc,t.isEditable),r.range=i,r}},nt=function(){var f=this;this.insertOrderedList=function(n){this.toggleList("OL",n)};this.insertUnorderedList=function(n){this.toggleList("UL",n)};this.indent=function(f){var o=this,e=u.create(f).wrapBodyInlineWithPara(),s=e.nodes(t.isPara,{includeAncestor:!0}),h=i.clusterBy(s,r.peq2("parentNode"));n.each(h,function(r,u){var f=i.head(u);t.isLi(f)?o.wrapList(u,f.parentNode.nodeName):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return(parseInt(t,10)||0)+25})})});e.select()};this.outdent=function(f){var o=this,e=u.create(f).wrapBodyInlineWithPara(),s=e.nodes(t.isPara,{includeAncestor:!0}),h=i.clusterBy(s,r.peq2("parentNode"));n.each(h,function(r,u){var f=i.head(u);t.isLi(f)?o.releaseList([u]):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return t=parseInt(t,10)||0,t>25?t-25:""})})});e.select()};this.toggleList=function(e,o){var c=u.create(o).wrapBodyInlineWithPara(),s=c.nodes(t.isPara,{includeAncestor:!0}),v=c.paraBookmark(s),a=i.clusterBy(s,r.peq2("parentNode")),h,l;i.find(s,t.isPurePara)?(h=[],n.each(a,function(n,t){h=h.concat(f.wrapList(t,e))}),s=h):(l=c.nodes(t.isList,{includeAncestor:!0}).filter(function(t){return!n.nodeName(t,e)}),l.length?n.each(l,function(n,i){t.replace(i,e)}):s=this.releaseList(a,!0));u.createFromParaBookmark(v,s).select()};this.wrapList=function(n,r){var e=i.head(n),u=i.last(n),s=t.isList(e.previousSibling)&&e.previousSibling,f=t.isList(u.nextSibling)&&u.nextSibling,o=s||t.insertAfter(t.create(r||"UL"),u);return n=n.map(function(n){return t.isPurePara(n)?t.replace(n,"LI"):n}),t.appendChildNodes(o,n),f&&(t.appendChildNodes(o,i.from(f.childNodes)),t.remove(f)),n};this.releaseList=function(r,u){var f=[];return n.each(r,function(r,e){var s=i.head(e),c=i.last(e),o=u?t.lastAncestor(s,t.isList):s.parentNode,a=o.childNodes.length>1?t.splitTree(o,{node:c.parentNode,offset:t.position(c)+1},{isSkipPaddingBlankHTML:!0}):null,h=t.splitTree(o,{node:s.parentNode,offset:t.position(s)},{isSkipPaddingBlankHTML:!0}),l;e=u?t.listDescendant(h,t.isLi):i.from(h.childNodes).filter(t.isLi);(u||!t.isList(o.parentNode))&&(e=e.map(function(n){return t.replace(n,"P")}));n.each(i.from(e).reverse(),function(n,i){t.insertAfter(i,o)});l=i.compact([o,h,a]);n.each(l,function(i,r){var u=[r].concat(t.listDescendant(r,t.isList));n.each(u.reverse(),function(n,i){t.nodeLength(i)||t.remove(i,!0)})});f=f.concat(e)}),f}},ti=function(){var i=new nt;this.insertTab=function(n,i){var r=t.createText(new Array(i+1).join(t.NBSP_CHAR));n=n.deleteContents();n.insertNode(r,!0);n=u.create(r,i);n.select()};this.insertParagraph=function(r){var o=u.create(r),f,e,s,h;if(o=o.deleteContents(),o=o.wrapBodyInlineWithPara(),f=t.ancestor(o.sc,t.isPara),f){if(t.isEmpty(f)&&t.isLi(f)){i.toggleList(f.parentNode.nodeName);return}t.isEmpty(f)&&t.isPara(f)&&t.isBlockquote(f.parentNode)?(t.insertAfter(f,f.parentNode),e=f):(e=t.splitTree(f,o.getStartPoint()),s=t.listDescendant(f,t.isEmptyAnchor),s=s.concat(t.listDescendant(e,t.isEmptyAnchor)),n.each(s,function(n,i){t.remove(i)}),(t.isHeading(e)||t.isPre(e))&&t.isEmpty(e)&&(e=t.replace(e,"p")))}else h=o.sc.childNodes[o.so],e=n(t.emptyPara)[0],h?o.sc.insertBefore(e,h):o.sc.appendChild(e);u.create(e,0).normalize().select().scrollIntoView(r)}},ii=function(){this.tab=function(n,r){var f=t.ancestor(n.commonAncestor(),t.isCell),o=t.ancestor(f,t.isTable),s=t.listDescendant(o,t.isCell),e=i[r?"prev":"next"](s,f);e&&u.create(e,0).select()};this.createTable=function(i,r,u){for(var f,l,e,o,s=[],h,c=0;c<i;c++)s.push("<td>"+t.blank+"<\/td>");for(h=s.join(""),f=[],e=0;e<r;e++)f.push("<tr>"+h+"<\/tr>");return l=f.join(""),o=n("<table>"+l+"<\/table>"),u&&u.tableClassName&&o.addClass(u.tableClassName),o[0]}},p="bogus",ri=function(r){var b=this,ft=r.layoutInfo.note,et=r.layoutInfo.editor,o=r.layoutInfo.editable,s=r.options,h=s.langInfo,l=o[0],k=null,a=new ni,it=new ii,rt=new ti,d=new nt,tt=new gt(o),ut,c;this.initialize=function(){o.on("keydown",function(n){n.keyCode===e.code.ENTER&&r.triggerEvent("enter",n);r.triggerEvent("keydown",n);s.shortcuts&&!n.isDefaultPrevented()&&b.handleKeyMap(n)}).on("keyup",function(n){r.triggerEvent("keyup",n)}).on("focus",function(n){r.triggerEvent("focus",n)}).on("blur",function(n){r.triggerEvent("blur",n)}).on("mousedown",function(n){r.triggerEvent("mousedown",n)}).on("mouseup",function(n){r.triggerEvent("mouseup",n)}).on("scroll",function(n){r.triggerEvent("scroll",n)}).on("paste",function(n){r.triggerEvent("paste",n)});o.html(t.html(ft)||t.emptyPara);var n=f.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(n,function(){r.triggerEvent("change",o.html())});et.on("focusin",function(n){r.triggerEvent("focusin",n)}).on("focusout",function(n){r.triggerEvent("focusout",n)});!s.airMode&&s.height&&this.setHeight(s.height);!s.airMode&&s.maxHeight&&o.css("max-height",s.maxHeight);!s.airMode&&s.minHeight&&o.css("min-height",s.minHeight);tt.recordUndo()};this.destroy=function(){o.off()};this.handleKeyMap=function(n){var o=s.keyMap[f.isMac?"mac":"pc"],t=[],i,u;n.metaKey&&t.push("CMD");n.ctrlKey&&!n.altKey&&t.push("CTRL");n.shiftKey&&t.push("SHIFT");i=e.nameFromCode[n.keyCode];i&&t.push(i);u=o[t.join("+")];u?(n.preventDefault(),r.invoke(u)):e.isEdit(n.keyCode)&&this.afterCommand()};this.createRange=function(){return this.focus(),u.create(l)};this.saveRange=function(n){k=this.createRange();n&&k.collapse().select()};this.restoreRange=function(){k&&(k.select(),this.focus())};this.saveTarget=function(n){o.data("target",n)};this.clearTarget=function(){o.removeData("target")};this.restoreTarget=function(){return o.data("target")};this.currentStyle=function(){var n=u.create();return n&&(n=n.normalize()),n?a.current(n):a.fromNode(o)};this.styleFromNode=function(n){return a.fromNode(n)};this.undo=function(){r.triggerEvent("before.command",o.html());tt.undo();r.triggerEvent("change",o.html())};r.memo("help.undo",h.help.undo);this.redo=function(){r.triggerEvent("before.command",o.html());tt.redo();r.triggerEvent("change",o.html())};r.memo("help.redo",h.help.redo);var v=this.beforeCommand=function(){r.triggerEvent("before.command",o.html());b.focus()},y=this.afterCommand=function(n){tt.recordUndo();n||r.triggerEvent("change",o.html())},w=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"];for(c=0,ut=w.length;c<ut;c++)this[w[c]]=function(n){return function(t){v();document.execCommand(n,!1,t);y(!0)}}(w[c]),r.memo("help."+w[c],h.help[w[c]]);for(this.tab=function(){var n=this.createRange();n.isCollapsed()&&n.isOnCell()?it.tab(n):(v(),rt.insertTab(n,s.tabSize),y())},r.memo("help.tab",h.help.tab),this.untab=function(){var n=this.createRange();n.isCollapsed()&&n.isOnCell()&&it.tab(n,!0)},r.memo("help.untab",h.help.untab),this.wrapCommand=function(n){return function(){v();n.apply(b,arguments);y()}},this.insertParagraph=this.wrapCommand(function(){rt.insertParagraph(l)}),r.memo("help.insertParagraph",h.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){d.insertOrderedList(l)}),r.memo("help.insertOrderedList",h.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){d.insertUnorderedList(l)}),r.memo("help.insertUnorderedList",h.help.insertUnorderedList),this.indent=this.wrapCommand(function(){d.indent(l)}),r.memo("help.indent",h.help.indent),this.outdent=this.wrapCommand(function(){d.outdent(l)}),r.memo("help.outdent",h.help.outdent),this.insertImage=function(n,t){return g.createImage(n,t).then(function(n){v();typeof t=="function"?t(n):(typeof t=="string"&&n.attr("data-filename",t),n.css("width",Math.min(o.width(),n.width())));n.show();u.create(l).insertNode(n[0]);u.createFromNodeAfter(n[0]).select();y()}).fail(function(n){r.triggerEvent("image.upload.error",n)})},this.insertImages=function(t){n.each(t,function(n,t){var i=t.name;s.maximumImageFileSize&&s.maximumImageFileSize<t.size?r.triggerEvent("image.upload.error",h.image.maximumFileSizeError):g.readFileAsDataURL(t).then(function(n){return b.insertImage(n,i)}).fail(function(){r.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(n){var t=s.callbacks;t.onImageUpload?r.triggerEvent("image.upload",n):this.insertImages(n)},this.insertNode=this.wrapCommand(function(n){var t=this.createRange();t.insertNode(n);u.createFromNodeAfter(n).select()}),this.insertText=this.wrapCommand(function(n){var r=this.createRange(),i=r.insertNode(t.createText(n));u.create(i,t.nodeLength(i)).select()}),this.getSelectedText=function(){var n=this.createRange();return n.isOnAnchor()&&(n=u.createFromNode(t.ancestor(n.sc,t.isAnchor))),n.toString()},this.pasteHTML=this.wrapCommand(function(n){var t=this.createRange().pasteHTML(n);u.createFromNodeAfter(i.last(t)).select()}),this.formatBlock=this.wrapCommand(function(n){n=f.isMSIE?"<"+n+">":n;document.execCommand("FormatBlock",!1,n)}),this.formatPara=function(){this.formatBlock("P")},r.memo("help.formatPara",h.help.formatPara),c=1;c<=6;c++)this["formatH"+c]=function(n){return function(){this.formatBlock("H"+n)}}(c),r.memo("help.formatH"+c,h.help["formatH"+c]);this.fontSize=function(r){var e=this.createRange(),s,f;e&&e.isCollapsed()?(s=a.styleNodes(e),f=i.head(s),n(s).css({"font-size":r+"px"}),f&&!t.nodeLength(f)&&(f.innerHTML=t.ZERO_WIDTH_NBSP_CHAR,u.createFromNodeAfter(f.firstChild).select(),o.data(p,f))):(v(),n(a.styleNodes(e)).css({"font-size":r+"px"}),y())};this.insertHorizontalRule=this.wrapCommand(function(){var n=this.createRange().insertNode(t.create("HR"));n.nextSibling&&u.create(n.nextSibling,0).normalize().select()});r.memo("help.insertHorizontalRule",h.help.insertHorizontalRule);this.removeBogus=function(){var n=o.data(p),r,u;n&&(r=i.find(i.from(n.childNodes),t.isText),u=r.nodeValue.indexOf(t.ZERO_WIDTH_NBSP_CHAR),u!==-1&&r.deleteData(u,1),t.isEmpty(n)&&t.remove(n),o.removeData(p))};this.lineHeight=this.wrapCommand(function(n){a.stylePara(this.createRange(),{lineHeight:n})});this.unlink=function(){var n=this.createRange(),i;n.isOnAnchor()&&(i=t.ancestor(n.sc,t.isAnchor),n=u.createFromNode(i),n.select(),v(),document.execCommand("unlink"),y())};this.createLink=this.wrapCommand(function(t){var e=t.url,o=t.text,v=t.isNewWindow,f=t.range||this.createRange(),y=f.toString()!==o,r,h;s.onCreateLink&&(e=s.onCreateLink(e));r=[];y?(f=f.deleteContents(),h=f.insertNode(n("<A>"+o+"<\/A>")[0]),r.push(h)):r=a.styleNodes(f,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});n.each(r,function(t,i){n(i).attr("href",e);v?n(i).attr("target","_blank"):n(i).removeAttr("target")});var p=u.createFromNodeBefore(i.head(r)),c=p.getStartPoint(),w=u.createFromNodeAfter(i.last(r)),l=w.getEndPoint();u.create(c.node,c.offset,l.node,l.offset).select()});this.getLinkInfo=function(){var u=this.createRange().expand(t.isAnchor),r=n(i.head(u.nodes(t.isAnchor)));return{range:u,text:u.toString(),isNewWindow:r.length?r.attr("target")==="_blank":!1,url:r.length?r.attr("href"):""}};this.color=this.wrapCommand(function(n){var t=n.foreColor,i=n.backColor;t&&document.execCommand("foreColor",!1,t);i&&document.execCommand("backColor",!1,i)});this.insertTable=this.wrapCommand(function(n){var t=n.split("x"),i=this.createRange().deleteContents();i.insertNode(it.createTable(t[0],t[1],s))});this.floatMe=this.wrapCommand(function(t){var i=n(this.restoreTarget());i.css("float",t)});this.resize=this.wrapCommand(function(t){var i=n(this.restoreTarget());i.css({width:t*100+"%",height:""})});this.resizeTo=function(n,t,i){var u,f,r;i?(f=n.y/n.x,r=t.data("ratio"),u={width:r>f?n.x:n.y/r,height:r>f?n.x*r:n.y}):u={width:n.x,height:n.y};t.css(u)};this.removeMedia=this.wrapCommand(function(){var t=n(this.restoreTarget()).detach();r.triggerEvent("media.delete",t,o)});this.hasFocus=function(){return o.is(":focus")};this.focus=function(){this.hasFocus()||o.focus()};this.isEmpty=function(){return t.isEmpty(o[0])||t.emptyPara===o.html()};this.empty=function(){r.invoke("code",t.emptyPara)};this.setHeight=function(n){o.outerHeight(n)}},ui=function(r){var u=this,o=r.layoutInfo.editable;this.events={"summernote.keydown":function(n,t){u.needKeydownHook()&&(t.ctrlKey||t.metaKey)&&t.keyCode===e.code.V&&(r.invoke("editor.saveRange"),u.$paste.focus(),setTimeout(function(){u.pasteByHook()},0))}};this.needKeydownHook=function(){return f.isMSIE&&f.browserVersion>10||f.isFF};this.initialize=function(){if(this.needKeydownHook()){this.$paste=n("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0});o.before(this.$paste);this.$paste.on("paste",function(n){r.triggerEvent("paste",n)})}else o.on("paste",this.pasteByEvent)};this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)};this.pasteByHook=function(){var o=this.$paste[0].firstChild,i,f,e;if(t.isImg(o)){var h=o.src,u=atob(h.split(",")[1]),s=new Uint8Array(u.length);for(i=0;i<u.length;i++)s[i]=u.charCodeAt(i);f=new Blob([s],{type:"image/png"});f.name="clipboard.png";r.invoke("editor.restoreRange");r.invoke("editor.focus");r.invoke("editor.insertImagesOrCallback",[f])}else e=n("<div />").html(this.$paste.html()).html(),r.invoke("editor.restoreRange"),r.invoke("editor.focus"),e&&r.invoke("editor.pasteHTML",e);this.$paste.empty()};this.pasteByEvent=function(n){var t=n.originalEvent.clipboardData,u;t&&t.items&&t.items.length&&(u=i.head(t.items),u.kind==="file"&&u.type.indexOf("image/")!==-1&&r.invoke("editor.insertImagesOrCallback",[u.getAsFile()]),r.invoke("editor.afterCommand"))}},fi=function(t){var f=n(document),i=t.layoutInfo.editor,o=t.layoutInfo.editable,e=t.options,u=e.langInfo,r=n('<div class="note-dropzone">  <div class="note-dropzone-message"/><\/div>').prependTo(i);this.initialize=function(){if(e.disableDragAndDrop)f.on("drop",function(n){n.preventDefault()});else this.attachDragAndDropEvent()};this.attachDragAndDropEvent=function(){var e=n(),s=r.find(".note-dropzone-message");f.on("dragenter",function(n){var f=t.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;f||e.length||!o||(i.addClass("dragover"),r.width(i.width()),r.height(i.height()),s.text(u.image.dragImageHere));e=e.add(n.target)}).on("dragleave",function(n){e=e.not(n.target);e.length||i.removeClass("dragover")}).on("drop",function(){e=n();i.removeClass("dragover")});r.on("dragenter",function(){r.addClass("hover");s.text(u.image.dropImage)}).on("dragleave",function(){r.removeClass("hover");s.text(u.image.dragImageHere)});r.on("drop",function(i){var r=i.originalEvent.dataTransfer;r&&r.files&&r.files.length?(i.preventDefault(),o.focus(),t.invoke("editor.insertImagesOrCallback",r.files)):n.each(r.types,function(i,u){var f=r.getData(u);u.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",f):n(f).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)}},v;f.hasCodeMirror&&(f.isSupportAmd?require(["codemirror"],function(n){v=n}):v=window.CodeMirror);var ei=function(n){var e=n.layoutInfo.editor,r=n.layoutInfo.editable,i=n.layoutInfo.codable,u=n.options;this.sync=function(){var n=this.isActivated();n&&f.hasCodeMirror&&i.data("cmEditor").save()};this.isActivated=function(){return e.hasClass("codeview")};this.toggle=function(){this.isActivated()?this.deactivate():this.activate();n.triggerEvent("codeview.toggled")};this.activate=function(){var o,s;if(i.val(t.html(r,u.prettifyHtml)),i.height(r.height()),n.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),i.focus(),f.hasCodeMirror){if(o=v.fromTextArea(i[0],u.codemirror),u.codemirror.tern){s=new v.TernServer(u.codemirror.tern);o.ternServer=s;o.on("cursorActivity",function(n){s.updateArgHints(n)})}o.setSize(null,r.outerHeight());i.data("cmEditor",o)}};this.deactivate=function(){var o,s,h;f.hasCodeMirror&&(o=i.data("cmEditor"),i.val(o.getValue()),o.toTextArea());s=t.value(i,u.prettifyHtml)||t.emptyPara;h=r.html()!==s;r.html(s);r.height(u.height?i.height():"auto");e.removeClass("codeview");h&&n.triggerEvent("change",r.html(),r);r.focus();n.invoke("toolbar.updateCodeview",!1)};this.destroy=function(){this.isActivated()&&this.deactivate()}},oi=24,si=function(t){var r=n(document),u=t.layoutInfo.statusbar,f=t.layoutInfo.editable,i=t.options;this.initialize=function(){if(!i.airMode&&!i.disableResizeEditor)u.on("mousedown",function(n){n.preventDefault();n.stopPropagation();var t=f.offset().top-r.scrollTop();r.on("mousemove",function(n){var r=n.clientY-(t+oi);r=i.minheight>0?Math.max(r,i.minheight):r;r=i.maxHeight>0?Math.min(r,i.maxHeight):r;f.height(r)}).one("mouseup",function(){r.off("mousemove")})})};this.destroy=function(){u.off()}},hi=function(t){var f=t.layoutInfo.editor,o=t.layoutInfo.toolbar,i=t.layoutInfo.editable,r=t.layoutInfo.codable,u=n(window),e=n("html, body");this.toggle=function(){var n=function(n){i.css("height",n.h);r.css("height",n.h);r.data("cmeditor")&&r.data("cmeditor").setsize(null,n.h)};f.toggleClass("fullscreen");this.isFullscreen()?(i.data("orgHeight",i.css("height")),u.on("resize",function(){n({h:u.height()-o.outerHeight()})}).trigger("resize"),e.css("overflow","hidden")):(u.off("resize"),n({h:i.data("orgHeight")}),e.css("overflow","visible"));t.invoke("toolbar.updateFullscreen",this.isFullscreen())};this.isFullscreen=function(){return f.hasClass("fullscreen")}},ci=function(i){var r=this,u=n(document),e=i.layoutInfo.editingArea,f=i.options;this.events={"summernote.mousedown":function(n,t){r.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){r.update()}};this.initialize=function(){this.$handle=n(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"><\/div>','<div class="note-control-holder note-control-nw"><\/div>','<div class="note-control-holder note-control-ne"><\/div>','<div class="note-control-holder note-control-sw"><\/div>','<div class="',f.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"><\/div>',f.disableResizeImage?"":'<div class="note-control-selection-info"><\/div>',"<\/div>","<\/div>"].join("")).prependTo(e);this.$handle.on("mousedown",function(n){if(t.isControlSizing(n.target)){n.preventDefault();n.stopPropagation();var f=r.$handle.find(".note-control-selection").data("target"),e=f.offset(),o=u.scrollTop();u.on("mousemove",function(n){i.invoke("editor.resizeTo",{x:n.clientX-e.left,y:n.clientY-(e.top-o)},f,!n.shiftKey);r.update(f[0])}).one("mouseup",function(n){n.preventDefault();u.off("mousemove");i.invoke("editor.afterCommand")});f.data("ratio")||f.data("ratio",f.height()/f.width())}})};this.destroy=function(){this.$handle.remove()};this.update=function(r){var e=t.isImg(r),o=this.$handle.find(".note-control-selection"),h;if(i.invoke("imagePopover.update",r),e){var u=n(r),s=u.position(),f={w:u.outerWidth(!0),h:u.outerHeight(!0)};o.css({display:"block",left:s.left,top:s.top,width:f.w,height:f.h}).data("target",u);h=f.w+"x"+f.h;o.find(".note-control-selection-info").text(h);i.invoke("editor.saveTarget",r)}else this.hide();return e};this.hide=function(){i.invoke("editor.clearTarget");this.$handle.children().hide()}},li=function(t){var r=this,u="http://",f=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||r.handleKeyup(t)},"summernote.keydown":function(n,t){r.handleKeydown(t)}};this.initialize=function(){this.lastWordRange=null};this.destroy=function(){this.lastWordRange=null};this.replace=function(){var i,r,e,o;this.lastWordRange&&(i=this.lastWordRange.toString(),r=i.match(f),r&&(r[1]||r[2])&&(e=r[1]?i:u+i,o=n("<a />").html(i).attr("href",e)[0],this.lastWordRange.insertNode(o),this.lastWordRange=null,t.invoke("editor.focus")))};this.handleKeydown=function(n){if(i.contains([e.code.ENTER,e.code.SPACE],n.keyCode)){var r=t.invoke("editor.createRange").getWordRange();this.lastWordRange=r}};this.handleKeyup=function(n){i.contains([e.code.ENTER,e.code.SPACE],n.keyCode)&&this.replace()}},ai=function(n){var i=n.layoutInfo.note;this.events={"summernote.change":function(){i.val(n.invoke("code"))}};this.shouldInitialize=function(){return t.isTextarea(i[0])}},vi=function(t){var i=this,u=t.layoutInfo.editingArea,r=t.options;this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}};this.shouldInitialize=function(){return!!r.placeholder};this.initialize=function(){this.$placeholder=n('<div class="note-placeholder">');this.$placeholder.on("click",function(){t.invoke("focus")}).text(r.placeholder).prependTo(u)};this.destroy=function(){this.$placeholder.remove()};this.update=function(){var n=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(n)}},yi=function(t){var h=this,u=n.summernote.ui,c=t.layoutInfo.toolbar,e=t.options,o=e.langInfo,l=r.invertObject(e.keyMap[f.isMac?"mac":"pc"]),s=this.representShortcut=function(n){var t=l[n];return f.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"};this.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.fontInstalledMap={}};this.destroy=function(){delete this.fontInstalledMap};this.isFontInstalled=function(n){return h.fontInstalledMap.hasOwnProperty(n)||(h.fontInstalledMap[n]=f.isFontInstalled(n)||i.contains(e.fontNamesIgnoreCheck,n)),h.fontInstalledMap[n]};this.addToolbarButtons=function(){t.memo("button.style",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:u.icon(e.icons.magic)+" "+u.icon(e.icons.caret,"span"),tooltip:o.style.style,data:{toggle:"dropdown"}}),u.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(n){typeof n=="string"&&(n={tag:n,title:n});var t=n.tag,i=n.title,r=n.style?' style="'+n.style+'" ':"",u=n.className?' className="'+n.className+'"':"";return"<"+t+r+u+">"+i+"<\/"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()});t.memo("button.bold",function(){return u.button({className:"note-btn-bold",contents:u.icon(e.icons.bold),tooltip:o.font.bold+s("bold"),click:t.createInvokeHandler("editor.bold")}).render()});t.memo("button.italic",function(){return u.button({className:"note-btn-italic",contents:u.icon(e.icons.italic),tooltip:o.font.italic+s("italic"),click:t.createInvokeHandler("editor.italic")}).render()});t.memo("button.underline",function(){return u.button({className:"note-btn-underline",contents:u.icon(e.icons.underline),tooltip:o.font.underline+s("underline"),click:t.createInvokeHandler("editor.underline")}).render()});t.memo("button.clear",function(){return u.button({contents:u.icon(e.icons.eraser),tooltip:o.font.clear+s("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()});t.memo("button.strikethrough",function(){return u.button({className:"note-btn-strikethrough",contents:u.icon(e.icons.strikethrough),tooltip:o.font.strikethrough+s("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()});t.memo("button.superscript",function(){return u.button({className:"note-btn-superscript",contents:u.icon(e.icons.superscript),tooltip:o.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()});t.memo("button.subscript",function(){return u.button({className:"note-btn-subscript",contents:u.icon(e.icons.subscript),tooltip:o.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()});t.memo("button.fontname",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+u.icon(e.icons.caret,"span"),tooltip:o.font.name,data:{toggle:"dropdown"}}),u.dropdownCheck({className:"dropdown-fontname",checkClassName:e.icons.menuCheck,items:e.fontNames.filter(h.isFontInstalled),template:function(n){return'<span style="font-family:'+n+'">'+n+"<\/span>"},click:t.createInvokeHandler("editor.fontName")})]).render()});t.memo("button.fontsize",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+u.icon(e.icons.caret,"span"),tooltip:o.font.size,data:{toggle:"dropdown"}}),u.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.icons.menuCheck,items:e.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()});t.memo("button.color",function(){return u.buttonGroup({className:"note-color",children:[u.button({className:"note-current-color-button",contents:u.icon(e.icons.font+" note-recent-color"),tooltip:o.color.recent,click:function(i){var r=n(i.currentTarget);t.invoke("editor.color",{backColor:r.attr("data-backColor"),foreColor:r.attr("data-foreColor")})},callback:function(n){var t=n.find(".note-recent-color");t.css("background-color","#FFFF00");n.attr("data-backColor","#FFFF00")}}),u.button({className:"dropdown-toggle",contents:u.icon(e.icons.caret,"span"),tooltip:o.color.more,data:{toggle:"dropdown"}}),u.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.background+"<\/div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',o.color.transparent,"    <\/button>","  <\/div>",'  <div class="note-holder" data-event="backColor"/>',"<\/div>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.foreground+"<\/div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',o.color.resetToDefault,"    <\/button>","  <\/div>",'  <div class="note-holder" data-event="foreColor"/>',"<\/div>","<\/li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=n(this);t.append(u.palette({colors:e.colors,eventName:t.data("event")}).render())})},click:function(i){var r=n(i.target),u=r.data("event"),f=r.data("value");if(u&&f){var e=u==="backColor"?"background-color":"color",o=r.closest(".note-color").find(".note-recent-color"),s=r.closest(".note-color").find(".note-current-color-button");o.css(e,f);s.attr("data-"+u,f);t.invoke("editor."+u,f)}}})]}).render()});t.memo("button.ul",function(){return u.button({contents:u.icon(e.icons.unorderedlist),tooltip:o.lists.unordered+s("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()});t.memo("button.ol",function(){return u.button({contents:u.icon(e.icons.orderedlist),tooltip:o.lists.ordered+s("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var i=u.button({contents:u.icon(e.icons.alignLeft),tooltip:o.paragraph.left+s("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),f=u.button({contents:u.icon(e.icons.alignCenter),tooltip:o.paragraph.center+s("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),c=u.button({contents:u.icon(e.icons.alignRight),tooltip:o.paragraph.right+s("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),l=u.button({contents:u.icon(e.icons.alignJustify),tooltip:o.paragraph.justify+s("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),a=u.button({contents:u.icon(e.icons.outdent),tooltip:o.paragraph.outdent+s("outdent"),click:t.createInvokeHandler("editor.outdent")}),v=u.button({contents:u.icon(e.icons.indent),tooltip:o.paragraph.indent+s("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",r.invoke(i,"render"));t.memo("button.justifyCenter",r.invoke(f,"render"));t.memo("button.justifyRight",r.invoke(c,"render"));t.memo("button.justifyFull",r.invoke(l,"render"));t.memo("button.outdent",r.invoke(a,"render"));t.memo("button.indent",r.invoke(v,"render"));t.memo("button.paragraph",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:u.icon(e.icons.alignLeft)+" "+u.icon(e.icons.caret,"span"),tooltip:o.paragraph.paragraph,data:{toggle:"dropdown"}}),u.dropdown([u.buttonGroup({className:"note-align",children:[i,f,c,l]}),u.buttonGroup({className:"note-list",children:[a,v]})])]).render()});t.memo("button.height",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:u.icon(e.icons.textHeight)+" "+u.icon(e.icons.caret,"span"),tooltip:o.font.height,data:{toggle:"dropdown"}}),u.dropdownCheck({items:e.lineHeights,checkClassName:e.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()});t.memo("button.table",function(){return u.buttonGroup([u.button({className:"dropdown-toggle",contents:u.icon(e.icons.table)+" "+u.icon(e.icons.caret,"span"),tooltip:o.table.table,data:{toggle:"dropdown"}}),u.dropdown({className:"note-table",items:'<div class="note-dimension-picker">  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>  <div class="note-dimension-picker-highlighted"/>  <div class="note-dimension-picker-unhighlighted"/><\/div><div class="note-dimension-display">1 x 1<\/div>'})],{callback:function(n){var i=n.find(".note-dimension-picker-mousecatcher");i.css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",h.tableMoveHandler)}}).render()});t.memo("button.link",function(){return u.button({contents:u.icon(e.icons.link),tooltip:o.link.link,click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.picture",function(){return u.button({contents:u.icon(e.icons.picture),tooltip:o.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()});t.memo("button.video",function(){return u.button({contents:u.icon(e.icons.video),tooltip:o.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()});t.memo("button.hr",function(){return u.button({contents:u.icon(e.icons.minus),tooltip:o.hr.insert+s("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()});t.memo("button.fullscreen",function(){return u.button({className:"btn-fullscreen",contents:u.icon(e.icons.arrowsAlt),tooltip:o.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()});t.memo("button.codeview",function(){return u.button({className:"btn-codeview",contents:u.icon(e.icons.code),tooltip:o.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()});t.memo("button.redo",function(){return u.button({contents:u.icon(e.icons.redo),tooltip:o.history.redo+s("redo"),click:t.createInvokeHandler("editor.redo")}).render()});t.memo("button.undo",function(){return u.button({contents:u.icon(e.icons.undo),tooltip:o.history.undo+s("undo"),click:t.createInvokeHandler("editor.undo")}).render()});t.memo("button.help",function(){return u.button({contents:u.icon(e.icons.question),tooltip:o.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})};this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return u.button({contents:'<span class="note-fontsize-10">100%<\/span>',tooltip:o.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()});t.memo("button.imageSize50",function(){return u.button({contents:'<span class="note-fontsize-10">50%<\/span>',tooltip:o.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()});t.memo("button.imageSize25",function(){return u.button({contents:'<span class="note-fontsize-10">25%<\/span>',tooltip:o.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()});t.memo("button.floatLeft",function(){return u.button({contents:u.icon(e.icons.alignLeft),tooltip:o.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()});t.memo("button.floatRight",function(){return u.button({contents:u.icon(e.icons.alignRight),tooltip:o.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()});t.memo("button.floatNone",function(){return u.button({contents:u.icon(e.icons.alignJustify),tooltip:o.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()});t.memo("button.removeMedia",function(){return u.button({contents:u.icon(e.icons.trash),tooltip:o.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})};this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return u.button({contents:u.icon(e.icons.link),tooltip:o.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.unlink",function(){return u.button({contents:u.icon(e.icons.unlink),tooltip:o.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})};this.build=function(n,i){for(var e,l,r,f=0,o=i.length;f<o;f++){var s=i[f],a=s[0],h=s[1],c=u.buttonGroup({className:"note-"+a}).render();for(e=0,l=h.length;e<l;e++)r=t.memo("button."+h[e]),r&&c.append(typeof r=="function"?r(t):r);c.appendTo(n)}};this.updateCurrentStyle=function(){var r=t.invoke("editor.currentStyle"),e,u,f,o;this.updateBtnStates({".note-btn-bold":function(){return r["font-bold"]==="bold"},".note-btn-italic":function(){return r["font-italic"]==="italic"},".note-btn-underline":function(){return r["font-underline"]==="underline"},".note-btn-subscript":function(){return r["font-subscript"]==="subscript"},".note-btn-superscript":function(){return r["font-superscript"]==="superscript"},".note-btn-strikethrough":function(){return r["font-strikethrough"]==="strikethrough"}});r["font-family"]&&(e=r["font-family"].split(",").map(function(n){return n.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),u=i.find(e,h.isFontInstalled),c.find(".dropdown-fontname li a").each(function(){var t=n(this).data("value")+""==u+"";this.className=t?"checked":""}),c.find(".note-current-fontname").text(u));r["font-size"]&&(f=r["font-size"],c.find(".dropdown-fontsize li a").each(function(){var t=n(this).data("value")+""==f+"";this.className=t?"checked":""}),c.find(".note-current-fontsize").text(f));r["line-height"]&&(o=r["line-height"],c.find(".dropdown-line-height li a").each(function(){var t=n(this).data("value")+""==o+"";this.className=t?"checked":""}))};this.updateBtnStates=function(t){n.each(t,function(n,t){u.toggleBtnActive(c.find(n),t())})};this.tableMoveHandler=function(t){var o=18,r=n(t.target.parentNode),h=r.next(),c=r.find(".note-dimension-picker-mousecatcher"),l=r.find(".note-dimension-picker-highlighted"),s=r.find(".note-dimension-picker-unhighlighted"),u,f,i;t.offsetX===undefined?(f=n(t.target).offset(),u={x:t.pageX-f.left,y:t.pageY-f.top}):u={x:t.offsetX,y:t.offsetY};i={c:Math.ceil(u.x/o)||1,r:Math.ceil(u.y/o)||1};l.css({width:i.c+"em",height:i.r+"em"});c.data("value",i.c+"x"+i.r);3<i.c&&i.c<e.insertTableMaxSize.col&&s.css({width:i.c+1+"em"});3<i.r&&i.r<e.insertTableMaxSize.row&&s.css({height:i.r+1+"em"});h.html(i.c+" x "+i.r)}},pi=function(t){var u=n.summernote.ui,f=t.layoutInfo.note,i=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode};this.initialize=function(){r.toolbar=r.toolbar||[];r.toolbar.length?t.invoke("buttons.build",i,r.toolbar):i.hide();r.toolbarContainer&&i.appendTo(r.toolbarContainer);f.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")});t.invoke("buttons.updateCurrentStyle")};this.destroy=function(){i.children().remove()};this.updateFullscreen=function(n){u.toggleBtnActive(i.find(".btn-fullscreen"),n)};this.updateCodeview=function(n){u.toggleBtnActive(i.find(".btn-codeview"),n);n?this.deactivate():this.activate()};this.activate=function(n){var t=i.find("button");n||(t=t.not(".btn-codeview"));u.toggleBtn(t,!0)};this.deactivate=function(n){var t=i.find("button");n||(t=t.not(".btn-codeview"));u.toggleBtn(t,!1)}},wi=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,u=t.options,f=u.langInfo;this.initialize=function(){var t=u.dialogsInBody?n(document.body):o,i='<div class="form-group"><label>'+f.link.textToDisplay+'<\/label><input class="note-link-text form-control" type="text" /><\/div><div class="form-group"><label>'+f.link.url+'<\/label><input class="note-link-url form-control" type="text" value="http://" /><\/div>'+(u.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+f.link.openInNewWindow+"<\/label><\/div>"),e='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+f.link.insert+"<\/button>";this.$dialog=r.dialog({className:"link-dialog",title:f.link.insert,fade:u.dialogsFade,body:i,footer:e}).render().appendTo(t)};this.destroy=function(){r.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})};this.showLinkDialog=function(u){return n.Deferred(function(n){var f=i.$dialog.find(".note-link-text"),e=i.$dialog.find(".note-link-url"),o=i.$dialog.find(".note-link-btn"),s=i.$dialog.find("input[type=checkbox]");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");f.val(u.text);f.on("input",function(){r.toggleBtn(o,f.val()&&e.val());u.text=f.val()});u.url||(u.url=u.text||"http://",r.toggleBtn(o,u.text));e.on("input",function(){r.toggleBtn(o,f.val()&&e.val());u.text||f.val(e.val())}).val(u.url).trigger("focus");i.bindEnterKey(e,o);i.bindEnterKey(f,o);s.prop("checked",u.isNewWindow);o.one("click",function(t){t.preventDefault();n.resolve({range:u.range,url:e.val(),text:f.val(),isNewWindow:s.is(":checked")});i.$dialog.modal("hide")})});r.onDialogHidden(i.$dialog,function(){f.off("input keypress");e.off("input keypress");o.off("click");n.state()==="pending"&&n.reject()});r.showDialog(i.$dialog)}).promise()};this.show=function(){var n=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange");this.showLinkDialog(n).then(function(n){t.invoke("editor.restoreRange");t.invoke("editor.createLink",n)}).fail(function(){t.invoke("editor.restoreRange")})};t.memo("help.linkDialog.show",u.langInfo.help["linkDialog.show"])},bi=function(r){var u=this,e=n.summernote.ui,f=r.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){u.update()},"summernote.dialog.shown":function(){u.hide()}};this.shouldInitialize=function(){return!i.isEmpty(f.popover.link)};this.initialize=function(){this.$popover=e.popover({className:"note-link-popover",callback:function(n){var t=n.find(".popover-content");t.prepend('<span><a target="_blank"><\/a>&nbsp;<\/span>')}}).render().appendTo("body");var n=this.$popover.find(".popover-content");r.invoke("buttons.build",n,f.popover.link)};this.destroy=function(){this.$popover.remove()};this.update=function(){var i,u,f,e;if(!r.invoke("editor.hasFocus")){this.hide();return}i=r.invoke("editor.createRange");i.isCollapsed()&&i.isOnAnchor()?(u=t.ancestor(i.sc,t.isAnchor),f=n(u).attr("href"),this.$popover.find("a").attr("href",f).html(f),e=t.posFromPlaceholder(u),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide()};this.hide=function(){this.$popover.hide()}},ki=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,u=t.options,f=u.langInfo;this.initialize=function(){var c=u.dialogsInBody?n(document.body):o,i="",t,e,s,h;u.maximumImageFileSize&&(t=Math.floor(Math.log(u.maximumImageFileSize)/Math.log(1024)),e=(u.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)*1+" "+" KMGTP"[t]+"B",i="<small>"+f.image.maximumFileSize+" : "+e+"<\/small>");s='<div class="form-group note-group-select-from-files"><label>'+f.image.selectFromFiles+'<\/label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+i+'<\/div><div class="form-group" style="overflow:auto;"><label>'+f.image.url+'<\/label><input class="note-image-url form-control col-md-12" type="text" /><\/div>';h='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+f.image.insert+"<\/button>";this.$dialog=r.dialog({title:f.image.insert,fade:u.dialogsFade,body:s,footer:h}).render().appendTo(c)};this.destroy=function(){r.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})};this.show=function(){t.invoke("editor.saveRange");this.showImageDialog().then(function(n){r.hideDialog(i.$dialog);t.invoke("editor.restoreRange");typeof n=="string"?t.invoke("editor.insertImage",n):t.invoke("editor.insertImagesOrCallback",n)}).fail(function(){t.invoke("editor.restoreRange")})};this.showImageDialog=function(){return n.Deferred(function(n){var e=i.$dialog.find(".note-image-input"),u=i.$dialog.find(".note-image-url"),f=i.$dialog.find(".note-image-btn");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");e.replaceWith(e.clone().on("change",function(){n.resolve(this.files||this.value)}).val(""));f.click(function(t){t.preventDefault();n.resolve(u.val())});u.on("keyup paste",function(){var n=u.val();r.toggleBtn(f,n)}).val("").trigger("focus");i.bindEnterKey(u,f)});r.onDialogHidden(i.$dialog,function(){e.off("change");u.off("keyup paste keypress");f.off("click");n.state()==="pending"&&n.reject()});r.showDialog(i.$dialog)})}},di=function(r){var f=n.summernote.ui,u=r.options;this.shouldInitialize=function(){return!i.isEmpty(u.popover.image)};this.initialize=function(){this.$popover=f.popover({className:"note-image-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");r.invoke("buttons.build",n,u.popover.image)};this.destroy=function(){this.$popover.remove()};this.update=function(n){if(t.isImg(n)){var i=t.posFromPlaceholder(n);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()};this.hide=function(){this.$popover.hide()}},gi=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,f=t.options,u=f.langInfo;this.initialize=function(){var t=f.dialogsInBody?n(document.body):o,i='<div class="form-group row-fluid"><label>'+u.video.url+' <small class="text-muted">'+u.video.providers+'<\/small><\/label><input class="note-video-url form-control span12" type="text" /><\/div>',e='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+u.video.insert+"<\/button>";this.$dialog=r.dialog({title:u.video.insert,fade:f.dialogsFade,body:i,footer:e}).render().appendTo(t)};this.destroy=function(){r.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})};this.createVideoNode=function(t){var r=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),u=t.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/),f=t.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/),e=t.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),o=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),s=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=t.match(/^.+.(mp4|m4v)$/),l=t.match(/^.+.(ogg|ogv)$/),a=t.match(/^.+.(webm)$/),i,h;if(r&&r[1].length===11)h=r[1],i=n("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h).attr("width","640").attr("height","360");else if(u&&u[0].length)i=n("<iframe>").attr("frameborder",0).attr("src",u[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(f&&f[0].length)i=n("<iframe>").attr("frameborder",0).attr("src",f[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(e&&e[3].length)i=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+e[3]).attr("width","640").attr("height","360");else if(o&&o[2].length)i=n("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+o[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)i=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else if(c||l||a)i=n("<video controls>").attr("src",t).attr("width","640").attr("height","360");else return!1;return i.addClass("note-video-clip"),i[0]};this.show=function(){var n=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange");this.showVideoDialog(n).then(function(n){r.hideDialog(i.$dialog);t.invoke("editor.restoreRange");var u=i.createVideoNode(n);u&&t.invoke("editor.insertNode",u)}).fail(function(){t.invoke("editor.restoreRange")})};this.showVideoDialog=function(u){return n.Deferred(function(n){var f=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");f.val(u).on("input",function(){r.toggleBtn(e,f.val())}).trigger("focus");e.click(function(t){t.preventDefault();n.resolve(f.val())});i.bindEnterKey(f,e)});r.onDialogHidden(i.$dialog,function(){f.off("input");e.off("click");n.state()==="pending"&&n.reject()});r.showDialog(i.$dialog)})}},nr=function(t){var u=this,i=n.summernote.ui,e=t.layoutInfo.editor,r=t.options,o=r.langInfo;this.createShortCutList=function(){var i=r.keyMap[f.isMac?"mac":"pc"];return Object.keys(i).map(function(r){var u=i[r],f=n('<div><div class="help-list-item"/><\/div>');return f.append(n("<label><kbd>"+r+"<\/kdb><\/label>").css({width:180,"margin-right":10})).append(n("<span/>").html(t.memo("help."+u)||u)),f.html()}).join("")};this.initialize=function(){var t=r.dialogsInBody?n(document.body):e,u='<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.8.1<\/a> · <a href="//github.com/summernote/summernote" target="_blank">Project<\/a> · <a href="//github.com/summernote/summernote/issues" target="_blank">Issues<\/a><\/p>';this.$dialog=i.dialog({title:o.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:u,callback:function(n){n.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)};this.destroy=function(){i.hideDialog(this.$dialog);this.$dialog.remove()};this.showHelpDialog=function(){return n.Deferred(function(n){i.onDialogShown(u.$dialog,function(){t.triggerEvent("dialog.shown");n.resolve()});i.showDialog(u.$dialog)}).promise()};this.show=function(){t.invoke("editor.saveRange");this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},tr=function(u){var e=this,s=n.summernote.ui,o=u.options,h=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},"summernote.focusout":function(n,i){f.isFF||i.relatedTarget&&t.ancestor(i.relatedTarget,r.eq(e.$popover[0]))||e.hide()}};this.shouldInitialize=function(){return o.airMode&&!i.isEmpty(o.popover.air)};this.initialize=function(){this.$popover=s.popover({className:"note-air-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");u.invoke("buttons.build",n,o.popover.air)};this.destroy=function(){this.$popover.remove()};this.update=function(){var t=u.invoke("editor.currentStyle"),f,n;t.range&&!t.range.isCollapsed()?(f=i.last(t.range.getClientRects()),f&&(n=r.rect2bnd(f),this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-h,top:n.top+n.height}))):this.hide()};this.hide=function(){this.$popover.hide()}},ir=function(f){var o=this,l=n.summernote.ui,c=5,h=f.options.hint||[],a=f.options.hintDirection||"bottom",s=n.isArray(h)?h:[h];this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||o.handleKeyup(t)},"summernote.keydown":function(n,t){o.handleKeydown(t)},"summernote.dialog.shown":function(){o.hide()}};this.shouldInitialize=function(){return s.length>0};this.initialize=function(){this.lastWordRange=null;this.$popover=l.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body");this.$popover.hide();this.$content=this.$popover.find(".popover-content");this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active");n(this).addClass("active");o.replace()})};this.destroy=function(){this.$popover.remove()};this.selectItem=function(n){this.$content.find(".active").removeClass("active");n.addClass("active");this.$content[0].scrollTop=n[0].offsetTop-this.$content.innerHeight()/2};this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),i=t.next(),n;i.length?this.selectItem(i):(n=t.parent().next(),n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first()))};this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),i=t.prev(),n;i.length?this.selectItem(i):(n=t.parent().prev(),n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last()))};this.replace=function(){var t=this.$content.find(".note-hint-item.active"),n;t.length&&(n=this.nodeFromItem(t),this.lastWordRange.insertNode(n),u.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),f.invoke("editor.focus"))};this.nodeFromItem=function(n){var r=s[n.data("index")],u=n.data("item"),i=r.content?r.content(u):u;return typeof i=="string"&&(i=t.createText(i)),i};this.createItemTemplates=function(t,i){var r=s[t];return i.map(function(i,u){var f=n('<div class="note-hint-item"/>');return f.append(r.template?r.template(i):i+""),f.data({index:t,item:i}),t===0&&u===0&&f.addClass("active"),f})};this.handleKeydown=function(n){this.$popover.is(":visible")&&(n.keyCode===e.code.ENTER?(n.preventDefault(),this.replace()):n.keyCode===e.code.UP?(n.preventDefault(),this.moveUp()):n.keyCode===e.code.DOWN&&(n.preventDefault(),this.moveDown()))};this.searchKeyword=function(n,t,i){var r=s[n],u;r&&r.match.test(t)&&r.search?(u=r.match.exec(t),r.search(u[1],i)):i()};this.createGroup=function(t,i){var r=n('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,i,function(n){n=n||[];n.length&&(r.html(o.createItemTemplates(t,n)),o.show())}),r};this.handleKeyup=function(n){var u,h,t;if(i.contains([e.code.ENTER,e.code.UP,e.code.DOWN],n.keyCode)){if(n.keyCode===e.code.ENTER&&this.$popover.is(":visible"))return}else u=f.invoke("editor.createRange").getWordRange(),h=u.toString(),s.length&&h?(this.$content.empty(),t=r.rect2bnd(i.last(u.getClientRects())),t&&(this.$popover.hide(),this.lastWordRange=u,s.forEach(function(n,t){n.match.test(h)&&o.createGroup(t,h).appendTo(o.$content)}),a==="top"?this.$popover.css({left:t.left,top:t.top-this.$popover.outerHeight()-c}):this.$popover.css({left:t.left,top:t.top+t.height+c}))):this.hide()};this.show=function(){this.$popover.show()};this.hide=function(){this.$popover.hide()}};n.summernote=n.extend(n.summernote,{version:"0.8.1",ui:s,plugins:{},options:{modules:{editor:ri,clipboard:ui,dropzone:fi,codeview:ei,statusbar:si,fullscreen:hi,handle:ci,hintPopover:ir,autoLink:li,autoSync:ai,placeholder:vi,buttons:yi,toolbar:pi,linkDialog:wi,linkPopover:bi,imageDialog:ki,imagePopover:di,videoDialog:gi,helpDialog:nr,airPopover:tr},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(n){n.extend(n.summernote.lang,{"pt-BR":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Arraste uma imagem para cá",selectFromFiles:"Selecione a partir dos arquivos",url:"URL da image"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, ou Youku)"},link:{link:"Link",insert:"Inserir link",unlink:"Remover link",edit:"Editar",textToDisplay:"Texto para exibir",url:"Para qual URL esse link leva?",openInNewWindow:"Abrir em uma nova janela"},table:{table:"Tabela"},hr:{insert:"Inserir linha horizontal"},style:{style:"Estilo",normal:"Normal",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Tela cheia",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento"},history:{undo:"Desfazer",redo:"Refazer"}}})}(jQuery);
/*!
 * Timepicker Component for Twitter Bootstrap
 *
 * Copyright 2013 Joris de Wit and bootstrap-timepicker contributors
 *
 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function(n,t,i){"use strict";var r=function(t,i){this.widget="";this.$element=n(t);this.defaultTime=i.defaultTime;this.disableFocus=i.disableFocus;this.disableMousewheel=i.disableMousewheel;this.isOpen=i.isOpen;this.minuteStep=i.minuteStep;this.modalBackdrop=i.modalBackdrop;this.orientation=i.orientation;this.secondStep=i.secondStep;this.snapToStep=i.snapToStep;this.showInputs=i.showInputs;this.showMeridian=i.showMeridian;this.showSeconds=i.showSeconds;this.template=i.template;this.appendWidgetTo=i.appendWidgetTo;this.showWidgetOnAddonClick=i.showWidgetOnAddonClick;this.icons=i.icons;this.maxHours=i.maxHours;this.explicitMode=i.explicitMode;this.oldValue;this.handleDocumentClick=function(n){var t=n.data.scope;t.$element.parent().find(n.target).length||t.$widget.is(n.target)||t.$widget.find(n.target).length||t.hideWidget()};this._init()};r.prototype={constructor:r,_init:function(){var t=this;if(this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")){this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":n.proxy(this.showWidget,this)});this.$element.on({"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)})}else if(this.template)this.$element.on({"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)});else this.$element.on({"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)});this.$widget=this.template!==!1?n(this.getTemplate()).on("click",n.proxy(this.widgetClick,this)):!1;this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){n(this).on({"click.timepicker":function(){n(this).select()},"keydown.timepicker":n.proxy(t.widgetKeydown,t),"keyup.timepicker":n.proxy(t.widgetKeyup,t)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(this.hour===1)this.hour=12;else{if(this.hour===12)return this.hour--,this.toggleMeridian();if(this.hour===0)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(n){var t;t=n?this.minute-n:this.minute-this.minuteStep;t<0?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var n=this.second-this.secondStep;n<0?(this.decrementMinute(!0),this.second=n+60):this.second=n},elementKeydown:function(n){switch(n.which){case 9:if(n.shiftKey){if(this.highlightedUnit==="hour"){this.hideWidget();break}this.highlightPrevUnit()}else if(this.showMeridian&&this.highlightedUnit==="meridian"||this.showSeconds&&this.highlightedUnit==="second"||!this.showMeridian&&!this.showSeconds&&this.highlightedUnit==="minute"){this.hideWidget();break}else this.highlightNextUnit();n.preventDefault();this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:n.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:n.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update();break;case 39:n.preventDefault();this.highlightNextUnit();this.updateFromElementVal();break;case 40:n.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update()}},getCursorPosition:function(){var n=this.$element.get(0),t,r;return"selectionStart"in n?n.selectionStart:i.selection?(n.focus(),t=i.selection.createRange(),r=i.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-r):void 0},getTemplate:function(){var n,t,i,r,u,f;this.showInputs?(t='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',u='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"><\/span>',i='<span class="bootstrap-timepicker-minute"><\/span>',r='<span class="bootstrap-timepicker-second"><\/span>',u='<span class="bootstrap-timepicker-meridian"><\/span>');f='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"><\/span><\/a><\/td><td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"><\/span><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"><\/span><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"><\/span><\/a><\/td>':"")+"<\/tr><tr><td>"+t+'<\/td> <td class="separator">:<\/td><td>'+i+"<\/td> "+(this.showSeconds?'<td class="separator">:<\/td><td>'+r+"<\/td>":"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td>'+u+"<\/td>":"")+'<\/tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"><\/span><\/a><\/td><td class="separator"><\/td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"><\/span><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"><\/span><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"><\/span><\/a><\/td>':"")+"<\/tr><\/table>";switch(this.template){case"modal":n='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;<\/a><h3>Pick a Time<\/h3><\/div><div class="modal-content">'+f+'<\/div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK<\/a><\/div><\/div>';break;case"dropdown":n='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"<\/div>"}return n},getTime:function(){return this.hour===""?"":(this.hour.toString().length===1?"0"+this.hour:this.hour)+":"+(this.minute.toString().length===1?"0"+this.minute:this.minute)+(this.showSeconds?":"+(this.second.toString().length===1?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.template==="modal"&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),n(i).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach(),this.oldValue!==this.$element.val()&&this.$element.val(this.getTime()).change())},highlightUnit:function(){this.position=this.getCursorPosition();this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="hour";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(0,1):n.setSelectionRange(0,2)},0)},highlightMinute:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="minute";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(2,4):n.setSelectionRange(3,5)},0)},highlightSecond:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="second";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0)},highlightMeridian:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="meridian";n.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?n.setSelectionRange(8,10):n.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(this.hour===11)return this.hour++,this.toggleMeridian();this.hour===12&&(this.hour=0)}if(this.hour===this.maxHours-1){this.hour=0;return}this.hour++},incrementMinute:function(n){var t;t=n?this.minute+n:this.minute+this.minuteStep-this.minute%this.minuteStep;t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var n=this.second+this.secondStep-this.second%this.secondStep;n>59?(this.incrementMinute(!0),this.second=n-60):this.second=n},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault();t.stopPropagation();var r=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;t.type==="mousewheel"?i=t.originalEvent.wheelDelta*-1:t.type==="DOMMouseScroll"&&(i=40*t.originalEvent.detail);i&&(t.preventDefault(),n(this).scrollTop(i+n(this).scrollTop()));switch(this.highlightedUnit){case"minute":r>0?this.incrementMinute():this.decrementMinute();this.highlightMinute();break;case"second":r>0?this.incrementSecond():this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:r>0?this.incrementHour():this.decrementHour();this.highlightHour()}return!1}},changeToNearestStep:function(n,t){return n%t==0?n:Math.round(n%t/t)?(n+(t-n%t))%60:n-n%t},place:function(){var r,v,s;if(!this.isInline){var f=this.$widget.outerWidth(),e=this.$widget.outerHeight(),h=10,c=n(t).width(),y=n(t).height(),l=n(t).scrollTop(),p=parseInt(this.$element.parents().filter(function(){return n(this).css("z-index")!=="auto"}).first().css("z-index"),10)+10,i=this.component?this.component.parent().offset():this.$element.offset(),a=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),w=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),u=i.left,o=i.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");this.orientation.x!=="auto"?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),this.orientation.x==="right"&&(u-=f-w)):(this.$widget.addClass("timepicker-orient-left"),i.left<0?u-=i.left-h:i.left+f>c&&(u=c-f-h));r=this.orientation.y;r==="auto"&&(v=-l+i.top-e,s=l+y-(i.top+a+e),r=Math.max(v,s)===s?"top":"bottom");this.$widget.addClass("timepicker-orient-"+r);r==="top"?o+=a:o-=e+parseInt(this.$widget.css("padding-top"),10);this.$widget.css({top:o,left:u,zIndex:p})}},remove:function(){n("document").off(".timepicker");this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(n){if(this.$element.val())this.updateFromElementVal();else if(n==="current"){var r=new Date,t=r.getHours(),i=r.getMinutes(),u=r.getSeconds(),f="AM";u!==0&&(u=Math.ceil(r.getSeconds()/this.secondStep)*this.secondStep,u===60&&(i+=1,u=0));i!==0&&(i=Math.ceil(r.getMinutes()/this.minuteStep)*this.minuteStep,i===60&&(t+=1,i=0));this.showMeridian&&(t===0?t=12:t>=12?(t>12&&(t=t-12),f="PM"):f="AM");this.hour=t;this.minute=i;this.second=u;this.meridian=f;this.update()}else n===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(n)},setTime:function(n,t){if(!n){this.clear();return}var f,e,i,r,u,o;if(typeof n=="object"&&n.getMonth)i=n.getHours(),r=n.getMinutes(),u=n.getSeconds(),this.showMeridian&&(o="AM",i>12&&(o="PM",i=i%12),i===12&&(o="PM"));else{if(f=(/a/i.test(n)?1:0)+(/p/i.test(n)?2:0),f>2){this.clear();return}if(e=n.replace(/[^0-9\:]/g,"").split(":"),i=e[0]?e[0].toString():e.toString(),this.explicitMode&&i.length>2&&i.length%2!=0){this.clear();return}r=e[1]?e[1].toString():"";u=e[2]?e[2].toString():"";i.length>4&&(u=i.slice(-2),i=i.slice(0,-2));i.length>2&&(r=i.slice(-2),i=i.slice(0,-2));r.length>2&&(u=r.slice(-2),r=r.slice(0,-2));i=parseInt(i,10);r=parseInt(r,10);u=parseInt(u,10);isNaN(i)&&(i=0);isNaN(r)&&(r=0);isNaN(u)&&(u=0);u>59&&(u=59);r>59&&(r=59);i>=this.maxHours&&(i=this.maxHours-1);this.showMeridian?(i>12&&(f=2,i-=12),f||(f=1),i===0&&(i=12),o=f===1?"AM":"PM"):i<12&&f===2?i+=12:i>=this.maxHours?i=this.maxHours-1:(i<0||i===12&&f===1)&&(i=0)}this.hour=i;this.snapToStep?(this.minute=this.changeToNearestStep(r,this.minuteStep),this.second=this.changeToNearestStep(u,this.secondStep)):(this.minute=r,this.second=u);this.meridian=o;this.update(t)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);n(i).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick);if(this.oldValue=this.$element.val(),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),this.hour===""&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),this.template==="modal"&&this.$widget.modal)this.$widget.modal("show").on("hidden",n.proxy(this.hideWidget,this));else this.isOpen===!1&&this.$widget.addClass("open");this.isOpen=!0}},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(n){this.updateElement();n||this.updateWidget();this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.attr("onchange")===undefined?this.$element.val(this.getTime()).change():this.$element.val(this.getTime())},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var n=this.hour.toString().length===1?"0"+this.hour:this.hour,t=this.minute.toString().length===1?"0"+this.minute:this.minute,i=this.second.toString().length===1?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(n),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(n),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var n=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(n,!0)}},widgetClick:function(t){t.stopPropagation();t.preventDefault();var i=n(t.target),r=i.closest("a").data("action");r&&this[r]();this.update();i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var r=n(t.target),i=r.attr("class").replace("bootstrap-timepicker-","");switch(t.which){case 9:if(t.shiftKey){if(i==="hour")return this.hideWidget()}else if(this.showMeridian&&i==="meridian"||this.showSeconds&&i==="second"||!this.showMeridian&&!this.showSeconds&&i==="minute")return this.hideWidget();break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2);break;case 40:t.preventDefault();switch(i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2)}},widgetKeyup:function(n){(n.which===65||n.which===77||n.which===80||n.which===46||n.which===8||n.which>=48&&n.which<=57||n.which>=96&&n.which<=105)&&this.updateFromWidgetInputs()}};n.fn.timepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var f=n(this),u=f.data("timepicker"),e=typeof t=="object"&&t;u||f.data("timepicker",u=new r(this,n.extend({},n.fn.timepicker.defaults,e,n(this).data())));typeof t=="string"&&u[t].apply(u,i)})};n.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1};n.fn.timepicker.Constructor=r;n(i).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(t){var i=n(this);i.data("timepicker")||(t.preventDefault(),i.timepicker())})})(jQuery,window,document);!function(n){n(["jquery"],function(n){return function(){function a(n,t,r){return u({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return r||(r=i()),t=n("#"+r.containerId),t.length?t:(u&&(t=g(r)),t)}function v(n,t,r){return u({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function y(n){o=n}function p(n,t,r){return u({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function w(n,t,r){return u({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function b(n){var u=i();t||r(u);s(n,u)||d(u)}function k(u){var f=i();return t||r(f),u&&0===n(":focus",u).length?void e(u):void(t.children().length&&t.remove())}function d(i){for(var u=t.children(),r=u.length-1;r>=0;r--)s(n(u[r]),i)}function s(t,i){return t&&0===n(":focus",t).length?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){e(t)}}),!0):!1}function g(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(i.target)),t}function nt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;<\/button>",newestOnTop:!0}}function h(n){o&&o(n)}function u(u){function l(t){if(!n(":focus",o).length||t)return o[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){e(o);f.onHidden&&"hidden"!==s.state&&f.onHidden();s.state="hidden";s.endTime=new Date;h(s)}})}function b(){(f.timeOut>0||f.extendedTimeOut>0)&&(y=setTimeout(l,f.extendedTimeOut))}function k(){clearTimeout(y);o.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=i(),v=u.iconClass||f.iconClass;"undefined"!=typeof u.optionsOverride&&(f=n.extend(f,u.optionsOverride),v=u.optionsOverride.iconClass||v);c++;t=r(f,!0);var y=null,o=n("<div/>"),p=n("<div/>"),w=n("<div/>"),a=n(f.closeHtml),s={toastId:c,state:"visible",startTime:new Date,options:f,map:u};return u.iconClass&&o.addClass(f.toastClass).addClass(v),u.title&&(p.append(u.title).addClass(f.titleClass),o.append(p)),u.message&&(w.append(u.message).addClass(f.messageClass),o.append(w)),f.closeButton&&(a.addClass("toast-close-button").attr("role","button"),o.prepend(a)),o.hide(),f.newestOnTop?t.prepend(o):t.append(o),o[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(y=setTimeout(l,f.timeOut)),o.hover(k,b),!f.onclick&&f.tapToDismiss&&o.click(l),f.closeButton&&a&&a.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0);l(!0)}),f.onclick&&o.click(function(){f.onclick();l()}),h(s),f.debug&&console&&console.log(s),o}function i(){return n.extend({},nt(),l.options)}function e(n){t||(t=r());n.is(":visible")||(n.remove(),n=null,0===t.children().length&&t.remove())}var t,o,c=0,f={error:"error",info:"info",success:"success",warning:"warning"},l={clear:b,remove:k,error:a,getContainer:r,info:v,options:{},subscribe:y,success:p,version:"2.0.3",warning:w};return l}()})}("function"==typeof define&&define.amd?define:function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});!function(n){var i=function(){var t=[],i=!1,r,u=function(){clearTimeout(r);r=setTimeout(f,100)},f=function(){for(var n=0,i=t.length;n<i;n++)t[n].apply()};return{register:function(r){t.push(r);i===!1&&(n(window).bind("resize",u),i=!0)},unregister:function(n){for(var i=0,r=t.length;i<r;i++)if(t[i]==n){delete t[i];break}}}}(),t=function(t,r){this.element=n(t);this.dropdown=n('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+r.text+' <b class="caret"><\/b><\/a><ul class="dropdown-menu"><\/ul><\/li>').prependTo(this.element);this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup");i.register(n.proxy(this.layout,this));this.layout()};t.prototype={constructor:t,layout:function(){var t=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&t.push(this)});t.length>0?(t=n(t),this.dropdown.find("ul").empty().append(t),this.dropdown.find(".active").length==1?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}};n.fn.tabdrop=function(i){return this.each(function(){var u=n(this),r=u.data("tabdrop"),f=typeof i=="object"&&i;r||u.data("tabdrop",r=new t(this,n.extend({},n.fn.tabdrop.defaults,f)));typeof i=="string"&&r[i]()})};n.fn.tabdrop.defaults={text:'<i class="icon-align-justify"><\/i>'};n.fn.tabdrop.Constructor=t}(window.jQuery);!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):n.bootbox=t(n.jQuery)}(this,function a(n,t){"use strict";function a(n){var t=f[o.locale];return t?t[n]:f.en[n]}function e(t,i,r){t.stopPropagation();t.preventDefault();var u=n.isFunction(r)&&r.call(i,t)===!1;u||i.modal("hide")}function v(n){var i,t=0;for(i in n)t++;return t}function r(t,i){var r=0;n.each(t,function(n,t){i(n,t,r++)})}function y(t){var i,u;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=n.extend({},o,t),t.buttons||(t.buttons={}),i=t.buttons,u=v(i),r(i,function(t,r,f){if(n.isFunction(r)&&(r=i[t]={callback:r}),"object"!==n.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t);r.className||(r.className=2>=u&&f===u-1?"btn-primary":"btn-default")}),t}function p(n,t){var r=n.length,i={};if(1>r||r>2)throw new Error("Invalid argument length");return 2===r||"string"==typeof n[0]?(i[t[0]]=n[0],i[t[1]]=n[1]):i=n[0],i}function s(t,i,r){return n.extend(!0,{},t,p(i,r))}function h(n,t,i,r){var u={className:"bootbox-"+n,buttons:c.apply(null,t)};return l(s(u,r,i),t)}function c(){for(var t={},n=0,r=arguments.length;r>n;n++){var i=arguments[n],u=i.toLowerCase(),f=i.toUpperCase();t[u]={label:a(f)}}return t}function l(n,i){var u={};return r(i,function(n,t){u[t]=!0}),r(n.buttons,function(n){if(u[n]===t)throw new Error("button key "+n+" is not allowed (options are "+i.join("\n")+")");}),n}var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'><\/div><\/div><\/div><\/div><\/div>",header:"<div class='modal-header'><h4 class='modal-title'><\/h4><\/div>",footer:"<div class='modal-footer'><\/div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;<\/button>",form:"<form class='bootbox-form'><\/form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'><\/textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'><\/select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /><\/label><\/div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},i={},f;return i.alert=function(){var t;if(t=h("alert",["ok"],["message","callback"],arguments),t.callback&&!n.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return n.isFunction(t.callback)?t.callback.call(this):!0},i.dialog(t)},i.confirm=function(){var t;if(t=h("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!n.isFunction(t.callback))throw new Error("confirm requires a callback");return i.dialog(t)},i.prompt=function(){var f,y,h,v,e,p,o,a,w;if(v=n(u.form),y={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},f=l(s(y,arguments,["title","callback"]),["cancel","confirm"]),p=f.show===t?!0:f.show,f.message=v,f.buttons.cancel.callback=f.onEscape=function(){return f.callback.call(this,null)},f.buttons.confirm.callback=function(){var t,i;switch(f.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":t=e.val();break;case"checkbox":i=e.find("input:checked");t=[];r(i,function(i,r){t.push(n(r).val())})}return f.callback.call(this,t)},f.show=!1,!f.title)throw new Error("prompt requires a title");if(!n.isFunction(f.callback))throw new Error("prompt requires a callback");if(!u.inputs[f.inputType])throw new Error("invalid prompt type");switch(e=n(u.inputs[f.inputType]),f.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":e.val(f.value);break;case"select":if(a={},o=f.inputOptions||[],!n.isArray(o))throw new Error("Please pass an array of input options");if(!o.length)throw new Error("prompt with select requires options");r(o,function(i,r){var u=e;if(r.value===t||r.text===t)throw new Error("given options in wrong format");r.group&&(a[r.group]||(a[r.group]=n("<optgroup/>").attr("label",r.group)),u=a[r.group]);u.append("<option value='"+r.value+"'>"+r.text+"<\/option>")});r(a,function(n,t){e.append(t)});e.val(f.value);break;case"checkbox":if(w=n.isArray(f.value)?f.value:[f.value],o=f.inputOptions||[],!o.length)throw new Error("prompt with checkbox requires options");if(!o[0].value||!o[0].text)throw new Error("given options in wrong format");e=n("<div/>");r(o,function(t,i){var o=n(u.inputs[f.inputType]);o.find("input").attr("value",i.value);o.find("label").append(i.text);r(w,function(n,t){t===i.value&&o.find("input").prop("checked",!0)});e.append(o)})}return f.placeholder&&e.attr("placeholder",f.placeholder),f.pattern&&e.attr("pattern",f.pattern),f.maxlength&&e.attr("maxlength",f.maxlength),v.append(e),v.on("submit",function(n){n.preventDefault();n.stopPropagation();h.find(".btn-primary").click()}),h=i.dialog(f),h.off("shown.bs.modal"),h.on("shown.bs.modal",function(){e.focus()}),p===!0&&h.modal("show"),h},i.dialog=function(i){var c;i=y(i);var f=n(u.dialog),l=f.find(".modal-dialog"),s=f.find(".modal-body"),a=i.buttons,h="",o={onEscape:i.onEscape};if(n.fn.modal===t)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return(r(a,function(n,t){h+="<button data-bb-handler='"+n+"' type='button' class='btn "+t.className+"'>"+t.label+"<\/button>";o[n]=t.callback}),s.find(".bootbox-body").html(i.message),i.animate===!0&&f.addClass("fade"),i.className&&f.addClass(i.className),"large"===i.size?l.addClass("modal-lg"):"small"===i.size&&l.addClass("modal-sm"),i.title&&s.before(u.header),i.closeButton)&&(c=n(u.closeButton),i.title?f.find(".modal-header").prepend(c):c.css("margin-top","-10px").prependTo(s)),i.title&&f.find(".modal-title").html(i.title),h.length&&(s.after(u.footer),f.find(".modal-footer").html(h)),f.on("hidden.bs.modal",function(n){n.target===this&&f.remove()}),f.on("shown.bs.modal",function(){f.find(".btn-primary:first").focus()}),"static"!==i.backdrop&&f.on("click.dismiss.bs.modal",function(n){f.children(".modal-backdrop").length&&(n.currentTarget=f.children(".modal-backdrop").get(0));n.target===n.currentTarget&&f.trigger("escape.close.bb")}),f.on("escape.close.bb",function(n){o.onEscape&&e(n,f,o.onEscape)}),f.on("click",".modal-footer button",function(t){var i=n(this).data("bb-handler");e(t,f,o[i])}),f.on("click",".bootbox-close-button",function(n){e(n,f,o.onEscape)}),f.on("keyup",function(n){27===n.which&&f.trigger("escape.close.bb")}),n(i.container).append(f),f.modal({backdrop:i.backdrop?"static":!1,keyboard:!1,show:!1}),i.show&&f.modal("show"),f},i.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0];n.extend(o,t)},i.hideAll=function(){return n(".bootbox").modal("hide"),i},f={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}},i.addLocale=function(t,r){return n.each(["OK","CANCEL","CONFIRM"],function(n,t){if(!r[t])throw new Error("Please supply a translation for '"+t+"'");}),f[t]={OK:r.OK,CANCEL:r.CANCEL,CONFIRM:r.CONFIRM},i},i.removeLocale=function(n){return delete f[n],i},i.setLocale=function(n){return i.setDefaults("locale",n)},i.init=function(t){return a(t||n)},i});
/*!
 * Bootstrap Context Menu
 * Author: @sydcanem
 * https://github.com/sydcanem/bootstrap-contextmenu
 *
 * Inspired by Bootstrap's dropdown plugin.
 * Bootstrap (http://getbootstrap.com).
 *
 * Licensed under MIT
 * ========================================================= */
(function(n){"use strict";var i='[data-toggle="context"]',t=function(t,i){this.$element=n(t);this.before=i.before||this.before;this.onItem=i.onItem||this.onItem;this.scopes=i.scopes||null;i.target&&this.$element.data("target",i.target);this.listen()};t.prototype={constructor:t,show:function(t){var i,e,r,u,f={relatedTarget:this,target:t.currentTarget};if(!this.isDisabled()&&(this.closemenu(),this.before.call(this,t,n(t.currentTarget)))){i=this.getMenu();i.trigger(e=n.Event("show.bs.context",f));r=this.getPosition(t,i);u="li:not(.divider)";i.attr("style","").css(r).addClass("open").on("click.context.data-api",u,n.proxy(this.onItem,this,n(t.currentTarget))).trigger("shown.bs.context",f);n("html").on("click.context.data-api",i.selector,n.proxy(this.closemenu,this));return!1}},closemenu:function(){var t,u,r,i;if(t=this.getMenu(),t.hasClass("open"))return i={relatedTarget:this},t.trigger(u=n.Event("hide.bs.context",i)),r="li:not(.divider)",t.removeClass("open").off("click.context.data-api",r).trigger("hidden.bs.context",i),n("html").off("click.context.data-api",t.selector),!1},keydown:function(n){n.which==27&&this.closemenu(n)},before:function(){return!0},onItem:function(){return!0},listen:function(){this.$element.on("contextmenu.context.data-api",this.scopes,n.proxy(this.show,this));n("html").on("click.context.data-api",n.proxy(this.closemenu,this));n("html").on("keydown.context.data-api",n.proxy(this.keydown,this))},destroy:function(){this.$element.off(".context.data-api").removeData("context");n("html").off(".context.data-api")},isDisabled:function(){return this.$element.hasClass("disabled")||this.$element.attr("disabled")},getMenu:function(){var t=this.$element.data("target"),i;return t||(t=this.$element.attr("href"),t=t&&t.replace(/.*(?=#[^\s]*$)/,"")),i=n(t),i&&i.length?i:this.$element.find(t)},getPosition:function(t,i){var r=t.clientX,u=t.clientY,c=n(window).width(),l=n(window).height(),o=i.find(".dropdown-menu").outerWidth(),s=i.find(".dropdown-menu").outerHeight(),f,e,h;return f=u+s>l&&u-s>0?{top:u-s+n(window).scrollTop()}:{top:u+n(window).scrollTop()},e=r+o>c&&r-o>0?{left:r-o+n(window).scrollLeft()}:{left:r+n(window).scrollLeft()},h=i.offsetParent().offset(),e.left=e.left-h.left,f.top=f.top-h.top,n.extend({position:"absolute","z-index":9999},f,e)}};n.fn.contextmenu=function(i,r){return this.each(function(){var f=n(this),u=f.data("context"),e=typeof i=="object"&&i;u||f.data("context",u=new t(f,e));typeof i=="string"&&u[i].call(u,r)})};n.fn.contextmenu.Constructor=t;n(document).on("contextmenu.context.data-api",function(){n(i).each(function(){var t=n(this).data("context");t&&t.closemenu()})}).on("contextmenu.context.data-api",i,function(t){n(this).contextmenu("show",t);t.preventDefault();t.stopPropagation()})})(jQuery);App=function(){var i=!1,n=!1,t=!1,r=!1,u=[],f="../../assets/",h="global/img/",c="global/plugins/",nt="global/css/",l={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00"},tt=function(){$("body").css("direction")==="rtl"&&(i=!0);n=!!navigator.userAgent.match(/MSIE 8.0/);t=!!navigator.userAgent.match(/MSIE 9.0/);r=!!navigator.userAgent.match(/MSIE 10.0/);r&&$("html").addClass("ie10");(r||t||n)&&$("html").addClass("ie")},e=function(){for(var t,n=0;n<u.length;n++)t=u[n],t.call()},it=function(){var i=$(window).width(),t,r;n?$(window).resize(function(){r!=document.documentElement.clientHeight&&(t&&clearTimeout(t),t=setTimeout(function(){e()},50),r=document.documentElement.clientHeight)}):$(window).resize(function(){$(window).width()!=i&&(i=$(window).width(),t&&clearTimeout(t),t=setTimeout(function(){e()},50))})},rt=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(n){n.preventDefault();var t=$(this).closest(".portlet");$("body").hasClass("page-portlet-fullscreen")&&$("body").removeClass("page-portlet-fullscreen");t.find(".portlet-title .fullscreen").tooltip("destroy");t.find(".portlet-title > .tools > .reload").tooltip("destroy");t.find(".portlet-title > .tools > .remove").tooltip("destroy");t.find(".portlet-title > .tools > .config").tooltip("destroy");t.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy");t.remove()});$("body").on("click",".portlet > .portlet-title .fullscreen",function(n){var t,i;n.preventDefault();t=$(this).closest(".portlet");t.hasClass("portlet-fullscreen")?($(this).removeClass("on"),t.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height","auto")):(i=App.getViewPort().height-t.children(".portlet-title").outerHeight()-parseInt(t.children(".portlet-body").css("padding-top"))-parseInt(t.children(".portlet-body").css("padding-bottom")),$(this).addClass("on"),t.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height",i));App.handleThirdPartyFullscreen(t,i)});$("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(n){n.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body"),i=$(this).attr("data-url"),r=$(this).attr("data-error-display");i?(App.blockUI({target:t,animate:!0,overlayColor:"none"}),$.ajax({type:"GET",cache:!1,url:i,dataType:"html",success:function(n){App.unblockUI(t);t.html(n);App.initAjax()},error:function(){App.unblockUI(t);var n="Error on reloading the content. Please check your connection and try again.";r=="toastr"&&toastr?toastr.error(n):r=="notific8"&&$.notific8?($.notific8("zindex",11500),$.notific8(n,{theme:"ruby",life:3e3})):alert(n)}})):(App.blockUI({target:t,animate:!0,overlayColor:"none"}),window.setTimeout(function(){App.unblockUI(t)},1e3))});$('.portlet .portlet-title a.reload[data-load="true"]').click();$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(n){n.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),t.slideDown(200))})},ut=function(){var t,n,i,u,f,r;$("body").on("click",".md-checkbox > label, .md-radio > label",function(){var i=$(this),n=$(this).children("span:first-child"),t;n.addClass("inc");t=n.clone(!0);n.before(t);$("."+n.attr("class")+":last",i).remove()});if($("body").hasClass("page-md"))$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(r){t=$(this);t.find(".md-click-circle").length==0&&t.prepend("<span class='md-click-circle'><\/span>");n=t.find(".md-click-circle");n.removeClass("md-click-animate");n.height()||n.width()||(i=Math.max(t.outerWidth(),t.outerHeight()),n.css({height:i,width:i}));u=r.pageX-t.offset().left-n.width()/2;f=r.pageY-t.offset().top-n.height()/2;n.css({top:f+"px",left:u+"px"}).addClass("md-click-animate");setTimeout(function(){n.remove()},1e3)});r=function(n){n.val()!=""?n.addClass("edited"):n.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",function(){r($(this))});$("body").on("blur",".form-md-floating-label .form-control",function(){r($(this))});$(".form-md-floating-label .form-control").each(function(){$(this).val().length>0&&$(this).addClass("edited")})},a=function(){$().iCheck&&$(".icheck").each(function(){var n=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey",t=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";n.indexOf("_line")>-1||t.indexOf("_line")>-1?$(this).iCheck({checkboxClass:n,radioClass:t,insert:'<div class="icheck_line-icon"><\/div>'+$(this).attr("data-label")}):$(this).iCheck({checkboxClass:n,radioClass:t})})},v=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},y=function(){$().confirmation&&$("[data-toggle=confirmation]").confirmation({btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})},p=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(n){App.scrollTo($(n.target))})},ft=function(){if(encodeURI(location.hash)){var n=encodeURI(location.hash.substr(1));$('a[href="#'+n+'"]').parents(".tab-pane:hidden").each(function(){var n=$(this).attr("id");$('a[href="#'+n+'"]').click()});$('a[href="#'+n+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"><\/i>&nbsp;<i class="fa fa-angle-down"><\/i>'})},et=function(){$("body").on("hide.bs.modal",function(){$(".modal:visible").size()>1&&$("html").hasClass("modal-open")===!1?$("html").addClass("modal-open"):$(".modal:visible").size()<=1&&$("html").removeClass("modal-open")});$("body").on("show.bs.modal",".modal",function(){$(this).hasClass("modal-scroll")&&$("body").addClass("modal-open-noscroll")});$("body").on("hidden.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")});$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})},w=function(){$(".tooltips").tooltip();$(".portlet > .portlet-title .fullscreen").tooltip({trigger:"hover",container:"body",title:"Fullscreen"});$(".portlet > .portlet-title > .tools > .reload").tooltip({trigger:"hover",container:"body",title:"Reload"});$(".portlet > .portlet-title > .tools > .remove").tooltip({trigger:"hover",container:"body",title:"Remove"});$(".portlet > .portlet-title > .tools > .config").tooltip({trigger:"hover",container:"body",title:"Settings"});$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({trigger:"hover",container:"body",title:"Collapse/Expand"})},b=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(n){n.stopPropagation()})},ot=function(){$("body").on("click",'[data-close="alert"]',function(n){$(this).parent(".alert").hide();$(this).closest(".note").hide();n.preventDefault()});$("body").on("click",'[data-close="note"]',function(n){$(this).closest(".note").hide();n.preventDefault()});$("body").on("click",'[data-remove="note"]',function(n){$(this).closest(".note").remove();n.preventDefault()})},st=function(){typeof autosize=="function"&&autosize(document.querySelectorAll("textarea.autosizeme"))},o,k=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(){o&&o.popover("hide")})},d=function(){App.initSlimScroll(".scroller")},s=function(){jQuery.fancybox&&$(".fancybox-button").size()>0&&$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},ht=function(){$().counterUp&&$("[data-counter='counterup']").counterUp({delay:10,time:1e3})},ct=function(){(n||t)&&$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var n=$(this);n.val()===""&&n.attr("placeholder")!==""&&n.addClass("placeholder").val(n.attr("placeholder"));n.focus(function(){n.val()==n.attr("placeholder")&&n.val("")});n.blur(function(){(n.val()===""||n.val()==n.attr("placeholder"))&&n.val(n.attr("placeholder"))})})},g=function(){$().select2&&($.fn.select2.defaults.set("theme","bootstrap"),$(".select2me").select2({placeholder:"Select",width:"auto",allowClear:!0}))},lt=function(){$("[data-auto-height]").each(function(){var n=$(this),i=$("[data-height]",n),t=0,r=n.attr("data-mode"),u=parseInt(n.attr("data-offset")?n.attr("data-offset"):0);i.each(function(){$(this).attr("data-height")=="height"?$(this).css("height",""):$(this).css("min-height","");var n=r=="base-height"?$(this).outerHeight():$(this).outerHeight(!0);n>t&&(t=n)});t=t+u;i.each(function(){$(this).attr("data-height")=="height"?$(this).css("height",t):$(this).css("min-height",t)});n.attr("data-related")&&$(n.attr("data-related")).css("height",n.height())})};return{init:function(){tt();it();ut();a();v();d();s();g();rt();ot();b();ft();w();k();p();et();y();st();ht();this.addResizeHandler(lt);ct()},initAjax:function(){a();v();d();g();s();b();w();k();p();y()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(n){o=n},addResizeHandler:function(n){u.push(n)},runResizeHandlers:function(){e()},scrollTo:function(n,t){var i=n&&n.size()>0?n.offset().top:0;n&&($("body").hasClass("page-header-fixed")?i=i-$(".page-header").height():$("body").hasClass("page-header-top-fixed")?i=i-$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(i=i-$(".page-header-menu").height()),i=i+(t?t:-1*n.height()));$("html,body").animate({scrollTop:i},"slow")},initSlimScroll:function(n){$().slimScroll&&$(n).each(function(){if(!$(this).attr("data-initialized")){var n;n=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height");$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:i?"left":"right",height:n,alwaysVisible:$(this).attr("data-always-visible")=="1"?!0:!1,railVisible:$(this).attr("data-rail-visible")=="1"?!0:!1,disableFadeOut:!0});$(this).attr("data-initialized","1")}})},destroySlimScroll:function(n){$().slimScroll&&$(n).each(function(){var n,t;$(this).attr("data-initialized")==="1"&&($(this).removeAttr("data-initialized"),$(this).removeAttr("style"),n={},$(this).attr("data-handle-color")&&(n["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(n["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(n["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(n["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(n["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0}),t=$(this),$.each(n,function(n,i){t.attr(n,i)}))})},scrollTop:function(){App.scrollTo()},blockUI:function(n){var t,i;n=$.extend(!0,{},n);t="";t=n.animate?'<div class="loading-message '+(n.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"><\/div><div class="bounce2"><\/div><div class="bounce3"><\/div><\/div><\/div>':n.iconOnly?'<div class="loading-message '+(n.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><\/div>':n.textOnly?'<div class="loading-message '+(n.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(n.message?n.message:"LOADING...")+"<\/span><\/div>":'<div class="loading-message '+(n.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(n.message?n.message:"LOADING...")+"<\/span><\/div>";n.target?(i=$(n.target),i.height()<=$(window).height()&&(n.cenrerY=!0),i.block({message:t,baseZ:n.zIndex?n.zIndex:1e3,centerY:n.cenrerY!==undefined?n.cenrerY:!1,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:n.overlayColor?n.overlayColor:"#555",opacity:n.boxed?.05:.1,cursor:"wait"}})):$.blockUI({message:t,baseZ:n.zIndex?n.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:n.overlayColor?n.overlayColor:"#555",opacity:n.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(n){n?$(n).unblock({onUnblock:function(){$(n).css("position","");$(n).css("zoom","")}}):$.unblockUI()},startPageLoading:function(n){n&&n.animate?($(".page-spinner-bar").remove(),$("body").append('<div class="page-spinner-bar"><div class="bounce1"><\/div><div class="bounce2"><\/div><div class="bounce3"><\/div><\/div>')):($(".page-loading").remove(),$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(n&&n.message?n.message:"Loading...")+"<\/span><\/div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(n){n=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},n);var i=App.getUniqueID("App_alert"),t='<div id="'+i+'" class="custom-alerts alert alert-'+n.type+' fade in">'+(n.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"><\/button>':"")+(n.icon!==""?'<i class="fa-lg fa fa-'+n.icon+'"><\/i>  ':"")+n.message+"<\/div>";return n.reset&&$(".custom-alerts").remove(),n.container?n.place=="append"?$(n.container).append(t):$(n.container).prepend(t):$(".page-fixed-main-content").size()===1?$(".page-fixed-main-content").prepend(t):($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&$(".page-head").size()===0?$(".page-title").after(t):$(".page-bar").size()>0?$(".page-bar").after(t):$(".page-breadcrumb, .breadcrumbs").after(t),n.focus&&App.scrollTo($("#"+i)),n.closeInSeconds>0&&setTimeout(function(){$("#"+i).remove()},n.closeInSeconds*1e3),i},initFancybox:function(){s()},getActualVal:function(n){return(n=$(n),n.val()===n.attr("placeholder"))?"":n.val()},getURLParameter:function(n){for(var u=window.location.search.substring(1),i,r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return unescape(i[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}},getViewPort:function(){var n=window,t="inner";return"innerWidth"in window||(t="client",n=document.documentElement||document.body),{width:n[t+"Width"],height:n[t+"Height"]}},getUniqueID:function(){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return n},isIE9:function(){return t},isRTL:function(){return i},isAngularJsApp:function(){return typeof angular=="undefined"?!1:!0},getAssetsPath:function(){return f},setAssetsPath:function(n){f=n},setGlobalImgPath:function(n){h=n},getGlobalImgPath:function(){return f+h},setGlobalPluginsPath:function(n){c=n},getGlobalPluginsPath:function(){return c},getGlobalCssPath:function(){return nt},getBrandColor:function(n){return l[n]?l[n]:""},getResponsiveBreakpoint:function(n){var t={xs:480,sm:768,md:992,lg:1200};return t[n]?t[n]:0},handleThirdPartyFullscreen:function(){}}}();jQuery(document).ready(function(){App.init()});Layout=function(){var h="layouts/layout/img/",c="layouts/layout/css/",n=App.getResponsiveBreakpoint("md"),i=[],r=[],t=function(){var o=$(".page-content"),h=$(".page-sidebar"),r=$("body"),t,i,s,u,f;r.hasClass("page-footer-fixed")===!0&&r.hasClass("page-sidebar-fixed")===!1?(i=App.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight(),s=h.outerHeight(),s>i&&(i=s+$(".page-footer").outerHeight()),o.height()<i&&o.css("min-height",i)):(r.hasClass("page-sidebar-fixed")?(t=e(),r.hasClass("page-footer-fixed")===!1&&(t=t-$(".page-footer").outerHeight())):(u=$(".page-header").outerHeight(),f=$(".page-footer").outerHeight(),t=App.getViewPort().width<n?App.getViewPort().height-u-f:h.height()+20,t+u+f<=App.getViewPort().height&&(t=App.getViewPort().height-u-f)),o.css("min-height",t))},u=function(t,i,r){var f=location.hash.toLowerCase(),u=$(".page-sidebar-menu"),e,o;(t==="click"||t==="set"?i=$(i):t==="match"&&u.find("li > a").each(function(){var t=$(this).attr("ui-sref"),n;if(r&&t){if(r.is(t)){i=$(this);return}}else if(n=$(this).attr("href"),n&&(n=n.toLowerCase(),n.length>1&&f.substr(1,n.length-1)==n.substr(1))){i=$(this);return}}),i&&i.size()!=0)&&i.attr("href")!="javascript:;"&&i.attr("ui-sref")!="javascript:;"&&i.attr("href")!="#"&&i.attr("ui-sref")!="#"&&(e=parseInt(u.data("slide-speed")),o=u.data("keep-expanded"),u.hasClass("page-sidebar-menu-hover-submenu")===!1?u.find("li.nav-item.open").each(function(){var n=!1;($(this).find("li").each(function(){var t=$(this).attr("ui-sref");if(r&&t){if(r.is(t)){n=!0;return}}else if($(this).find(" > a").attr("href")===i.attr("href")){n=!0;return}}),n!==!0)&&($(this).removeClass("open"),$(this).find("> a > .arrow.open").removeClass("open"),$(this).find("> .sub-menu").slideUp())}):u.find("li.open").removeClass("open"),u.find("li.active").removeClass("active"),u.find("li > a > .selected").remove(),i.parents("li").each(function(){$(this).addClass("active");$(this).find("> a > span.arrow").addClass("open");$(this).parent("ul.page-sidebar-menu").size()===1&&$(this).find("> a").append('<span class="selected"><\/span>');$(this).children("ul.sub-menu").size()===1&&$(this).addClass("open")}),t==="click"&&App.getViewPort().width<n&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click())},l=function(){if($(".page-sidebar-mobile-offcanvas .responsive-toggler").click(function(n){$("body").toggleClass("page-sidebar-mobile-offcanvas-open");n.preventDefault();n.stopPropagation()}),$("body").hasClass("page-sidebar-mobile-offcanvas"))$(document).on("click",function(n){$("body").hasClass("page-sidebar-mobile-offcanvas-open")&&$(n.target).closest(".page-sidebar-mobile-offcanvas .responsive-toggler").length===0&&$(n.target).closest(".page-sidebar-wrapper").length===0&&($("body").removeClass("page-sidebar-mobile-offcanvas-open"),n.preventDefault(),n.stopPropagation())});$(".page-sidebar-menu").on("click","li > a.nav-toggle, li > a > span.nav-toggle",function(i){var u=$(this).closest(".nav-item").children(".nav-link"),e,c;if((!(App.getViewPort().width>=n)||$(".page-sidebar-menu").attr("data-initialized")||!$("body").hasClass("page-sidebar-closed")||u.parent("li").parent(".page-sidebar-menu").size()!==1)&&(e=u.next().hasClass("sub-menu"),!(App.getViewPort().width>=n)||u.parents(".page-sidebar-menu-hover-submenu").size()!==1)){if(e===!1){App.getViewPort().width<n&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();return}var o=u.parent().parent(),r=u,f=$(".page-sidebar-menu"),s=u.next(),l=f.data("auto-scroll"),h=parseInt(f.data("slide-speed")),a=f.data("keep-expanded");a||(o.children("li.open").children("a").children(".arrow").removeClass("open"),o.children("li.open").children(".sub-menu:not(.always-open)").slideUp(h),o.children("li.open").removeClass("open"));c=-200;s.is(":visible")?($(".arrow",r).removeClass("open"),r.parent().removeClass("open"),s.slideUp(h,function(){l===!0&&$("body").hasClass("page-sidebar-closed")===!1&&($("body").hasClass("page-sidebar-fixed")?f.slimScroll({scrollTo:r.position().top}):App.scrollTo(r,c));t()})):e&&($(".arrow",r).addClass("open"),r.parent().addClass("open"),s.slideDown(h,function(){l===!0&&$("body").hasClass("page-sidebar-closed")===!1&&($("body").hasClass("page-sidebar-fixed")?f.slimScroll({scrollTo:r.position().top}):App.scrollTo(r,c));t()}));i.preventDefault()}});if(App.isAngularJsApp())$(".page-sidebar-menu li > a").on("click",function(){App.getViewPort().width<n&&$(this).next().hasClass("sub-menu")===!1&&$(".page-header .responsive-toggler").click()});$(".page-sidebar").on("click"," li > a.ajaxify",function(t){t.preventDefault();App.scrollTop();var r=$(this).attr("href"),i=$(".page-sidebar ul");i.children("li.active").removeClass("active");i.children("arrow.open").removeClass("open");$(this).parents("li").each(function(){$(this).addClass("active");$(this).children("a > span.arrow").addClass("open")});$(this).parents("li").addClass("active");App.getViewPort().width<n&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();Layout.loadAjaxContent(r,$(this))});$(".page-content").on("click",".ajaxify",function(t){t.preventDefault();App.scrollTop();var i=$(this).attr("href");App.getViewPort().width<n&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();Layout.loadAjaxContent(i)});$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()});o();$(".page-sidebar").on("click",".sidebar-search .remove",function(n){n.preventDefault();$(".sidebar-search").removeClass("open")});$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(n){if(n.which==13)return $(".sidebar-search").submit(),!1});$(".sidebar-search .submit").on("click",function(n){n.preventDefault();$("body").hasClass("page-sidebar-closed")?$(".sidebar-search").hasClass("open")===!1?($(".page-sidebar-fixed").size()===1&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit():$(".sidebar-search").submit()});if($(".sidebar-search").size()!==0){$(".sidebar-search .input-group").on("click",function(n){n.stopPropagation()});$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")})}},e=function(){var n=App.getViewPort().height-$(".page-header").outerHeight(!0);return $("body").hasClass("page-footer-fixed")&&(n=n-$(".page-footer").outerHeight()),n},f=function(){var i=$(".page-sidebar-menu");if(t(),$(".page-sidebar-fixed").size()===0){App.destroySlimScroll(i);return}App.getViewPort().width>=n&&!$("body").hasClass("page-sidebar-menu-not-fixed")&&(i.attr("data-height",e()),App.destroySlimScroll(i),App.initSlimScroll(i),t())},o=function(){if($("body").hasClass("page-sidebar-fixed"))$(".page-sidebar").on("mouseenter",function(){$("body").hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){$("body").hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")})},a=function(){$("body").on("click",".sidebar-toggler",function(){var n=$("body"),i=$(".page-sidebar"),t=$(".page-sidebar-menu");$(".sidebar-search",i).removeClass("open");n.hasClass("page-sidebar-closed")?(n.removeClass("page-sidebar-closed"),t.removeClass("page-sidebar-menu-closed")):(n.addClass("page-sidebar-closed"),t.addClass("page-sidebar-menu-closed"),n.hasClass("page-sidebar-fixed")&&t.trigger("mouseleave"));$(window).trigger("resize")})},v=function(){$(".page-header").on("click",'.hor-menu a[data-toggle="tab"]',function(n){var r,t,i;n.preventDefault();r=$(".hor-menu .nav");t=r.find("li.current");$("li.active",t).removeClass("active");$(".selected",t).remove();i=$(this).parents("li").last();i.addClass("current");i.find("a:first").append('<span class="selected"><\/span>')});$(".page-header").on("click",".search-form",function(){$(this).addClass("open");$(this).find(".form-control").focus();$(".page-header .search-form .form-control").on("blur",function(){$(this).closest(".search-form").removeClass("open");$(this).unbind("blur")})});$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(n){if(n.which==13)return $(this).closest(".search-form").submit(),!1});$(".page-header").on("mousedown",".search-form.open .submit",function(n){n.preventDefault();n.stopPropagation();$(this).closest(".search-form").submit()});$(document).on("click",".mega-menu-dropdown .dropdown-menu",function(n){n.stopPropagation()})},y=function(){$("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){t()})},p=function(){var t=300,n=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(){$(this).scrollTop()>t?$(".scroll-to-top").fadeIn(n):$(".scroll-to-top").fadeOut(n)}):$(window).scroll(function(){$(this).scrollTop()>t?$(".scroll-to-top").fadeIn(n):$(".scroll-to-top").fadeOut(n)});$(".scroll-to-top").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},n),!1})},s=function(){$(".full-height-content").each(function(){var t=$(this),i,r;i=App.getViewPort().height-$(".page-header").outerHeight(!0)-$(".page-footer").outerHeight(!0)-$(".page-title").outerHeight(!0)-$(".page-bar").outerHeight(!0);t.hasClass("portlet")?(r=t.find(".portlet-body"),App.destroySlimScroll(r.find(".full-height-content-body")),i=i-t.find(".portlet-title").outerHeight(!0)-parseInt(t.find(".portlet-body").css("padding-top"))-parseInt(t.find(".portlet-body").css("padding-bottom"))-5,App.getViewPort().width>=n&&t.hasClass("full-height-content-scrollable")?(i=i-35,r.find(".full-height-content-body").css("height",i),App.initSlimScroll(r.find(".full-height-content-body"))):r.css("min-height",i)):(App.destroySlimScroll(t.find(".full-height-content-body")),App.getViewPort().width>=n&&t.hasClass("full-height-content-scrollable")?(i=i-35,t.find(".full-height-content-body").css("height",i),App.initSlimScroll(t.find(".full-height-content-body"))):t.css("min-height",i))})};return{initHeader:function(){v()},setSidebarMenuActiveLink:function(n,t){u(n,t,null)},setAngularJsSidebarMenuActiveLink:function(n,t,i){u(n,t,i)},initSidebar:function(n){f();l();a();App.isAngularJsApp()&&u("match",null,n);App.addResizeHandler(f)},initContent:function(){s();y();App.addResizeHandler(t);App.addResizeHandler(s)},initFooter:function(){p()},init:function(){this.initHeader();this.initSidebar(null);this.initContent();this.initFooter()},loadAjaxContent:function(n,t){var u=$(".page-content .page-content-body");App.startPageLoading({animate:!0});$.ajax({type:"GET",cache:!1,url:n,dataType:"html",success:function(n){App.stopPageLoading();u.html(n);for(var r=0;r<i.length;r++)i[r].call(n);t.size()>0&&t.parents("li.open").size()===0&&$(".page-sidebar-menu > li.open > a").click();Layout.fixContentHeight();App.initAjax()},error:function(n){App.stopPageLoading();u.html("<h4>Could not load the requested content.<\/h4>");for(var t=0;t<r.length;t++)r[t].call(n)}})},addAjaxContentSuccessCallback:function(n){i.push(n)},addAjaxContentErrorCallback:function(n){r.push(n)},fixContentHeight:function(){t()},initFixedSidebarHoverEffect:function(){o()},initFixedSidebar:function(){f()},getLayoutImgPath:function(){return App.getAssetsPath()+h},getLayoutCssPath:function(){return App.getAssetsPath()+c}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){Layout.init()});QuickSidebar=function(){var n=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(){$("body").toggleClass("page-quick-sidebar-open")})},t=function(){var t=$(".page-quick-sidebar-wrapper"),n=t.find(".page-quick-sidebar-chat"),r=function(){var u=t.find(".page-quick-sidebar-chat-users"),f,i,r;f=t.height()-t.find(".nav-tabs").outerHeight(!0);App.destroySlimScroll(u);u.attr("data-height",f);App.initSlimScroll(u);i=n.find(".page-quick-sidebar-chat-user-messages");r=f-n.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);r=r-n.find(".page-quick-sidebar-nav").outerHeight(!0);App.destroySlimScroll(i);i.attr("data-height",r);App.initSlimScroll(i)},i;r();App.addResizeHandler(r);t.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){n.addClass("page-quick-sidebar-content-item-shown")});t.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){n.removeClass("page-quick-sidebar-content-item-shown")});i=function(t){t.preventDefault();var i=n.find(".page-quick-sidebar-chat-user-messages"),u=n.find(".page-quick-sidebar-chat-user-form .form-control"),f=u.val();if(f.length!==0){var e=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="#" class="name">Bob Nilson<\/a>&nbsp;',f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"},o=new Date,r=e("out",o.getHours()+":"+o.getMinutes(),"Bob Nilson","avatar3",f);r=$(r);i.append(r);i.slimScroll({scrollTo:"1000000px"});u.val("");setTimeout(function(){var t=new Date,n=e("in",t.getHours()+":"+t.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh...");n=$(n);i.append(n);i.slimScroll({scrollTo:"1000000px"})},3e3)}};n.find(".page-quick-sidebar-chat-user-form .btn").click(i);n.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(n){if(n.which==13)return i(n),!1})},i=function(){var n=$(".page-quick-sidebar-wrapper"),t=function(){var t=n.find(".page-quick-sidebar-alerts-list"),i;i=n.height()-80-n.find(".nav-justified > .nav-tabs").outerHeight();App.destroySlimScroll(t);t.attr("data-height",i);App.initSlimScroll(t)};t();App.addResizeHandler(t)},r=function(){var n=$(".page-quick-sidebar-wrapper"),t=function(){var t=n.find(".page-quick-sidebar-settings-list"),i;i=n.height()-80-n.find(".nav-justified > .nav-tabs").outerHeight();App.destroySlimScroll(t);t.attr("data-height",i);App.initSlimScroll(t)};t();App.addResizeHandler(t)};return{init:function(){n();t();i();r()}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){QuickSidebar.init()});
/*! head.load - v1.0.3 */
(function(n,t){"use strict";function w(){}function u(n,t){if(n){typeof n=="object"&&(n=[].slice.call(n));for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}}function d(n,i){var r=Object.prototype.toString.call(i).slice(8,-1);return i!==t&&i!==null&&r===n}function o(n){return d("Function",n)}function h(n){return d("Array",n)}function ut(n){var i=n.split("/"),t=i[i.length-1],r=t.indexOf("?");return r!==-1?t.substring(0,r):t}function f(n){(n=n||w,n._done)||(n(),n._done=1)}function ft(n,t,r,u){var f=typeof n=="object"?n:{test:n,success:t?h(t)?t:[t]:!1,failure:r?h(r)?r:[r]:!1,callback:u||w},e=!!f.test;return e&&!!f.success?(f.success.push(f.callback),i.load.apply(null,f.success)):e||!f.failure?u():(f.failure.push(f.callback),i.load.apply(null,f.failure)),i}function c(n){var t={},i,r;if(typeof n=="object")for(i in n)n[i]&&(t={name:i,url:n[i]});else t={name:ut(n),url:n};return(r=v[t.name],r&&r.url===t.url)?r:(v[t.name]=t,t)}function l(n){n=n||v;for(var t in n)if(n.hasOwnProperty(t)&&n[t].state!==y)return!1;return!0}function et(n){n.state=yt;u(n.onpreload,function(n){n.call()})}function ot(n){n.state===t&&(n.state=it,n.onpreload=[],g({url:n.url,type:"cache"},function(){et(n)}))}function st(){var n=arguments,t=n[n.length-1],r=[].slice.call(n,1),f=r[0];return(o(t)||(t=null),h(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(f?(u(r,function(n){o(n)||!n||ot(c(n))}),b(c(n[0]),o(f)?f:function(){i.load.apply(null,r)})):b(c(n[0])),i)}function ht(){var n=arguments,t=n[n.length-1],r={};return(o(t)||(t=null),h(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(u(n,function(n){n!==t&&(n=c(n),r[n.name]=n)}),u(n,function(n){n!==t&&(n=c(n),b(n,function(){l(r)&&f(t)}))}),i)}function b(n,t){if(t=t||w,n.state===y){t();return}if(n.state===rt){i.ready(n.name,t);return}if(n.state===it){n.onpreload.push(function(){b(n,t)});return}n.state=rt;g(n,function(){n.state=y;t();u(a[n.name],function(n){f(n)});s&&l()&&u(a.ALL,function(n){f(n)})})}function ct(n){n=n||"";var t=n.split("?")[0].split(".");return t[t.length-1].toLowerCase()}function g(t,i){function e(t){t=t||n.event;u.onload=u.onreadystatechange=u.onerror=null;i()}function o(f){f=f||n.event;(f.type==="load"||/loaded|complete/.test(u.readyState)&&(!r.documentMode||r.documentMode<9))&&(n.clearTimeout(t.errorTimeout),n.clearTimeout(t.cssTimeout),u.onload=u.onreadystatechange=u.onerror=null,i())}function s(){if(t.state!==y&&t.cssRetries<=20){for(var i=0,f=r.styleSheets.length;i<f;i++)if(r.styleSheets[i].href===u.href){o({type:"load"});return}t.cssRetries++;t.cssTimeout=n.setTimeout(s,250)}}var u,h,f;i=i||w;h=ct(t.url);h==="css"?(u=r.createElement("link"),u.type="text/"+(t.type||"css"),u.rel="stylesheet",u.href=t.url,t.cssRetries=0,t.cssTimeout=n.setTimeout(s,500)):(u=r.createElement("script"),u.type="text/"+(t.type||"javascript"),u.src=t.url);u.onload=u.onreadystatechange=o;u.onerror=e;u.async=!1;u.defer=!1;t.errorTimeout=n.setTimeout(function(){e({type:"timeout"})},7e3);f=r.head||r.getElementsByTagName("head")[0];f.insertBefore(u,f.lastChild)}function lt(){for(var n,u=r.getElementsByTagName("script"),t=0,f=u.length;t<f;t++)if(n=u[t].getAttribute("data-headjs-load"),!!n){i.load(n);return}}function at(n,t){var c,p,e;return n===r?(s?f(t):nt.push(t),i):(o(n)&&(t=n,n="ALL"),h(n))?(c={},u(n,function(n){c[n]=v[n];i.ready(n,function(){l(c)&&f(t)})}),i):typeof n!="string"||!o(t)?i:(p=v[n],p&&p.state===y||n==="ALL"&&l()&&s)?(f(t),i):(e=a[n],e?e.push(t):e=a[n]=[t],i)}function e(){if(!r.body){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(e,50);return}s||(s=!0,lt(),u(nt,function(n){f(n)}))}function k(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",k,!1),e()):r.readyState==="complete"&&(r.detachEvent("onreadystatechange",k),e())}var r=n.document,nt=[],a={},v={},vt="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||n.opera,s,tt=n.head_conf&&n.head_conf.head||"head",i=n[tt]=n[tt]||function(){i.ready.apply(null,arguments)},it=1,yt=2,rt=3,y=4,p;if(r.readyState==="complete")e();else if(r.addEventListener)r.addEventListener("DOMContentLoaded",k,!1),n.addEventListener("load",e,!1);else{r.attachEvent("onreadystatechange",k);n.attachEvent("onload",e);p=!1;try{p=!n.frameElement&&r.documentElement}catch(wt){}p&&p.doScroll&&function pt(){if(!s){try{p.doScroll("left")}catch(t){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(pt,50);return}e()}}()}i.load=i.js=vt?ht:st;i.test=ft;i.ready=at;i.ready(r,function(){l()&&u(a.ALL,function(n){f(n)});i.feature&&i.feature("domloaded",!0)})})(window),function(){function nt(t){function r(n,i,r,u,f,e){for(;f>=0&&e>f;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,f,o,s){f=e(f,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,f,o,h,c,l)}}function tt(n){return function(i,r,f){r=t(r,f);for(var o=u(i),e=n>0?0:o-1;e>=0&&o>e;e+=n)if(r(i[e],e,i))return e;return-1}}function it(t,i,f){return function(e,o,s){var c=0,h=u(e);if("number"==typeof s)t>0?c=s>=0?s:Math.max(s+h,c):h=s>=0?Math.min(s+1,h):s+h+1;else if(f&&s&&h)return s=f(e,o),e[s]===o?s:-1;if(o!==o)return s=i(r.call(e,c,h),n.isNaN),s>=0?s+c:-1;for(s=t>0?c:h-1;s>=0&&h>s;s+=t)if(e[s]===o)return s;return-1}}function rt(t,i){var u=d.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||v,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=d[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var a=this,lt=a._,s=Array.prototype,v=Object.prototype,at=Function.prototype,vt=s.push,r=s.slice,o=v.toString,yt=v.hasOwnProperty,pt=Array.isArray,ut=Object.keys,y=at.bind,ft=Object.create,p=function(){},n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)},e,t,h,f,b,k,d,c,ct,l;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n;n.VERSION="1.8.3";e=function(n,t,i){if(t===void 0)return n;switch(null==i?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return null==t?n.identity:n.isFunction(t)?e(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,1/0)};var w=function(n,t){return function(i){var e=arguments.length,r,u;if(2>e||null==i)return i;for(r=1;e>r;r++)for(var o=arguments[r],s=n(o),h=s.length,f=0;h>f;f++)u=s[f],t&&i[u]!==void 0||(i[u]=o[u]);return i}},et=function(t){if(!n.isObject(t))return{};if(ft)return ft(t);p.prototype=t;var i=new p;return p.prototype=null,i},ot=function(n){return function(t){if(null!=t)return t[n]}},wt=Math.pow(2,53)-1,u=ot("length"),i=function(n){var t=u(n);return"number"==typeof t&&t>=0&&wt>=t};n.each=n.forEach=function(t,r,u){var f,o,s;if(r=e(r,u),i(t))for(f=0,o=t.length;o>f;f++)r(t[f],f,t);else for(s=n.keys(t),f=0,o=s.length;o>f;f++)r(t[s[f]],s[f],t);return t};n.map=n.collect=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h),e=0;h>e;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=nt(1);n.reduceRight=n.foldr=nt(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u,f){return i(t)||(t=n.values(t)),("number"!=typeof u||f)&&(u=0),n.indexOf(t,r,u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return null==t?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var h,o,e=-1/0,c=-1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-1/0&&e===-1/0)&&(e=n,c=o)});return e};n.min=function(r,u,f){var h,o,e=1/0,c=1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],e>h&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(c>o||1/0===o&&1/0===e)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var u,e=i(t)?t:n.values(t),o=e.length,f=Array(o),r=0;o>r;r++)u=n.random(0,r),u!==r&&(f[r]=f[u]),f[u]=e[r];return f};n.sample=function(t,r,u){return null==r||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")};h=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=h(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=h(function(n,t,i){n[i]=t});n.countBy=h(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return null==t?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(null!=t)return null==i||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(null==t||i?1:t)))};n.last=function(t,i,r){if(null!=t)return null==i||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,null==t||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,r,e,o){for(var s,l,a,h=[],v=0,c=o||0,y=u(t);y>c;c++)if(s=t[c],i(s)&&(n.isArray(s)||n.isArguments(s)))for(r||(s=f(s,r,e)),l=0,a=s.length,h.length+=a;a>l;)h[v++]=s[l++];else e||(h[v++]=s);return h};n.flatten=function(n,t){return f(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,f,e){var o,c;n.isBoolean(r)||(e=f,f=r,r=!1);null!=f&&(f=t(f,e));for(var s=[],l=[],h=0,a=u(i);a>h;h++)o=i[h],c=f?f(o,h,i):o,r?(h&&l===c||s.push(o),l=c):f?n.contains(l,c)||(l.push(c),s.push(o)):n.contains(s,o)||s.push(o);return s};n.union=function(){return n.uniq(f(arguments,!0,!0))};n.intersection=function(t){for(var r,i,f=[],o=arguments.length,e=0,s=u(t);s>e;e++)if(r=t[e],!n.contains(f,r)){for(i=1;o>i&&n.contains(arguments[i],r);i++);i===o&&f.push(r)}return f};n.difference=function(t){var i=f(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,u).length||0,f=Array(r),i=0;r>i;i++)f[i]=n.pluck(t,i);return f};n.object=function(n,t){for(var r={},i=0,f=u(n);f>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.findIndex=tt(1);n.findLastIndex=tt(-1);n.sortedIndex=function(n,i,r,f){var o;r=t(r,f,1);for(var h=r(i),e=0,s=u(n);s>e;)o=Math.floor((e+s)/2),r(n[o])<h?e=o+1:s=o;return e};n.indexOf=it(1,n.findIndex,n.sortedIndex);n.lastIndexOf=it(-1,n.findLastIndex);n.range=function(n,t,i){null==t&&(t=n||0,n=0);i=i||1;for(var u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;u>r;r++,n+=i)f[r]=n;return f};b=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=et(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(y&&t.bind===y)return y.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return b(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;o>r;r++)e[r]=i[r]===n?arguments[f++]:i[r];for(;f<arguments.length;)e.push(arguments[f++]);return b(t,u,this,this,e)};return u};n.bindAll=function(t){var i,r,u=arguments.length;if(1>=u)throw new Error("bindAll must be passed function names");for(i=1;u>i;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,0>=c||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;i>c&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),1>=n&&(t=null),i}};n.once=n.partial(n.before,2);k=!{toString:null}.propertyIsEnumerable("toString");d=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(ut)return ut(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return k&&rt(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return k&&rt(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),h=o.length,s={},e=0;h>e;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=w(n.allKeys);n.extendOwn=n.assign=w(n.keys);n.findKey=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),e=0,s=o.length;s>e;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c,o,l={},u=t,s,v,h,a;if(null==u)return l;for(n.isFunction(i)?(o=n.allKeys(u),c=e(i,r)):(o=f(arguments,!1,!1,1),c=function(n,t,i){return t in i},u=Object(u)),s=0,v=o.length;v>s;s++)h=o[s],a=u[h],c(a,h,u)&&(l[h]=a);return l};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var u=n.map(f(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(u,i)}}return n.pick(t,i,r)};n.defaults=w(n.allKeys,!0);n.create=function(t,i){var r=et(t);return i&&n.extendOwn(r,i),r};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(null==t)return!o;for(f=Object(t),r=0;o>r;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};c=function(t,i,r,u){var h,a,e,s,f,l,v;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),h=o.call(t),h!==o.call(i))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a="[object Array]"===h,!a&&("object"!=typeof t||"object"!=typeof i||(e=t.constructor,s=i.constructor,e!==s&&!(n.isFunction(e)&&e instanceof e&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;for(;f--;)if(!c(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;for(;f--;)if(l=v[f],!n.has(i,l)||!c(t[l],i[l],r,u))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return c(n,t)};n.isEmpty=function(t){return null==t?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=pt||function(n){return"[object Array]"===o.call(n)};n.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return o.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(n.isFunction=function(n){return"function"==typeof n||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===o.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return null!=n&&yt.call(n,t)};n.noConflict=function(){return a._=lt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=ot;n.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=e(t,i,1),r=0;n>r;r++)u[r]=t(r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bt=n.invert(st),ht=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=null==n?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ht(st);n.unescape=ht(bt);n.result=function(t,i,r){var u=null==t?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g,gt=function(n){return"\\"+kt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||g).source,(i.interpolate||g).source,(i.evaluate||g).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(dt,gt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};l=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return vt.apply(t,arguments),l(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=s[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],l(this,n)}});n.each(["concat","join","slice"],function(t){var i=s[t];n.prototype[t]=function(){return l(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this),function(n){"use strict";function b(n){var t={},i;return n.selectionStart===undefined?(n.focus(),i=document.selection.createRange(),t.length=i.text.length,i.moveStart("character",-n.value.length),t.end=i.text.length,t.start=t.end-t.length):(t.start=n.selectionStart,t.end=n.selectionEnd,t.length=t.end-t.start),t}function k(n,t,i){if(n.selectionStart===undefined){n.focus();var r=n.createTextRange();r.collapse(!0);r.moveEnd("character",i);r.moveStart("character",t);r.select()}else n.selectionStart=t,n.selectionEnd=i}function d(t,i){n.each(i,function(n,r){typeof r=="function"?i[n]=r(t,i,n):typeof t.autoNumeric[r]=="function"&&(i[n]=t.autoNumeric[r](t,i,n))})}function u(n,t){typeof n[t]=="string"&&(n[t]*=1)}function a(n,t){var i,r,e,o,f,s;return d(n,t),t.oEvent=null,t.tagList=["DD","DT","H1","H2","H3","H4","H5","H6","LABEL","P","SPAN","TD","TH"],i=t.vMax.toString().split("."),r=!t.vMin&&t.vMin!==0?[]:t.vMin.toString().split("."),u(t,"vMax"),u(t,"vMin"),u(t,"mDec"),t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",i[0]=i[0].replace("-",""),r[0]=r[0].replace("-",""),t.mInt=Math.max(i[0].length,r[0].length,1),t.mDec===null&&(e=0,o=0,i[1]&&(e=i[1].length),r[1]&&(o=r[1].length),t.mDec=Math.max(e,o)),t.altDec===null&&t.mDec>0&&(t.aDec==="."&&t.aSep!==","?t.altDec=",":t.aDec===","&&t.aSep!=="."&&(t.altDec=".")),f=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)",t.aNegRegAutoStrip=f,t.skipFirstAutoStrip=new RegExp(f+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$"),s="-"+t.aNum+"\\"+t.aDec,t.allowedAutoStrip=new RegExp("[^"+s+"]","gi"),t.numRegAutoStrip=new RegExp(f+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function t(n,t,i){var u,r,e,f;if(t.aSign)while(n.indexOf(t.aSign)>-1)n=n.replace(t.aSign,"");return n=n.replace(t.skipFirstAutoStrip,"$1$2"),n=n.replace(t.skipLastAutoStrip,"$1"),n=n.replace(t.allowedAutoStrip,""),t.altDec&&(n=n.replace(t.altDec,t.aDec)),u=n.match(t.numRegAutoStrip),n=u?[u[1],u[2],u[3]].join(""):"",(t.lZero==="allow"||t.lZero==="keep")&&i!=="strip"&&(r=[],e="",r=n.split(t.aDec),r[0].indexOf("-")!==-1&&(e="-",r[0]=r[0].replace("-","")),r[0].length>t.mInt&&r[0].charAt(0)==="0"&&(r[0]=r[0].slice(1)),n=e+r.join(t.aDec)),(i&&t.lZero==="deny"||i&&t.lZero==="allow"&&t.allowLeading===!1)&&(f="^"+t.aNegRegAutoStrip+"0*(\\d"+(i==="leading"?")":"|$)"),f=new RegExp(f),n=n.replace(f,"$1$2")),n}function f(n,t,i){return t=t.split(","),i==="set"||i==="focusout"?(n=n.replace("-",""),n=t[0]+n+t[1]):(i==="get"||i==="focusin"||i==="pageLoad")&&n.charAt(0)===t[0]&&(n=n.replace(t[0],"-"),n=n.replace(t[1],"")),n}function v(n,t,i){if(t&&i){var r=n.split(t);r[1]&&r[1].length>i&&(i>0?(r[1]=r[1].substring(0,i),n=r.join(t)):n=r[0])}return n}function o(n,t,i){return t&&t!=="."&&(n=n.replace(t,".")),i&&i!=="-"&&(n=n.replace(i,"-")),n.match(/\d/)||(n+="0"),n}function y(n){var i=n.indexOf("."),t;return i!==-1&&(i===1&&n.charAt(0)==="0"?(n=+n,n<1e-6&&n>0&&(n=(n+1).toString(),n=n.substring(1)),n<0&&n>-1&&(n=(n-1).toString(),n="-"+n.substring(2)),n=n.toString()):(t=n.split("."),t[1]!==undefined&&(+t[1]==0?n=t[0]:(t[1]=t[1].replace(/0*$/,""),n=t.join("."))))),n.replace(/^0*(\d)/,"$1")}function p(n,t,i){return i&&i!=="-"&&(n=n.replace("-",i)),t&&t!=="."&&(n=n.replace(".",t)),n}function s(i,r){i=t(i,r);i=v(i,r.aDec,r.mDec);i=o(i,r.aDec,r.aNeg);var u=+i;return r.oEvent==="set"&&(u<r.vMin||u>r.vMax)&&n.error("The value ("+u+") from the 'set' method falls outside of the vMin / vMax range"),u>=r.vMin&&u<=r.vMax}function e(n,t,i){return n===""||n===t.aNeg?t.wEmpty==="zero"?n+"0":t.wEmpty==="sign"||i?n+t.aSign:n:null}function h(n,i){var h,s,o,r,u,c;if(n=t(n,i),h=n,s=e(n,i,!0),s!==null)return s;if(o="",o=i.dGroup===2?/(\d)((\d)(\d{2}?)+)$/:i.dGroup===4?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/,r=n.split(i.aDec),i.altDec&&r.length===1&&(r=n.split(i.altDec)),u=r[0],i.aSep)while(o.test(u))u=u.replace(o,"$1"+i.aSep+"$2");return i.mDec!==0&&r.length>1?(r[1].length>i.mDec&&(r[1]=r[1].substring(0,i.mDec)),n=u+i.aDec+r[1]):n=u,i.aSign&&(c=n.indexOf(i.aNeg)!==-1,n=n.replace(i.aNeg,""),n=i.pSign==="p"?i.aSign+n:n+i.aSign,c&&(n=i.aNeg+n)),i.oEvent==="set"&&h<0&&i.nBracket!==null&&(n=f(n,i.nBracket,i.oEvent)),n}function c(n,t){var a;n=n===""?"0":n.toString();u(t,"mDec");var f="",e=0,i="",o=typeof t.aPad=="boolean"||t.aPad===null?t.aPad?t.mDec:0:+t.aPad,v=function(n){var t=o===0?/(\.[1-9]*)0*$/:o===1?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+o+"}[1-9]*)0*$");return n=n.replace(t,"$1"),o===0&&(n=n.replace(/\.$/,"")),n};n.charAt(0)==="-"&&(i="-",n=n.replace("-",""));n.match(/^\d/)||(n="0"+n);i==="-"&&+n==0&&(i="");(+n>0&&t.lZero!=="keep"||n.length>0&&t.lZero==="allow")&&(n=n.replace(/^0*(\d)/,"$1"));var l=n.lastIndexOf("."),y=l===-1?n.length-1:l,h=n.length-1-y;if(h<=t.mDec){if(f=n,h<o)for(l===-1&&(f+=".");h<o;)a="000000".substring(0,o-h),f+=a,h+=a.length;else h>o?f=v(f):h===0&&o===0&&(f=f.replace(/\.$/,""));return i+f}var c=l+t.mDec,r=+n.charAt(c+1),s=n.substring(0,c+1).split(""),p=n.charAt(c)==="."?n.charAt(c-1)%2:n.charAt(c)%2;if(r>4&&t.mRound==="S"||r>4&&t.mRound==="A"&&i===""||r>5&&t.mRound==="A"&&i==="-"||r>5&&t.mRound==="s"||r>5&&t.mRound==="a"&&i===""||r>4&&t.mRound==="a"&&i==="-"||r>5&&t.mRound==="B"||r===5&&t.mRound==="B"&&p===1||r>0&&t.mRound==="C"&&i===""||r>0&&t.mRound==="F"&&i==="-"||r>0&&t.mRound==="U")for(e=s.length-1;e>=0;e-=1)if(s[e]!==".")if(s[e]=+s[e]+1,s[e]<10)break;else e>0&&(s[e]="0");return s=s.slice(0,c+1),f=v(s.join("")),i+f}function w(t,i){this.settings=i;this.that=t;this.$that=n(t);this.formatted=!1;this.settingsClone=a(this.$that,this.settings);this.value=t.value}function r(t){return typeof t=="string"&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),n(t)}function i(n,t,i){var r=n.data("autoNumeric"),u;return r||(r={},n.data("autoNumeric",r)),u=r.holder,(u===undefined&&t||i)&&(u=new w(n.get(0),t),r.holder=u),u}w.prototype={init:function(n){this.value=this.that.value;this.settingsClone=a(this.$that,this.settings);this.ctrlKey=n.ctrlKey;this.cmdKey=n.metaKey;this.shiftKey=n.shiftKey;this.selection=b(this.that);(n.type==="keydown"||n.type==="keyup")&&(this.kdCode=n.keyCode);this.which=n.which;this.processed=!1;this.formatted=!1},setSelection:function(n,t,i){n=Math.max(n,0);t=Math.min(t,this.that.value.length);this.selection={start:n,end:t,length:t-n};(i===undefined||i)&&k(this.that,n,t)},setPosition:function(n,t){this.setSelection(n,n,t)},getBeforeAfter:function(){var n=this.value,t=n.substring(0,this.selection.start),i=n.substring(this.selection.end,n.length);return[t,i]},getBeforeAfterStriped:function(){var n=this.getBeforeAfter();return n[0]=t(n[0],this.settingsClone),n[1]=t(n[1],this.settingsClone),n},normalizeParts:function(n,i){var r=this.settingsClone,e,u,f;return i=t(i,r),e=i.match(/^\d/)?!0:"leading",n=t(n,r,e),(n===""||n===r.aNeg)&&r.lZero==="deny"&&i>""&&(i=i.replace(/^0*(\d)/,"$1")),u=n+i,r.aDec&&(f=u.match(new RegExp("^"+r.aNegRegAutoStrip+"\\"+r.aDec)),f&&(n=n.replace(f[1],f[1]+"0"),u=n+i)),r.wEmpty==="zero"&&(u===r.aNeg||u==="")&&(n+="0"),[n,i]},setValueParts:function(n,t){var r=this.settingsClone,f=this.normalizeParts(n,t),i=f.join(""),u=f[0].length;return s(i,r)?(i=v(i,r.aDec,r.mDec),u>i.length&&(u=i.length),this.value=i,this.setPosition(u,!1),!0):!1},signPosition:function(){var n=this.settingsClone,u=n.aSign,i=this.that,t,f,r;return u?(t=u.length,n.pSign==="p")?(f=n.aNeg&&i.value&&i.value.charAt(0)===n.aNeg,f?[1,t+1]:[0,t]):(r=i.value.length,[r-t,r]):[1e3,-1]},expandSelectionOnSign:function(n){var t=this.signPosition(),i=this.selection;i.start<t[1]&&i.end>t[0]&&((i.start<t[0]||i.end>t[1])&&this.value.substring(Math.max(i.start,t[0]),Math.min(i.end,t[1])).match(/^\s*$/)?i.start<t[0]?this.setSelection(i.start,t[0],n):this.setSelection(t[1],i.end,n):this.setSelection(Math.min(i.start,t[0]),Math.max(i.end,t[1]),n))},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var n=this.getBeforeAfter(),i=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste;n[0]=n[0].substr(0,i[0].length)+t(n[0].substr(i[0].length),this.settingsClone);this.setValueParts(n[0],n[1])||(this.value=i.join(""),this.setPosition(i[0].length,!1))}},skipAllways:function(n){var t=this.kdCode,e=this.which,i=this.ctrlKey,r=this.cmdKey,s=this.shiftKey;if((i||r)&&n.type==="keyup"&&this.valuePartsBeforePaste!==undefined||s&&t===45)return this.checkPaste(),!1;if(t>=112&&t<=123||t>=91&&t<=93||t>=9&&t<=31||t<8&&(e===0||e===t)||t===144||t===145||t===45||(i||r)&&t===65)return!0;if((i||r)&&(t===67||t===86||t===88))return n.type==="keydown"&&this.expandSelectionOnSign(),(t===86||t===45)&&(n.type==="keydown"||n.type==="keypress"?this.valuePartsBeforePaste===undefined&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),n.type==="keydown"||n.type==="keypress"||t===67;if(i||r)return!0;if(t===37||t===39){var f=this.settingsClone.aSep,u=this.selection.start,o=this.that.value;return n.type==="keydown"&&f&&!this.shiftKey&&(t===37&&o.charAt(u-2)===f?this.setPosition(u-1):t===39&&o.charAt(u+1)===f&&this.setPosition(u+1)),!0}return t>=34&&t<=40?!0:!1},processAllways:function(){var n;return this.kdCode===8||this.kdCode===46?(this.selection.length?(this.expandSelectionOnSign(!1),n=this.getBeforeAfterStriped(),this.setValueParts(n[0],n[1])):(n=this.getBeforeAfterStriped(),this.kdCode===8?n[0]=n[0].substring(0,n[0].length-1):n[1]=n[1].substring(1,n[1].length),this.setValueParts(n[0],n[1])),!0):!1},processKeypress:function(){var n=this.settingsClone,r=String.fromCharCode(this.which),u=this.getBeforeAfterStriped(),t=u[0],i=u[1];return r===n.aDec||n.altDec&&r===n.altDec||(r==="."||r===",")&&this.kdCode===110?!n.mDec||!n.aDec?!0:n.aNeg&&i.indexOf(n.aNeg)>-1?!0:t.indexOf(n.aDec)>-1?!0:i.indexOf(n.aDec)>0?!0:(i.indexOf(n.aDec)===0&&(i=i.substr(1)),this.setValueParts(t+n.aDec,i),!0):r==="-"||r==="+"?n.aNeg?(t===""&&i.indexOf(n.aNeg)>-1&&(t=n.aNeg,i=i.substring(1,i.length)),t=t.charAt(0)===n.aNeg?t.substring(1,t.length):r==="-"?n.aNeg+t:t,this.setValueParts(t,i),!0):!0:r>="0"&&r<="9"?(n.aNeg&&t===""&&i.indexOf(n.aNeg)>-1&&(t=n.aNeg,i=i.substring(1,i.length)),n.vMax<=0&&n.vMin<n.vMax&&this.value.indexOf(n.aNeg)===-1&&r!=="0"&&(t=n.aNeg+t),this.setValueParts(t+r,i),!0):!0},formatQuick:function(){var n=this.settingsClone,t=this.getBeforeAfterStriped(),o=this.value,f,s,i,r,e,u,l,c;if((n.aSep===""||n.aSep!==""&&o.indexOf(n.aSep)===-1)&&(n.aSign===""||n.aSign!==""&&o.indexOf(n.aSign)===-1)&&(f=[],s="",f=o.split(n.aDec),f[0].indexOf("-")>-1&&(s="-",f[0]=f[0].replace("-",""),t[0]=t[0].replace("-","")),f[0].length>n.mInt&&t[0].charAt(0)==="0"&&(t[0]=t[0].slice(1)),t[0]=s+t[0]),i=h(this.value,this.settingsClone),r=i.length,i){for(e=t[0].split(""),u=0,u;u<e.length;u+=1)e[u].match("\\d")||(e[u]="\\"+e[u]);l=new RegExp("^.*?"+e.join(".*?"));c=i.match(l);c?(r=c[0].length,(r===0&&i.charAt(0)!==n.aNeg||r===1&&i.charAt(0)===n.aNeg)&&n.aSign&&n.pSign==="p"&&(r=this.settingsClone.aSign.length+(i.charAt(0)==="-"?1:0))):n.aSign&&n.pSign==="s"&&(r-=n.aSign.length)}this.that.value=i;this.setPosition(r);this.formatted=!0}};var l={init:function(r){return this.each(function(){var u=n(this),l=u.data("autoNumeric"),w=u.data(),y,a,v;if(typeof l!="object"){if(y={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}},l=n.extend({},y,w,r),l.aDec===l.aSep)return n.error("autoNumeric will not function properly when the decimal character aDec: '"+l.aDec+"' and thousand seperater aSep: '"+l.aSep+"' are the same character"),this;if(n.inArray(u.prop("tagName"),l.tagList)!==-1)return n.error("The <"+u.prop("tagName")+"> is not supported by autoNumeric()"),this;u.data("autoNumeric",l)}else return this;if(l.lastSetValue="",a=i(u,l),l.runOnce===undefined&&l.aForm&&(u.is("input[type=text], input[type=hidden], input:not([type])")&&(v=!0,u[0].value===""&&l.wEmpty==="empty"&&(u[0].value="",v=!1),u[0].value===""&&l.wEmpty==="sign"&&(u[0].value=l.aSign,v=!1),v&&u.autoNumeric("set",u.val())),n.inArray(u.prop("tagName"),l.tagList)!==-1&&u.autoNumeric("set",u.text())),l.runOnce=!0,u.is("input[type=text], input[type=hidden], input:not([type])")){u.on("keydown.autoNumeric",function(t){return(a=i(u),a.settings.aDec===a.settings.aSep)?(n.error("autoNumeric will not function properly when the decimal character aDec: '"+a.settings.aDec+"' and thousand seperater aSep: '"+a.settings.aSep+"' are the same character"),this):a.that.readOnly?(a.processed=!0,!0):(a.init(t),a.settings.oEvent="keydown",a.skipAllways(t))?(a.processed=!0,!0):a.processAllways()?(a.processed=!0,a.formatQuick(),t.preventDefault(),!1):(a.formatted=!1,!0)});u.on("keypress.autoNumeric",function(n){var t=i(u),r=t.processed;if(t.init(n),t.settings.oEvent="keypress",t.skipAllways(n))return!0;if(r)return n.preventDefault(),!1;if(t.processAllways()||t.processKeypress())return t.formatQuick(),n.preventDefault(),!1;t.formatted=!1});u.on("keyup.autoNumeric",function(n){var t=i(u),r;if((t.init(n),t.settings.oEvent="keyup",r=t.skipAllways(n),t.kdCode=0,delete t.valuePartsBeforePaste,r)||this.value==="")return!0;t.formatted||t.formatQuick()});u.on("focusin.autoNumeric",function(){var n=i(u),r,t;n.settingsClone.oEvent="focusin";n.settingsClone.nBracket!==null&&(r=u.val(),u.val(f(r,n.settingsClone.nBracket,n.settingsClone.oEvent)));n.inVal=u.val();t=e(n.inVal,n.settingsClone,!0);t!==null&&u.val(t)});u.on("focusout.autoNumeric",function(){var a=i(u),n=a.settingsClone,r=u.val(),y=r,v,l;a.settingsClone.oEvent="focusout";v="";n.lZero==="allow"&&(n.allowLeading=!1,v="leading");r!==""&&(r=t(r,n,v),e(r,n)===null&&s(r,n,u[0])?(r=o(r,n.aDec,n.aNeg),r=c(r,n),r=p(r,n.aDec,n.aNeg)):r="");l=e(r,n,!1);l===null&&(l=h(r,n));l!==y&&u.val(l);l!==a.inVal&&(u.change(),delete a.inVal);n.nBracket!==null&&u.autoNumeric("get")<0&&(a.settingsClone.oEvent="focusout",u.val(f(u.val(),n.nBracket,n.oEvent)))})}})},destroy:function(){return n(this).each(function(){var t=n(this);t.off(".autoNumeric");t.removeData("autoNumeric")})},update:function(t){return n(this).each(function(){var f=r(n(this)),u=f.data("autoNumeric"),e;return typeof u!="object"?(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this):(e=f.autoNumeric("get"),u=n.extend(u,t),i(f,u,!0),u.aDec===u.aSep)?(n.error("autoNumeric will not function properly when the decimal character aDec: '"+u.aDec+"' and thousand seperater aSep: '"+u.aSep+"' are the same character"),this):(f.data("autoNumeric",u),f.val()!==""||f.text()!=="")?f.autoNumeric("set",e):void 0})},set:function(t){return n(this).each(function(){var f=r(n(this)),u=f.data("autoNumeric"),i=t.toString();return typeof u!="object"?(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):n.isNumeric(+i)?(i=y(i),u.oEvent="set",u.lastSetValue=i,i.toString(),i!==""&&(i=c(i,u)),i=p(i,u.aDec,u.aNeg),s(i,u)||(i=c("",u)),i=h(i,u),f.is("input[type=text], input[type=hidden], input:not([type])"))?f.val(i):n.inArray(f.prop("tagName"),u.tagList)!==-1?f.text(i):(n.error("The <"+f.prop("tagName")+"> is not supported by autoNumeric()"),!1):""})},get:function(){var e=r(n(this)),i=e.data("autoNumeric"),u;if(typeof i!="object")return n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;if(i.oEvent="get",u="",e.is("input[type=text], input[type=hidden], input:not([type])"))u=e.eq(0).val();else if(n.inArray(e.prop("tagName"),i.tagList)!==-1)u=e.eq(0).text();else return n.error("The <"+e.prop("tagName")+"> is not supported by autoNumeric()"),!1;return u===""&&i.wEmpty==="empty"||u===i.aSign&&i.wEmpty==="sign"?"":(i.nBracket!==null&&u!==""&&(u=f(u,i.nBracket,i.oEvent)),(i.runOnce||i.aForm===!1)&&(u=t(u,i)),u=o(u,i.aDec,i.aNeg),+u==0&&i.lZero!=="keep"&&(u="0"),i.lZero==="keep")?u:y(u)},getString:function(){var f=!1,o=r(n(this)),s=o.serialize(),u=s.split("&"),i=0,t,e;for(i;i<u.length;i+=1)t=u[i].split("="),e=n('*[name="'+decodeURIComponent(t[0])+'"]').data("autoNumeric"),typeof e=="object"&&t[1]!==null&&n('*[name="'+decodeURIComponent(t[0])+'"]').data("autoNumeric")!==undefined&&(t[1]=n('input[name="'+decodeURIComponent(t[0])+'"]').autoNumeric("get"),u[i]=t.join("="),f=!0);return f===!0?u.join("&"):(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var t=!1,u=r(n(this)),i=u.serializeArray();return(n.each(i,function(i,r){var u=n('*[name="'+decodeURIComponent(r.name)+'"]').data("autoNumeric");typeof u=="object"&&(r.value!==""&&n('*[name="'+decodeURIComponent(r.name)+'"]').data("autoNumeric")!==undefined&&(r.value=n('input[name="'+decodeURIComponent(r.name)+'"]').autoNumeric("get").toString()),t=!0)}),t===!0)?i:(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){var t=r(n(this));return t.eq(0).data("autoNumeric")}};n.fn.autoNumeric=function(t){if(l[t])return l[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return l.init.apply(this,arguments);n.error('Method "'+t+'" is not supported by autoNumeric()')}}(jQuery);Type.registerNamespace("Benner");Benner.Page=function(){};Benner.Page.processingTimeoutId=null;Benner.Page.processing=null;Benner.Page.progressShowed=null;Benner.Page.webTour=null;Benner.Page.webTourSteps=null;Benner.Page.loading=function(){};Benner.Page.loaded=function(){var n=Sys.WebForms.PageRequestManager.getInstance();n.get_isInAsyncPostBack()||Benner.Page.initWebTour()};Benner.Page.preventPostbackOnEnterKeyDown=function(n){return n.rawEvent.keyCode!=13||n.target.type!="text"&&n.target.type!="checkbox"&&n.target.type!="radio"?!1:(n.preventDefault(),n.stopPropagation(),!0)};Benner.Page.keyDown=function(n){for(var t,u,r=Benner.Form.items,i=0;i<r.length;i++)if((r[i].formViewMode=="Edit"||r[i].formViewMode=="Insert")&&(t=n.target.type,u=n.rawEvent.keyCode,u==8&&t!="text"&&t!="textarea"&&t!="password"&&t!="search"&&!$(n.target).hasClass("note-editable"))){n.preventDefault();confirm("Seu formulário ainda não foi salvo.\n\nDeseja sair do formulário?")&&window.history.back();break}};Benner.Page.initializeRequest=function(){};Benner.Page.beginRequest=function(n,t){var i,r;Benner.Page.webTour&&Benner.Page.webTour.end();Benner.Page.processing=!0;Benner.Page.processingTimeoutId=setTimeout(function(){Benner.Page.processing&&(Benner.ModalMessage.show("Carregando"),Benner.Page.progressShowed=!0)},500);try{Benner.Search.close();i=$(t._postBackElement).closest(".ignore-autofocus");i&&i.length?Benner.Control.storeCurrentFocus(null,"ignore"):(r=$(t._postBackElement).find(".portlet"),t._postBackElement.className.indexOf("simple-grid")>0||$(t._postBackElement).closest(".simple-grid").length>0?Benner.Control.storeCurrentFocus(r,"ignore"):Benner.Control.storeCurrentFocus(r,"first-child"))}catch(u){console.error("Erro no Benner.Page.beginRequest: "+u.message)}};Benner.Page.endRequest=function(n,t){if(Benner.Page.processing=!1,Benner.Page.processingTimeoutId&&Benner.Page.progressShowed&&(clearTimeout(Benner.Page.processingTimeoutId),Benner.Page.processingTimeoutId=0,Benner.ModalMessage.hide(),Benner.Page.progressShowed=!1),t.get_error()!=undefined&&t.get_error().httpStatusCode=="500"){t.set_errorHandled(!0);var i=t.get_response().get_responseData(),r=i.substring(i.search("<h2> <i>")+8,i.search("<\/i> <\/h2>")),u=t.get_error().message.replace("Sys.WebForms.PageRequestManagerServerErrorException:","");Benner.ModalMessage.alert(u,r)}App.initAjax();Benner.Page.initAjax();Benner.WidgetCommandsBar.init();Benner.Date.init();Benner.FormWidget.init();Benner.Search.init();Benner.Control.restoreFocus();Benner.AsyncProcesses.initAjax();Benner.HorizontalMenu.fixSubMenuPositions();Benner.Page.initContextMenu();Benner.AutoComplete.init();window.self!==window.top&&Benner.WidgetCommandsBar.displayFooterCommandsBar(self.document)};Benner.Application=function(){};Benner.Application.init=function(){var n=Sys.WebForms.PageRequestManager.getInstance();n.get_isInAsyncPostBack()||(n.add_pageLoading(Benner.Page.loading),n.add_pageLoaded(Benner.Page.loaded),n.add_initializeRequest(Benner.Page.initializeRequest),n.add_beginRequest(Benner.Page.beginRequest),n.add_endRequest(Benner.Page.endRequest))};Benner.Application.load=function(n,t){t.get_isPartialLoad()||(Sys.Browser.agent==Sys.Browser.Firefox?$addHandler(document,"keypress",function(n){var t=Benner.Page.preventPostbackOnEnterKeyDown(n);if(t)return!1;Benner.Page.keyDown(n)}):$addHandler(document,"keydown",function(n){var t=Benner.Page.preventPostbackOnEnterKeyDown(n);if(t)return!1;Benner.Page.keyDown(n)}))};Benner.Page.closeDropdown=function(){var n=$(".group-dropdown-menu.open");n.length>0&&n.removeClass("open")};Benner.Page.initBlockUI=function(){$(".widget-unblock").each(function(){App.unblockUI("#"+$(this).attr("data-block-id"))});$(".widget-block").each(function(){var n=$("#"+$(this).attr("data-block-id")).data();n&&n["blockUI.isBlocked"]!=1&&App.blockUI({target:"#"+$(this).attr("data-block-id"),animate:!0})})};Benner.Page.hideAndShowTabs=function(){var n=$(".tab-content .widget-context");n.each(function(){var t=$(this).parents(".widget-body").data("widget-id"),n=$(".nav.nav-tabs>li[data-widget-id='"+t+"']>a"),i;$(this).hasClass("hidden")?$(this).hasClass("developer")?n.data("original-text")?n.text(n.data("original-text")+" (invisível)"):(i=n.text(),n.attr("data-original-text",i),n.text(i+" (invisível)")):($(".tab-content>#tab"+t).addClass("hidden"),$(".nav.nav-tabs>li[data-widget-id='"+t+"']").addClass("hidden")):(n.data("original-text")&&(n.text(n.data("original-text")),n.removeData()),$(".tab-content>#tab"+t).removeClass("hidden"),$(".nav.nav-tabs>li[data-widget-id='"+t+"']").removeClass("hidden"))});$("ul.nav.nav-tabs>li.hidden.active").length&&$('ul.nav-tabs > li:not(".hidden"):first > a').tab("show").click();$("ul.nav.nav-tabs>.hidden").length==$("ul.nav.nav-tabs").children().length?$("ul.nav.nav-tabs").parent().hide():$("ul.nav.nav-tabs").parent().show()};Benner.Page.hideAndShowWidgets=function(){if(!$(".portlet.light > .tab-content").length){var n=$(".widget .widget-context");n.each(function(){var t=$(this).parents(".widget").attr("id"),n=$("#"+t+" .caption-subject"),i;$(this).hasClass("hidden")?$(this).hasClass("developer")?n.data("originalText")||(i=n.text(),n.attr("data-original-text",i),n.parent().append('<span class="caption-helper">widget invisível<\/span>')):$(this).parents(".widget").first().hide():(n.data("originalText")&&(n.removeData().removeAttr("data-original-text"),$("#"+t+" .caption-helper").remove()),$(this).parents(".widget").first().show())})}};Benner.Page.initAjax=function(){Benner.Page.initBlockUI();Benner.Page.initEasyPieChart();Benner.Page.hideAndShowTabs();Benner.Page.hideAndShowWidgets();$(".filter-button").click(function(){Benner.FormWidget.removeMask()});$(".form-actions a:not(.btn-del)").click(function(){var n=$(this).attr("href");$(this).removeAttr("href");eval(n)});$(document).on("show.bs.dropdown",'.dropdown-toggle.dropdown-command-record[data-hover="dropdown"]',function(){var n=$(this).offset();n.top+=$(this).outerHeight();var t=$(this).next(),i=n.top+t.height(),r=$(document).height();r<i&&($(this).parent().addClass("drop-up"),i=t.outerHeight(),n.top-=i+$(this).outerHeight()+5);t.css("position","fixed");t.offset({left:n.left,top:n.top+3})});$(document).on("click.bs.dropdown.data-api",".dropdown-toggle.dropdown-command-record",function(){var i=$(this),u=i.parent(),n=i.offset();n.top+=i.outerHeight();var t=u.find(".dropdown-menu.dropdown-menu-command-record"),r=n.top+t.height(),f=$(document).height();f<r&&($(this).parent().addClass("drop-up"),r=t.outerHeight(),n.top-=r+$(this).outerHeight()+5);t.css("position","fixed");t.offset({left:n.left,top:n.top+3})});$(".table-responsive.table-scrollable").scroll(Benner.Page.closeDropdown);$(window).scroll(Benner.Page.closeDropdown);$(".html-control").summernote({height:160,lang:"pt-BR",toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen"]],["help",["help"]]],disableDragAndDrop:!0,callbacks:{onBlur:function(){var n=$("#"+this.id+"_HIDDEN"),t=$(this).html().trim();t!=n.val()&&$(this).change()},onChange:function(n){var t=$("#"+this.id+"_HIDDEN");t!=null&&t.val(n.trim())}}});$("body").on("click",function(n){$('[data-toggle="popover"]').each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||$(".popover").has(n.target).length!==0||$(this).popover("hide")})});Benner.Page.handleDropdownHover()};Benner.Page.init=function(){Benner.Page.initAjax();$("body").on("click",".portlet > .portlet-title > .caption.collapsible",function(n){n.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body"),i=$(this).closest(".portlet-title").children(".tools").children("a");$(i).each(function(){$(this).hasClass("fullscreen")||($(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),t.slideDown(200)))})});var n=$("#direitosReservados");n&&n.html("© "+(new Date).getFullYear()+" Benner Sistemas. Todos os direitos reservados");$(function(){$(".environment").hover(function(){$(".environment-text").stop().slideDown()},function(){$(".environment-text").stop().slideUp()})})};Benner.Page.searchFields=function(n,t){for(var i,f=$("#"+t).val().toLowerCase(),u=$(".mt-checkbox-list.editor-check-list > .mt-checkbox"),r=0;r<u.length;r+=1)i=$(u[r]),i.text().toLowerCase().indexOf(f)===-1?i.addClass("hidden"):i.removeClass("hidden")};Benner.Page.clearFieldSearch=function(n,t){if($("#"+t).val()!=""){$("#"+t).val("");var i=$(".mt-checkbox-list.editor-check-list > .mt-checkbox");i.removeClass("hidden")}};Benner.Page.selectAllFields=function(n,t,i){for(var u,f=$(".mt-checkbox-list.editor-check-list").children(":not(.hidden)").find("input"),r=0;r<f.length;r+=1)u=$(f[r]),u.is(":checked")!=n&&u.click();n?($("#"+t).addClass("hidden"),$("#"+i).removeClass("hidden")):($("#"+t).removeClass("hidden"),$("#"+i).addClass("hidden"))};Benner.Page.isMobile=function(){var r=/iPhone/i,o=/iPod/i,s=/iPad/i,u=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,h=/Android/i,t=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,i=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,c=/IEMobile/i,l=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,a=/BlackBerry/i,v=/BB10/i,y=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,w=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),n=function(n,t){return n.test(t)},f=function(f){var e=f||navigator.userAgent,k=e.split("[FBAN");return typeof k[1]!="undefined"&&(e=k[0]),this.apple={phone:n(r,e),ipod:n(o,e),tablet:!n(r,e)&&n(s,e),device:n(r,e)||n(o,e)||n(s,e)},this.amazon={phone:n(t,e),tablet:!n(t,e)&&n(i,e),device:n(t,e)||n(i,e)},this.android={phone:n(t,e)||n(u,e),tablet:!n(t,e)&&!n(u,e)&&(n(i,e)||n(h,e)),device:n(t,e)||n(i,e)||n(u,e)||n(h,e)},this.windows={phone:n(c,e),tablet:n(l,e),device:n(c,e)||n(l,e)},this.other={blackberry:n(a,e),blackberry10:n(v,e),opera:n(y,e),firefox:n(w,e),chrome:n(p,e),device:n(a,e)||n(v,e)||n(y,e)||n(w,e)||n(p,e)},this.seven_inch=n(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,typeof window=="undefined"?this:void 0},e=function(){var n=new f;return n.Class=f,n};typeof module!="undefined"&&module.exports&&typeof window=="undefined"?module.exports=f:typeof module!="undefined"&&module.exports&&typeof window!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("isMobile",[],Benner.Page.isMobile=e()):Benner.Page.isMobile=e()};Benner.Page.initFancybox=function(){$(".fancybox").fancybox({type:"image",margin:[70,20,20,20]})};Benner.Page.initEasyPieChart=function(){$(".easy-pie-chart .number").each(function(){$(this).easyPieChart({animate:1e3,size:75,lineWidth:3,barColor:$(this).data("color")})})};Benner.Page.validSessionExpired=function(n){$(n).contents().find("body").hasClass("login")&&(parent.window.location.href="~/Login")};Benner.Page.initContextMenu=function(){$(".ignore-context-menu").length>0||$("#ContentPanel").contextmenu({target:"#menu-do-desenvolvedor-context",onItem:function(n,t){t.currentTarget.click()},before:function(n){return!n.shiftKey&&!n.ctrlKey?$(n.target).parents(".dx-widget").length===0:!1}})};Benner.Page.initWidgetFilterBox=function(){jQuery.expr[":"].containsi=function(n,t,i){return jQuery(n).text().removeAccents().toUpperCase().indexOf(i[3].toUpperCase())>=0};$("input[id$='_menuFilter']").first().focus();$("input[id$='_menuFilter']").keyup(function(){var n=$("div[data-widget-id='"+$(this).data("parentWidgetId")+"'] .list-unstyled"),i,t;for(n.find("li a").css("display",""),n.prev("h3").css("display",""),i=$("div[data-widget-id='"+$(this).data("parentWidgetId")+"'] h3:not(:containsi('"+this.value.removeAccents()+"'))").next(),n=n.filter(i),this.value!=null&&this.value!=""&&n.find("li a:not(:containsi('"+this.value.removeAccents()+"'))[href]").css("display","none"),t=0;t<n.length;t++)$(n[t]).find("li a:visible[href]").length==0&&($(n[t]).prev("h3").css("display","none"),$(n[t]).prev("a:not([href])").css("display","none"))})};Benner.Page.ping=function(n,t){var i=new Date;i.setMinutes(i.getMinutes()+n);Benner.Page.requestPing(i,t)};Benner.Page.requestPing=function(n,t){var i=new Date;n-i>0&&setTimeout(function(){$.ajax({cache:!1,type:"GET",url:Benner.Page.getApplicationPath()+"Ping"}).done(function(){Benner.Page.requestPing(n,t)})},t)};Benner.Page.initHotkeys=function(){$(document).keydown(function(n){var i,t;if(n.ctrlKey&&n.keyCode==13||n.ctrlKey&&n.keyCode==45||n.ctrlKey&&n.keyCode==32||n.keyCode==27){if(n.keyCode==27&&$("body").hasClass("modal-page"))return;if(i=Benner.Search.getFocusedSelect2(),field=i?i:$(":focus"),focusedWidget=field.parents(".widget"),t={},field.parents(".note-editor").size()>0)return;switch(n.keyCode){case 13:if(n.shiftKey){t.path=".btn-savenew";t.context="widget";break}else{t.path=".btn-save";t.context="widget";break}case 27:t.path=".btn-cancel";t.context="widget";break;case 45:t.path=".btn-new";t.context="widget";break;case 32:t.path="#searcher";t.context="global"}if($(t.path).first().focus(),t.context=="global"){$(t.path).first().click();return}focusedWidget!=null&&focusedWidget.length>0?$(focusedWidget).find(t.path).first().click():$(t.path).parents(".widget").size()==1&&$(t.path).first().click()}})};Benner.Page.changeSelectedTab=function(n){var i=$(n).data("widget-id"),t=$("#"+i).parent().attr("id");Benner.CollapsiblePanel.isOpeningTheWebpart(t)&&Benner.CollapsiblePanel.changeServerChromeState(t)};Benner.Page.GridNavigation=function(n){var i=$("tr.active"),t;(i.size()==0?t=$("#FixedWebPartZoneMain [widget-type='SimpleGrid'] tr")[1]:(t="",n==38?t=i.prev():n==40&&(t=i.next())),t.size!=0)&&($(t).find("td[onclick]").first().click(),$(window).scrollTop(t.position()))};Benner.Page.handleDropdownHover=function(){$(".btn.dropdown-toggle").not(".hover-initialized").not(".dropdown-click").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")})};Benner.Page.helpDocumentation=function(){var n=$(".widget .portlet-title .caption > span").first().text();n===""&&(n=document.title);$.ajax({url:Benner.Page.getApplicationPath()+"api/helpdocumentation",data:{search:n},dataType:"json",async:!1,success:function(n){window.open(n)},error:function(){alert("Falha ao ser redirecionado para a documentação.")}})};Benner.Page.registerServiceWorker=function(){"serviceWorker"in navigator&&navigator.serviceWorker.register(Benner.Page.getApplicationPath()+"content/js/ServiceWorker.js").then(function(){}).catch(function(n){console.log("Não foi possível registrar o service worker. Mensagem:",n)})};Benner.Page.addWebTourSteps=function(n){Benner.Page.webTourSteps===null&&(Benner.Page.webTourSteps=[]);Benner.Page.webTourSteps=Benner.Page.webTourSteps.concat(n)};Benner.Page.initWebTour=function(n){if(Benner.Page.webTourSteps!=null){$("#help-documentation-dropdown").removeClass("hidden");$("#help-documentation-icon").show();Benner.Page.initEventsWebTour(Benner.Page.webTourSteps);var t=new WebTour;t.addSteps(Benner.Page.webTourSteps).start(n);Benner.Page.webTour=t}};Benner.Page.initEventsWebTour=function(n){var t=1;n.forEach(function(i){n.length!==t&&(i.onNext=function(n){WebTour.nextSteps(n)});i.onShow=function(n){WebTour.displayCommandContainer(n)};i.onHide=function(n){WebTour.hideCommandContainer(n)};i.onPrev=function(n){WebTour.prevSteps(n)};t++})};Benner.Page.getApplicationPath=function(){return $("#Wes2008ApplicationPath").val()};Benner.Page.versionedResource=function(n){var t="";return n.indexOf(Benner.Page.getApplicationPath())===-1&&(t=Benner.Page.getApplicationPath()),t+=n,t+=n.indexOf("?")!==-1?"&":"?",t+("vr="+$("#WesVersion").val())};Sys.Application.add_load(Benner.Application.load);Sys.Application.add_init(Benner.Application.init);$(function(){Benner.Page.registerServiceWorker();App.setAssetsPath(Benner.Page.getApplicationPath()?Benner.Page.getApplicationPath()+"content/assets/":"../../assets/");Benner.HorizontalMenu.init(window);Benner.Page.init();Benner.Page.isMobile();Benner.Date.init();Benner.FormWidget.init();Benner.Search.init();Benner.AsyncProcesses.init();Benner.Control.restoreFocus();Benner.Sidebar.init();Benner.WidgetCommandsBar.init();Benner.Page.initFancybox();Benner.Page.initContextMenu();Benner.Page.initWidgetFilterBox();Benner.Page.initHotkeys();Benner.Development.init();Benner.AutoComplete.init()});Benner.Date=function(){var n=function(){if(jQuery().datepicker){var n=$(".datepicker:not([readonly])");if(n.length>0){n.datepicker({rtl:App.isRTL(),orientation:"left",autoclose:!0,autoclose:!0,language:"pt-BR",todayBtn:"linked",forceParse:!1}).off("focus").click(function(){$(this).datepicker("show")});n.next().children("button").on("click",function(n){n.preventDefault();var t=$(this).parent().parent().find(".datepicker");t.datepicker("show");t.focus()});n.on("focusout",function(){var n=$(this).val(),t=$(this).attr("data-date-format"),i,r;n&&t.length!=n.length&&(i=null,i=t.length===10?Date.formatDayMonthYear(n,"/"):t.length===7?"01/"+Date.formatMonthYear(n,"/"):"01/01/"+n,r=Date.getDateFromFormat(i,"dd/MM/yyyy"),$(this).datepicker("setDate",r))});n.on("keypress",function(n){if(n.key==="h"||n.key==="H"||n.charCode===104||n.keyCode===72){$(this).datepicker("setDate",new Date);return}return Benner.Date.validationKeyDate(n)});n.on("keydown",function(n){$(n.currentTarget).datepicker("hide")});n.on("paste",function(){Benner.Date.validationDatetime(this)})}}},t=function(){if(jQuery().timepicker){var n=$(".timepicker:not([readonly])");if(n.length>0){n.timepicker({autoclose:!0,disableFocus:!1,showMeridian:!1,minuteStep:5,defaultTime:!1,twoDigitsHour:!0});n.next().children("button").on("click",function(n){n.preventDefault();$(this).parent().parent().find(".timepicker").timepicker("showWidget")});n.on("keypress",function(n){return Benner.Date.validationKeyTime(n)});n.on("paste",function(){Benner.Date.validationDatetime(this)})}}},i=function(){$.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"}};return{init:function(){i();n();t()}}}();Benner.Date.validationDatetime=function(n){var t=$(n);setTimeout(function(){var n=t.attr("placeholder"),i;n=="aaaa"?i=new RegExp(/\d{4}/g):n=="mm/aaaa"?i=new RegExp(/^(0[1-9]|1[0-2])\/\d{4}$/g):n=="dd/mm/aaaa"?i=new RegExp(/^(0[1-9]|1\d|2\d|3[0-1])\/(0[1-9]|1[0-2])\/\d{4}$/g):(n=="hh:mm"||n=="hh:mm:ss")&&(i=new RegExp(/^(?:[01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])*$/g));i.test(t.val())||t.val("")},200)};Benner.Date.validationKeyDate=function(n){var t=window.event?n.keyCode:n.which;return t>46&&t<58?!0:t==8||t==0?!0:!1};Benner.Date.validationKeyTime=function(n){var t=window.event?n.keyCode:n.which;return t>47&&t<59?!0:t==8||t==0?!0:!1};Date.isValidDate=function(n,t,i){var r=new Date(i,t,n,12,0,0);return n==r.getDate()&&t==r.getMonth()&&i==r.getFullYear()};Date.toDDMMYYYY=function(n){return n.getUTCDate()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCFullYear()};Date.weekShortDays=["dom","seg","ter","qua","qui","sex","sab"];Date.monthNames=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];Date.prototype.addDays=function(n){return this.addMilliseconds(n*864e5)};Date.prototype.addMonths=function(n){return this.addMilliseconds(n*2592e6)};Date.prototype.addYears=function(n){return this.addMilliseconds(n*315576e5)};Date.prototype.addMilliseconds=function(n){return new Date((new Date).setTime(this.getTime()+n))};Date.formatDayMonthYear=function(n,t){var i=n.replace(" ","");return((t==null||t=="")&&(t="/"),i=="")?i:!isNaN(i)&&0+i<1?i:(isNaN(i)||i.length!=1&&i.length!=3||(i="0"+i),!isNaN(i)&&i.length==2&&0+i<=31&&(i=i+t+Date.getCurrentMonth()),isNaN(i)||i.length!=7||(i="0"+i),isNaN(i)||i.length!=4&&i.length!=6&&i.length!=8||(month=i.substring(0,2),month.charAt(1)==t&&(month="0"+month.charAt(0)),i=month+t+i.substring(2,i.length)),i.length>2&&i.charAt(1)==t&&(i="0"+i),i.length>3&&i.charAt(2)==t&&(i=i.substring(0,3)+Date.formatMonthYear(i.substring(3,i.length),t)),t!="/"&&(i=i.replace("/",t)),i)};Date.formatMonthYear=function(n,t){var i=n.replace(" ","");return((t==null||t=="")&&(t="/"),i=="")?"":!isNaN(i)&&0+i<1?i:(isNaN(i)||i.length!=1&&i.length!=5||(i="0"+i),isNaN(i)||i.length!=2||(i=i+t+Date.getCurrentYear()),isNaN(i)||i.length!=6||(month=i.substring(0,2),month.charAt(1)==t&&(month="0"+month.charAt(0)),i=month+t+i.substring(2,i.length)),isNaN(i)||i.length!=4||(i=i.substring(0,2)+t+"20"+i.substring(2,i.length)),isNaN(i)&&i.length==6&&(i="0"+i),t!="/"&&(i=i.replace("/",t)),i)};Date.getCurrentYear=function(){var n=new Date;return n.getFullYear()};Date.getCurrentMonth=function(){var n,t=new Date;return n=""+(t.getMonth()+1),n.length==1&&(n="0"+n),n};Date.formatHourMinute=function(n,t){var i=n.replace(" ","");return((t==null||t=="")&&(t=":"),i=="")?i:!isNaN(i)&&!(0+i>-1)?i:(isNaN(i)||i.length!=1||(i="0"+i+t+"00"),isNaN(i)||i.length!=2||(i=i+t+"00"),isNaN(i)||i.length!=3||(i=i.substr(0,2)+t+i.substr(2,1)+"0"),isNaN(i)&&i.length==3&&(i.charAt(1)==t?i="0"+i:i.charAt(2)==t?i=i+"00":i.charAt(0)==t&&(i="00"+i)),i.length==4&&i.charAt(1)==t&&(i="0"+i),i.length==4&&i.charAt(2)==t&&(i=i+"0"),i.length==4&&i.charAt(2)!=t&&(i=i.substr(0,2)+t+i.substr(2,2)),i)};Date.formatHourMinuteSecond=function(n,t){var i=n.replace(" ","");return((t==null||t=="")&&(t=":"),i=="")?i:!isNaN(i)&&!(0+i>-1)?i:((i.length==1||i.length==2||i.length==4)&&(i=Date.formatHourMinute(i,t)+t+"00"),i.length==5&&(i=i.charAt(2)!=t?i.substr(0,2)+t+i.substr(2,3):i+t+"00"),i.length==6&&(i=i.charAt(2)==t?i.substr(0,3)+Date.formatHourMinute(i.substr(3,3),t):Date.formatHourMinute(i.substr(0,4),t)+i.substr(4,2)),i.length==7&&i.charAt(4)==t&&(i=Date.formatHourMinute(i.substr(0,4),t)+i.substr(4,3)),i.length==7&&(i=Date.formatHourMinute(i.substr(0,5),t)+i.substr(5,2),i.length==7&&(i=i.substr(0,3)+Date.formatHourMinute(i.substr(3,4),t))),i)};Date.getDateFromFormat=function(n,t){function s(n,t,i,r){for(var f,u=r;u>=i;u--){if(f=n.substring(t,t+u),f.length<i)return null;if(g(f))return f}return null}function g(n){for(var t=0;t<n.length;t++)if("1234567890".indexOf(n.charAt(t))==-1)return!1;return!0}var b,o,k;n=n+"";t=t+"";for(var r=0,a=0,d="",i="",y,p,v=new Date,e=v.getYear(),f=v.getMonth()+1,h=1,u=v.getHours(),c=v.getMinutes(),l=v.getSeconds(),w="";a<t.length;){for(d=t.charAt(a),i="";t.charAt(a)==d&&a<t.length;)i+=t.charAt(a++);if(i=="yyyy"||i=="yy"||i=="y"){if(i=="yyyy"&&(y=4,p=4),i=="yy"&&(y=2,p=2),i=="y"&&(y=2,p=4),e=s(n,r,y,p),e==null)return 0;r+=e.length;e.length==2&&(e=e>70?1900+ +e:2e3+ +e)}else if(i=="MMM"||i=="NNN"){for(f=0,o=0;o<MONTH_NAMES.length;o++)if(b=MONTH_NAMES[o],n.substring(r,r+b.length).toLowerCase()==b.toLowerCase()&&(i=="MMM"||i=="NNN"&&o>11)){f=o+1;f>12&&(f-=12);r+=b.length;break}if(f<1||f>12)return 0}else if(i=="EE"||i=="E"){for(o=0;o<DAY_NAMES.length;o++)if(k=DAY_NAMES[o],n.substring(r,r+k.length).toLowerCase()==k.toLowerCase()){r+=k.length;break}}else if(i=="MM"||i=="M"){if(f=s(n,r,i.length,2),f==null||f<1||f>12)return 0;r+=f.length}else if(i=="dd"||i=="d"){if(h=s(n,r,i.length,2),h==null||h<1||h>31)return 0;r+=h.length}else if(i=="hh"||i=="h"){if(u=s(n,r,i.length,2),u==null||u<1||u>12)return 0;r+=u.length}else if(i=="HH"||i=="H"){if(u=s(n,r,i.length,2),u==null||u<0||u>23)return 0;r+=u.length}else if(i=="KK"||i=="K"){if(u=s(n,r,i.length,2),u==null||u<0||u>11)return 0;r+=u.length}else if(i=="kk"||i=="k"){if(u=s(n,r,i.length,2),u==null||u<1||u>24)return 0;r+=u.length;u--}else if(i=="mm"||i=="m"){if(c=s(n,r,i.length,2),c==null||c<0||c>59)return 0;r+=c.length}else if(i=="ss"||i=="s"){if(l=s(n,r,i.length,2),l==null||l<0||l>59)return 0;r+=l.length}else if(i=="a"){if(n.substring(r,r+2).toLowerCase()=="am")w="AM";else if(n.substring(r,r+2).toLowerCase()=="pm")w="PM";else return 0;r+=2}else{if(n.substring(r,r+i.length)!=i)return 0;r+=i.length}}if(r!=n.length)return 0;if(f==2)if(e%4==0&&e%100!=0||e%400==0){if(h>29)return 0}else if(h>28)return 0;return(f==4||f==6||f==9||f==11)&&h>30?0:(u<12&&w=="PM"?u=+u+12:u>11&&w=="AM"&&(u-=12),new Date(e,f-1,h,u,c,l))};Benner.ModalPage=function(){function n(n){return n.height?n.height:350}function t(n){if(n.size){if(n.size==="default"||n.size==="fullpage")return"";if(n.size==="large")return"bs-modal-lg";if(n.size==="small")return"bs-modal-sm"}return""}function i(n){if(n.size){if(n.size==="default")return"";if(n.size==="fullpage")return"modal-full";if(n.size==="large")return"modal-lg";if(n.size==="small")return"modal-sm"}return""}function r(n){return n.title!=null?n.title:"Título não definido"}function u(n){return n.id?n.id+"_modal":(new Date).getTime()+"_modal"}function f(n){return n.buttonLabel!=null?n.buttonLabel:"Ok"}function e(n){return n.displayFooter!=null?n.displayFooter:!0}function o(n){return n.displayTitle!=null?n.displayTitle:!0}function s(n){return n.generateDefaultContent!=null?n.generateDefaultContent:!0}function h(n,t,i){var r="#"+n+"CloseButton";$("#"+n).on("shown.bs.modal",function(){$("#"+n+" iframe").contents().focusOnFirstField();t!=null&&typeof t=="function"&&t.call();Benner.WidgetCommandsBar.displayFooterCommandsBar($("#"+n+" iframe").contents());$(this).off("shown.bs.modal")});$("#"+n).on("hidden.bs.modal",function(){$(r).trigger("click")});$(r).click(function(){i!=null&&typeof i=="function"&&i.call();$("#"+n).off("hidden.bs.modal");$(this).unbind("click")})}return{show:function(c,l,a){var y,w,v,p;if(c==null){console.log("Nenhuma propriedade foi informada para o modal.");return}y=u(c);w=document.getElementById(y);w&&$("#"+y).parent().remove();v="";v+='<div class="modal fade '+t(c)+'" id="'+y+'" role="basic" aria-hidden="true" tabindex="-1">';v+='<div class="modal-dialog '+i(c)+'">';v+='<div class="modal-content">';s(c)===!1?v+='<iframe src="'+c.url+'" width="100%" height="'+n(c)+'px" style="border: 0px;" onload="Benner.Page.validSessionExpired(this)"><\/iframe>':(v+='<div class="modal-header"><button type="button" id="'+y+'CloseButton" class="close" data-dismiss="modal" aria-hidden="true"><\/button>',o(c)===!0&&(v+='<h4 class="modal-title">'+r(c)+"<\/h4>"),v+="<\/div>",v+=c.customBody?'<div class="modal-body">'+c.customBody+"<\/div>":'<div class="modal-body"><iframe src="'+c.url+'" onload="Benner.Page.validSessionExpired(this)" width="100%" height="'+n(c)+'px" scrolling="yes" style="border: 0px;"><\/iframe><\/div>',e(c)&&(v+='<div class="modal-footer">',v+='<button type="button" class="btn blue" data-dismiss="modal">'+f(c)+"<\/button>",v+="<\/div>"));v+="<\/div>";v+="<\/div>";v+="<\/div>";p=document.createElement("div");p.innerHTML=v;$("body").append(p);h(y,l,a);$("#"+y).modal("show");Benner.ModalMessage.hide()},hide:function(){$(".modal").modal("hide")},init:function(){var n=this;$("iframe").contents().keyup(function(t){t.keyCode==27&&n.hide()})}}}();Benner.ModalMessage=function(){};Benner.ModalMessage.show=function(n){App.blockUI({textOnly:!1,boxed:!0,message:n})};Benner.ModalMessage.hide=function(){App.unblockUI()};Benner.ModalMessage.alert=function(n,t,i){var r={title:n,message:t};i!=null&&(r.buttons={main:{label:"Ok",className:"btn-primary",callback:function(){i()}}});bootbox.dialog(r)};Benner.ModalMessage.confirm=function(n,t,i,r){return bootbox.dialog({title:n,message:t,onEscape:function(){bootbox.hideAll();typeof r!="undefined"&&r()},buttons:{success:{label:"Sim",className:"blue btn-primary",callback:function(){i()}},main:{label:"Não",className:"default",callback:function(){typeof r!="undefined"&&r()}}}})};Benner.CustomLookup=function(){};Benner.CustomLookup.init=function(){$("iframe").contents().keyup(function(n){var t,i;return n.keyCode==27?(parent!=null?parent.Benner.ModalPage.hide():Benner.ModalPage.hide(),!1):n.keyCode==13&&(t=$(this).find("#searchTextBox"),t.length&&t.is(":focus")&&(i=$("iframe").contents().find("#searchButton"),i.length))?(i.trigger("click"),t.focus(),!1):void 0})};Benner.CustomLookup.showDialog=function(n){var t=$("#"+n),e=$(t).data("targetentity"),o=$(t).data("resultfields"),s=$(t).data("field"),h=n,c=Benner.Search.recoverDependValueList($(t)),i=$(t).data("popupurl"),f=$(t).data("selectanylevel"),r=$(t).data("lookupviewname"),l=$(t).data("sourceentity"),u="?targetEntityName="+e+"&resultFieldNames="+o+"&associationFieldName="+s+"&whereGuid="+h+"&dependencyValues="+c+"&sourceEntity="+l;r!=null&&r.length>0&&(u+="&lookupViewName="+r);f!=null&&f=="True"&&(u+="&selectAnyLevel=1");(i==null||i.length==0)&&(i=Benner.Page.getApplicationPath()+"DefaultLookupSearch.aspx");i=i;$("body").data("searchControlId",n);$("body").data("scroll-pos",{x:$(window).scrollLeft(),y:$(window).scrollTop()});Benner.ModalPage.show({id:n,size:"large",height:495,displayFooter:!1,url:i+u,title:""})};Benner.CustomLookup.applySelectionAndHideDialog=function(n){var r=$(n).attr("handle"),f=$(n).attr("text"),h=$(n).attr("fieldName"),e,t,o,s;if(Benner.ModalPage.hide(),e=$("body").data("searchControlId"),$("body").data("searchControlId",""),t=$("#"+e),t!=null){var u={id:parseInt(r),text:f},u={id:parseInt(r)},i=$(t).select2("data");if(i&&i.length||(i=[]),o=_.findWhere(i,{id:u.id.toString()}),o!==undefined)return;$(t).data("multiple")==="True"?i.push(u):i=u;$(t).append("<option value="+r+' selected="selected">'+f+"<\/option>");$(t).trigger("select2:select");s=$(t).focusOnNextField();$(":focus").is(":visible")||$(t).siblings().find("input").focus()}};Benner.ReportViewer=function(){};Benner.ReportViewer.resizeWidget=function(n){var t=$("#"+n),i;t&&($(t).hasClass("widget-block")&&($(t).toggleClass("widget-block widget-unblock"),App.unblockUI("#"+$(t).attr("data-block-id"))),i=$(t).contents().height(),$(t).height(i+20))};Benner.Services=function(){};Benner.Services.getPathFieldResultValues=function(n,t,i,r,u){var f=Benner.Page.getApplicationPath();servicePath="PathField.asmx";f!=null&&(servicePath=f+servicePath);Sys.Net.WebServiceProxy.invoke(servicePath,"GetResultValues",!1,{entityViewName:n,associationFieldName:t,associationFieldValue:i,pathFields:r},u,Benner.Services.onFail,null)};Benner.Services.onFail=function(n){alert(n._message)};Benner.TextEditor=function(){};Benner.TextEditor.editorId=null;Benner.TextEditor.val=function(n){var t=$("#"+Benner.TextEditor.editorId);return n!=null&&t.val(n),t.val()};Benner.TextEditor.show=function(n,t){Benner.TextEditor.editorId=t;Benner.ModalPage.show({id:t,url:n,height:380,displayTitle:!1,generateDefaultContent:!1})};Benner.EditCustomField=function(){};Benner.EditCustomField.initModal=function(){parent.Benner.ModalPage.init();valueText=parent.Benner.EditCustomField.getTxtLabel().val();switch(parent.Benner.EditCustomField.getCmbLabelType().val()){case"0":case"1":$("#sourceText").val(valueText);$("#rbText").click();break;case"2":$("#rbHTML").click();aceEditor=Benner.SourceEditor.lastAceEditor();aceEditor.getSession().setValue(valueText);break;case"3":$("#viewPath").val(valueText);$("#rbView").click();break;case"4":var n=JSON.parse(valueText);$("#controllerMVC").val(n.controller);$("#actionMVC").val(n.action);$("#rbController").click()}};Benner.EditCustomField.OnOkClick=function(){var n,t;$("#tabText").hasClass("active")?(parent.Benner.EditCustomField.getTxtLabel().val($("#sourceText").val()),parent.Benner.EditCustomField.getCmbLabelType().val("1")):$("#tabHTML").hasClass("active")?(aceEditor=Benner.SourceEditor.lastAceEditor(),n=aceEditor.getSession().getValue(),parent.Benner.EditCustomField.getTxtLabel().val(n),parent.Benner.EditCustomField.getCmbLabelType().val("2")):$("#tabView").hasClass("active")?(parent.Benner.EditCustomField.getTxtLabel().val($("#viewPath").val()),parent.Benner.EditCustomField.getCmbLabelType().val("3")):$("#tabController").hasClass("active")&&(t={controller:$("#controllerMVC").val(),action:$("#actionMVC").val()},parent.Benner.EditCustomField.getTxtLabel().val(JSON.stringify(t)),parent.Benner.EditCustomField.getCmbLabelType().val("4"));parent.Benner.ModalPage.hide()};Benner.EditCustomField.setActiveTab=function(n){$("#tab-field-option>div.tab-pane").removeClass("active");$("#"+n).addClass("active");$("#tabText").hasClass("active")?$("#sourceText").focus():$("#tabHTML").hasClass("active")?Benner.SourceEditor.lastAceEditor().focus():$("#tabView").hasClass("active")?$("#viewPath").focus():$("#tabController").hasClass("active")&&$("#controllerMVC").focus()};Benner.EditCustomField.getTxtLabel=function(){return $("#"+Benner.EditCustomField.txtLabelId)};Benner.EditCustomField.getCmbLabelType=function(){return $("#"+Benner.EditCustomField.cmbLabelTypeId)};Benner.EditCustomField.txtLabelId=null;Benner.EditCustomField.cmbLabelTypeId=null;Benner.EditCustomField.show=function(n,t,i){Benner.EditCustomField.txtLabelId=t;Benner.EditCustomField.cmbLabelTypeId=i;Benner.ModalPage.show({id:t,url:n,height:579,size:"large",displayTitle:!1,generateDefaultContent:!1})};Benner.SourceEditor=function(){this.config;this.code;this.sourceEditor;this.editor};Benner.SourceEditor.items=Array();Benner.SourceEditor.add=function(n,t,i){var r=new Benner.SourceEditor;return r.config=n,r.code=t,r.sourceEditor=i,r.editor=ace.edit(i),Benner.SourceEditor.items[Benner.SourceEditor.items.length]=r,r};Benner.SourceEditor.lastAceEditor=function(){return Benner.SourceEditor.items[Benner.SourceEditor.items.length-1].editor};Benner.SourceEditor.AceEditor=function(n){return Benner.SourceEditor.items[n].editor};Benner.SourceEditor.load=function(n,t,i){var r,f,u;ace.require("ace/ext/language_tools");r=Benner.SourceEditor.add(n,t,i);r.editor.setTheme("ace/theme/chrome");r.editor.setPrintMarginColumn(-1);r.editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0});f=JSON.parse($("#"+n).val());r.editor.setReadOnly(f.ReadOnly);u=r.editor.getSession();u.setMode("ace/mode/"+f.Language);u.setUseWrapMode(!0);u.setValue($("#"+t).val());$("#"+i).keyup(function(n){n.keyCode==27&&n.stopPropagation()});r.editor.focus()};Benner.SourceEditor.save=function(){for(var t,i,n=0;n<Benner.SourceEditor.items.length;n++)t=Benner.SourceEditor.items[n],i=$("#"+t.code),i.val(t.editor.getSession().getValue())};Benner.SourceEditor.init=function(){$("div.source-editor").each(function(){var t=$(this),u=t.data("mode"),f=t.data("loaded"),r,n,i;if(u&&!f&&(r=t.data("bind-field"),n=ace.edit(t[0]),n.setTheme("ace/theme/chrome"),n.setPrintMarginColumn(-1),n.getSession().setMode("ace/mode/"+u),n.getSession().setUseWrapMode(!0),n.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),t.data("loaded",!0),n.focus(),r)&&(i=$(".widget-body *[data-field="+r+"]"),i.length>0)){i.hide();n.getSession().on("change",function(){i.val(n.getSession().getValue())});n.getSession().setValue(i.val())}})};$(function(){Benner.SourceEditor.init();var n=Sys.WebForms.PageRequestManager.getInstance();n.get_isInAsyncPostBack()||n.add_endRequest(Benner.SourceEditor.init)});Benner.Control=function(){};Benner.Control.callFieldEventScript=function(n,t,i){var r=$get(n+"_FireFieldEventButton"),u;r&&!Benner.Page.processing&&(u=r.attributes.uniqueid.value,Benner.Search.fixFirefox(),i===!0?Benner.Control.storeCurrentFocus(null,"next"):Benner.Control.storeCurrentFocus(null,"same"),setTimeout(function(){__doPostBack(u,t);Benner.Search.close();$(".datepicker").datepicker("hide")},1))};Benner.Control.callControlEventScript=function(n,t,i){var r=document.getElementById(i);Benner.Control.storeCurrentFocus(r,"next");r&&r.onblur!=null&&r.onblur();r&&$(r).data("events")!==undefined&&$(r).data("events").blur!==undefined&&!$(r).hasClass("input-mask")&&($(r).blur(),$(r).off("blur"));Benner.Control.callFieldEventScript(n,t,!0)};Benner.Control.storeCurrentFocus=function(n,t){var i=$("body").data("last-focus");i&&i.length||(n==null&&(n=document.activeElement),$(n).attr("id")===undefined&&(n=$(n).context===undefined?$(n).closest("[id][id!='']"):$(n).context.children),n!=null)&&($("body").data("last-focus",$(n).attr("id")),$("body").data("focus-at",t))};Benner.Control.restoreFocus=function(){var n=$("body").data("last-focus"),t;if($("body").data("last-focus",""),t=$("body").data("focus-at"),$("body").data("focus-at",""),t!=="ignore"&&!Benner.Page.isMobile.any){if(!n||!n.length){$(".widget").first().focusOnFirstField();return}switch(t){case"next":$("#"+n).focusOnNextField();return;case"same":$("#"+n).focus();$("#"+n).select();return;case"first-child":$("#"+n).focusOnFirstField();return}}};Benner.Form=function(){this.name;this.formViewMode;this.providerWidget};Benner.Form.items=[];Benner.Form.add=function(n,t,i){if(!Benner.Form.existForm(n)){var r=new Benner.Form;r.name=n;r.formViewMode=t;r.providerWidget=i;Benner.Form.items[Benner.Form.items.length]=r}};Benner.Form.updateViewMode=function(n,t){for(var r,i=0;i<Benner.Form.items.length;i++)r=Benner.Form.items[i],n==r.name&&(r.formViewMode=t)};Benner.Form.getViewMode=function(n){for(var i,t=0;t<Benner.Form.items.length;t++)if(i=Benner.Form.items[t],i.name.indexOf(n)>-1)return i.formViewMode;return"Formulário não encontrado"};Benner.Form.existForm=function(n){for(var i,t=0;t<Benner.Form.items.length;t++)if(i=Benner.Form.items[t],i.name==n)return!0;return!1};Benner.FormWidget=function(){var n=function(){$("form .auto-numeric:not([readonly])").autoNumeric("init");Inputmask.extendDefinitions({c:{validator:"n*",cardinality:1},"#":{validator:"[0-9+-_ ]",cardinality:1},a:{validator:"[A-Za-z0-9_ ]",cardinality:1},l:{validator:"[A-Za-z_ ]",cardinality:1},"9":{validator:"[0-9_ ]",cardinality:1}});Inputmask.extendDefaults({clearMaskOnLostFocus:!1,groupmarker:{start:"((",end:"))"}});$(".input-mask").inputmask("remove");$(".input-mask").inputmask();$(".input-mask").each(function(){$(this).val(Benner.FormWidget.replaceEmptyCharactersByMaskPlaceholder($(this)))});$.minicolors.defaults=$.extend($.minicolors.defaults,{theme:"bootstrap"});$(".minicolors-input").minicolors()};return{init:function(){n();Benner.FormWidget.initializeTooltips()}}}();Benner.FormWidget.confirmDeletePostBack=function(n,t){bootbox.dialog({title:"Excluir",message:"Confirma a exclusão?",onEscape:function(){bootbox.hideAll()},buttons:{success:{label:"Sim",className:"red btn-primary",callback:function(){window.location.href='javascript:__doPostBack("'+n+'", "'+t+'");'}},main:{label:"Não",className:"default"}}})};Benner.FormWidget.confirmDelete=function(n){var t=$(n).attr("href");$(n).removeAttr("href");bootbox.dialog({title:"Excluir",message:"Confirma a exclusão?",onEscape:function(){bootbox.hideAll()},buttons:{success:{label:"Sim",className:"red  btn-primary",callback:function(){window.location.href=t}},main:{label:"Não",className:"default",callback:function(){$(n).attr("href",t)}}}})};Benner.FormWidget.confirmationRequired=function(n,t){var i=$(n).attr("href");$(n).removeAttr("href");bootbox.dialog({title:$(n).text(),message:t,onEscape:function(){$(n).attr("href",i);bootbox.hideAll()},buttons:{success:{label:"Sim",className:"btn-primary",callback:function(){window.location.href=i}},main:{label:"Não",className:"btn-default",callback:function(){$(n).attr("href",i)}}}})};Benner.FormWidget.closeUpload=function(n,t){$("#"+t).val(n);Benner.ModalPage.hide();$("#"+t).focusOnNextField()};Benner.FormWidget.closeImage=function(n){var t=$("#"+n),i;t!=null&&(i=$(t).children().attr("src"),$(t).children().attr("src",i+"#"));Benner.ModalPage.hide();$(t).siblings().find("button").focus()};Benner.FormWidget.UpdateHiddenActiveTabPageIndex=function(n,t){if(n){var i=$("#"+n);i.val(t);Benner.Control.storeCurrentFocus(i.get(),"next");setTimeout(function(){Benner.Control.restoreFocus()},0)}};Benner.FormWidget.removeMask=function(){$(".input-mask").each(function(){var i,n,r,u,t;if($(this).inputmask("isComplete")&&$(this).hasClass("remove-incomplete-mask"))return!0;if(i=$(this).data("inputmaskplaceholder"),n=$(this).val().split(""),n!==undefined){for(r=_.uniq($(this).inputmask("getemptymask")),u=$(this).inputmask("getemptymask"),t=0;t<=n.length;t++){if(n[t]==i){n[t]=" ";continue}$.inArray(n[t],r)>=0&&u[t]!=" "&&(n[t]="")}n=n.join("");$(this).inputmask("remove");$(this).val(n)}})};Benner.FormWidget.replaceEmptyCharactersByMaskPlaceholder=function(n){for(var i=$(n).val().split(""),r=$(n).inputmask("getemptymask"),u=$(n).data("inputmaskplaceholder"),t=0;t<=i.length;t++)i[t]==" "&&r[t]!=" "&&(i[t]=u);return i.join("")};Benner.FormWidget.validFieldPassword=function(n,t,i){$("#"+i).val()!=""&&$("#"+t).val()!=$("#"+i).val()&&alert("Senhas informadas não conferem.")};Benner.FormWidget.initializeTooltips=function(){$(".help-tooltip").tooltip({template:'<div class="tooltip" role="tooltip"><div class="error-tooltip-arrow tooltip-arrow"><\/div><div class="error-tooltip-inner tooltip-inner"><\/div><\/div>'});$(".has-error").tooltip({template:'<div class="tooltip error-tooltip" role="tooltip"><div class="error-tooltip-arrow tooltip-arrow"><\/div><div class="error-tooltip-inner tooltip-inner"><\/div><\/div>',placement:"bottom"})};Benner.FormWidget.changeStateGroup=function(n){var t=n.parentNode;t.tagName!=="H4"&&(t=t.parentNode);var i=t.lastElementChild.firstChild,r="",u=t.getAttribute("data-id");i.classList.contains("fa-angle-down")?(i.classList.remove("fa-angle-down"),i.classList.add("fa-angle-up"),t.classList.add("minimized"),r=u+"=closed; path=/"):(i.classList.remove("fa-angle-up"),i.classList.add("fa-angle-down"),t.classList.remove("minimized"),r=u+"=open; path=/");document.cookie=r};Benner.Grid=function(){};$(document).keyup(function(n){var u,f,t,i,r;if(n.keyCode==13&&(u=$("input[type=text]:focus,input[type=checkbox]:focus,span:focus,input[type=search]:focus"),u.length&&(f=u.closest(".filter-search-form, .filter-search-simple"),f.length&&(t=$(".comboDropDown"),(t.length==0||t.length&&!t.is(":visible"))&&(i=f.find($(".filter-button")),i.length)))))return Benner.FormWidget.removeMask(),r=i.attr("onclick"),r&&r.length&&eval(r),window.location.href=i.attr("href"),!1});Benner.Grid.showRecordCommands=function(n){var t=n.getElementsByTagName("div");t!=null&&t.length!=0&&(t[0].style.left="0px",t[0].style.visibility="visible")};Benner.Grid.selectAllRows=function(n){var r=!1,i,t;for($("#"+n).find("th.multi-select-column input:checked").length>0&&(r=!0),i=$("#"+n).find("td.multi-select-column label > input"),t=0;t<i.length;t++)$(i[t]).prop("checked")!==r&&$(i[t]).click()};Benner.Grid.stopPropagation=function(n){var t=n||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0};Benner.EditableGrid=function(){};Benner.EditableGrid.rowChanged=function(n,t,i){var r=document.getElementById(t);r&&(r.value=r.value+i+"|");n!=null&&n!=""&&$("#"+n).addClass("bg-red")};Benner.CollapsiblePanel=function(){};Benner.CollapsiblePanel.changeServerChromeState=function(n){Benner.CollapsiblePanel.isOpeningTheWebpart(n)?$("#"+n+" .widget").removeClass("minimized"):$("#"+n+" .widget").addClass("minimized");var t=document.getElementById(n+"_ChromeStateChangeButton");t&&t.click()};Benner.CollapsiblePanel.isOpeningTheWebpart=function(n){return $("#"+n+" .widget").hasClass("minimized")};Benner.TabMenu=function(){};Benner.TabMenu.scrollResolved=!1;Benner.TabMenu.togglePopupItemsVisibility=function(n,t,i){if(n!=null&&n.style!=null&&(!t||n.style.display!="block")){if(i!=null){if(!i)var i=window.event;i&&(i.cancelBubble=!0);i.stopPropagation&&i.stopPropagation()}i==null&&(i!=null||t)||(n.style.display=t?"block":"none");Sys.Browser.agent==Sys.Browser.InternetExplorer&&t&&!Benner.TabMenu.scrollResolved&&(n.style.overflowY=n.offsetHeight<452?"hidden":"scroll",Benner.TabMenu.scrollResolved=!0)}};Benner.CommandsPanel=function(){};Benner.CommandsPanel.displayChild=function(n){BennerCalendar.hideCalendarPopup();Benner.CommandsPanel.internalToggleCommandsVisibility(n,!0)};Benner.CommandsPanel.hideChild=function(n){Benner.CommandsPanel.internalToggleCommandsVisibility(n,!1)};Benner.CommandsPanel.internalToggleCommandsVisibility=function(n,t){var u=t?"block":"none",i=n.children[1],r;i.nodeName.toLowerCase()=="ul"&&(r=$(i),r.css("display",u))};Benner.AsyncProcesses=function(){function r(n){n.Description;n.ErrorMessage;n.getUrl();var i=String.format("<a href='{0}' target='_blank'>Detalhes<\/a>",i),t=new Sys.StringBuilder;t.append("<div>");t.append("<p><strong>Processo:<\/strong><\/p>");t.append("<p>"+n.Description+"<\/p>");t.append("<p><\/p>");t.append("<p><\/p>");t.append("<p><strong>Erro:<\/strong><\/p>");t.append("<p>"+n.ErrorMessage+"<\/p>");n.Url!=null&&(t.append("<p><\/p>"),t.append("<p><\/p>"),t.append("<p>"+n.getUrl()+"<\/p>"));t.append("<\/div>");Benner.ModalPage.show({size:"large",height:495,customBody:t.toString(),displayFooter:!0,title:"Ocorreu um erro na execução do processo"})}var n=1e3,t=!1,i=!1,u=function(){return this.Url!=null?Benner.AsyncProcesses.resolveClientUrl(this.Url):"#"},f=function(){return this.Url!=null?"_blank":"_self"},e=function(){switch(this.Status){case 0:return"fa fa-exclamation-triangle process-aborted";case 1:return"fa fa-exclamation-circle process-error";case 2:return"fa fa-check process-success";case 3:return"fa fa-cog fa-spin process-running";case 4:return"fa fa-info process-info";default:return""}},o=function(){switch(this.Status){case 0:return"progress-bar-warning";case 1:return"progress-bar-danger";case 2:return"progress-bar-success";case 3:return"progress-bar-info";default:return""}};return{init:function(){$("#header_task_bar").on("mouseover",function(){for(var i,t=$(this).find("a.unread-message.finished"),n=0;n<t.length;n++)i=$(t[n]).parent().attr("id"),Benner.AsyncProcesses.messageWasRead(i);$(this).find(".dropdown-menu-list").removeAttr("data-initialized");App.initSlimScroll("#header_task_bar .scroller")});toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};$("#header_task_bar span.active").length&&Benner.AsyncProcesses.requestAsyncProcesses(500)},initAjax:function(){$("#header_task_bar span.active").length==0&&Benner.AsyncProcesses.requestAsyncProcesses(500);Benner.AsyncProcesses.countMessageUnread()},requestAsyncProcesses:function(t){n=t;i||(setTimeout(Benner.AsyncProcesses.getAsyncProcesses,n),i=!0,n<1e4&&(n=n+1e3))},notifyNewProcesses:function(n){toastr.info(n.Description,n.Title);$.post(Benner.Page.getApplicationPath()+"api/AsyncProcesses/"+n.Id,{WasRead:!1,IsNew:!1})},notification:function(t,i){Benner.AsyncProcesses.requestAsyncProcesses(n);toastr.info(t,i)},resolveClientUrl:function(n){return n?n.replace(/~\x2f/g,Benner.Page.getApplicationPath()):null},loadAsyncProcesses:function(t){var c=!1,l=$("#header_task_bar"),a=l.find("> .dropdown-menu"),s=l.find(".dropdown-menu-list"),v=a.find("> li").first(),i,h,r;for(s.removeAttr("data-initialized"),v.html(String.format('<h3><span class="bold">{0}<\/span><\/h3><a href="javascript:Benner.AsyncProcesses.clearReadyProcesses();">Limpar<\/a>',t.length==0?"Nenhum processo":t.length+" processo(s)")),s.empty(),i=null,h=t.length-1;h>=0;h--){i=t[h];i.getUrl=u;i.getTarget=f;i.getProcessClass=e;i.getProcessBarClass=o;i.IsReady||(c=!0);r=new Sys.StringBuilder;r.append(String.format('<li id="{0}" >',i.Id));r.append(String.format('  <a class="{0} {1}" href="{2}" target="{3}">',i.WasRead?"":"unread-message",i.IsReady?"finished":"",i.getUrl(),i.getTarget()));r.append(String.format('    <span class="task">'));r.append(String.format('      <span class="desc"><i class="{0}"><\/i> {1}<\/span>',i.getProcessClass(),i.Description));i.Url!=null&&r.append(String.format('      <i class="fa fa-file-text-o faa-vertical faa-slow animated" style="float:right"><\/i>'));r.append(String.format("    <\/span>"));i.Status!=4&&(r.append(String.format('    <span class="progress ">')),r.append(String.format('      <span style="width: {0}%;" class="progress-bar {1}  progress-bar-striped {2} process-progress-bar">',i.Percent,i.getProcessBarClass(),i.IsReady?"":"active")),r.append(String.format('        <span class="percent" style="margin-left: 2px; margin-right: 2px;">{0}%<\/span>',i.Percent)),r.append(String.format("      <\/span>")),r.append(String.format("    <\/span>")));r.append(String.format("  <\/a>"));r.append(String.format("<\/li>"));s.prepend(r.toString());s.find("li").first().on("click",{detail:i},Benner.AsyncProcesses.messageOnClick);i.Status==3||i.ToastrDisplayed?i.IsNew&&Benner.AsyncProcesses.notifyNewProcesses(i):Benner.AsyncProcesses.notificationFinish(i)}Benner.AsyncProcesses.countMessageUnread();App.initSlimScroll("#header_task_bar .scroller");c&&Benner.AsyncProcesses.requestAsyncProcesses(n)},notificationFinish:function(n){var i=String.format("<a>{0}<\/a>",n.Description),t={onclick:function(){n.Url!=null&&n.Status!=1&&open(n.getUrl(),n.getTarget());Benner.AsyncProcesses.messageWasRead(n.Id);n.Status==1&&r(n)}};$.post(Benner.Page.getApplicationPath()+"api/AsyncProcesses/"+n.Id,{WasRead:!1,ToastrDisplayed:!0});n.Status==0?toastr.warning(n.Description,n.Title,t):n.Status==1?toastr.error(n.Description,n.Title,t):n.Status==4?toastr.info(n.Description,n.Title,t):toastr.success(i,n.Title,t)},clearReadyProcesses:function(){$("#header_task_bar").addClass("open");$.ajax({url:Benner.Page.getApplicationPath()+"api/AsyncProcesses/clear",type:"POST",success:function(){Benner.AsyncProcesses.requestAsyncProcesses(500)},fail:function(){console.log("Falha na chamada de api DELETE/AsyncProcesses ");console.log(msg)}})},getAsyncProcesses:function(){if(!t){t=!0;var n=$.get(Benner.Page.getApplicationPath()+"api/AsyncProcesses");n.done(function(n){t=!1;i=!1;Benner.AsyncProcesses.loadAsyncProcesses(n)});n.fail(function(n){t=!1;i=!1;console.log("Falha na chamada de api/AsyncProcesses"+n)})}},countMessageUnread:function(){var n=$("#header_task_bar").find(".unread-message").length;n==0?$("#header_task_bar").find("> a > span").text(""):$("#header_task_bar").find("> a > span").text(n)},messageWasRead:function(n){var t=$("#"+n);t.find(".unread-message").length>0&&(t.find(".unread-message").removeClass("unread-message"),Benner.AsyncProcesses.countMessageUnread(),$.post(Benner.Page.getApplicationPath()+"api/AsyncProcesses/"+n,{WasRead:!0,ToastrDisplayed:!0}))},messageOnClick:function(n){var t=n.data.detail;t&&t.ErrorMessage&&r(t)}}}();Benner.HorizontalMenu=function(){var t,f,r,e,n,u=[],l=function(){t=$("#menuHorizontal");f=$("#menuAtalhos");n=$("#topmenu-submenu");r=!1;e=$(window).width();$(".dropdown-menu a.dropdown-toggle").click(function(n){n.stopPropagation()})},h=function(){return f.position().top>0?-1:t.length===0?-1:f.position().left-(t.position().left+t.width())},a=function(){var i,t;if(n)for(i=n.find("> ul > li"),t=0;t<i.length;t++){var e=$(i[t]),r=e.attr("id"),f=r.replace("topsubmenu","topmenu"),o=$("#"+f).width();u.push({visible:!0,subMenuId:r,menuId:f,menuWidth:o})}},o=function(){var t=_.findWhere(u,{visible:!0}),i;if(t){if(i=h(),i<0)return;if(t.menuWidth>i-70)return;$("#"+t.subMenuId).hide();$("#"+t.menuId).show();t.visible=!1;_.some(u,function(n){return n.visible})||($(n).hide(),r=!0);o()}},c=function(){var i=u.slice(),t;if(i.reverse(),t=_.findWhere(i,{visible:!1}),t){if(h()>50)return;$("#"+t.subMenuId).show();$("#"+t.menuId).hide();t.visible=!0;r&&($(n).show(),r=!1);c()}},s=function(n){$(n).hover(function(){Benner.HorizontalMenu.positionSubMenu($(this))})},v=function(){$("li.dropdown-user-wes").on("hover",function(){var n=$(".user-roles > li"),t=(n.height()==0?34:34)*n.size();$("li.roles").attr("style","");$(".slimScrollBar,.slimScrollRail").remove();$(".slimScrollDiv").contents().unwrap();t+300>$(window).height()&&$(".user-roles").slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",height:$(window).height()-300,alwaysVisible:$(this).attr("data-always-visible")=="1"?!0:!1,railVisible:$(this).attr("data-rail-visible")=="1"?!0:!1,disableFadeOut:!0})})},y=function(){$("div#menuHorizontal ul.navbar-nav li.classic-menu-dropdown > a").mouseover(function(){var n=$(this).first().parent().attr("id"),t;if($("#"+n+"_moreLabel").length&&($("#"+n+"_moreMenu").contents().unwrap(),$("#"+n+"_groupmenu").contents().unwrap(),$("#"+n+"_moreLabel").remove()),t=$(this).siblings().contents(":visible"),t.size()*t.height()>$(window).height()){var u=Math.floor($(window).height()/t.height())-3,e=t.size()-u-1,f="width: 235px; top:-"+e*t.height()+"px",r="";for(i=u;i<t.size();i++)r+="#"+t[i].id+",";r=r.slice(0,-1);$(r).wrapAll('<ul class="dropdown-menu" id="'+n+'_moreMenu" style="'+f+'" />');$("#"+n+"_moreMenu").wrapAll('<li class="dropdown-submenu " id="'+n+'_groupmenu">');$("#"+n+"_moreMenu").parent().append('<a href="#" id="'+n+'_moreLabel" data-toggle="dropdown" onmouseover="$(\'#'+n+"_moreMenu').attr('style', '"+f+'\')" class="dropdown-toggle">Mais<\/a>');s("#"+n+"_groupmenu")}})};return{init:function(){l();a();s(".dropdown-submenu");v();y();$(window).width()>1024&&o();$(window).resize(function(){var n=$(window).width();n<=992||(n>e?o():c(),e=n)})},fixSubMenuPositions:function(){s(".dropdown-submenu")}}}();Benner.HorizontalMenu.positionSubMenu=function(n){var t,i;if(!n.hasClass("already-positioned"))if(t=n.parent().hasClass("dropdown-menu-left"),n.offset().left+n.outerWidth()*2>$(window).width()||t){if(n.offset().left-n.outerWidth()<0&&t){n.addClass("already-positioned");return}i=n.find(".dropdown-menu")[0];$(i).addClass("dropdown-menu-left").addClass("already-positioned")}else n.addClass("already-positioned")};Benner.Development=function(){function u(n){for(var t=12;t>0;t--)if($(n).hasClass("col-md-"+t))return t}function w(n){if(n.getAttribute("widget-type")=="AmCharts"){var t=n.querySelector(".chart");return t==null?0:parseInt(t.style.height,10)}return parseInt(document.defaultView.getComputedStyle(n).height,10)}function b(n){var t,r,u;for(i=[],t=0;t<12;t++)r=t+1,u=r/12*$(n).width(),i[t]=Math.round(u)}function c(u){var f=o+u.clientX-e,s;if(f<r){if(t==1)return;s=i[t-1];f<=s&&(t=t-1,r=f,$(n).find(".current-column").text("col-md-"+t))}else s=i[t-1],f>=s&&t<12&&(t=t+1,r=f,$(n).find(".current-column").text("col-md-"+t));n.style.width=o+u.clientX-e+"px"}function l(t){var i=null,r;i=$(n).attr("widget-type")==="AmCharts"?$(n).find(".chart")[0]:$(n).find(".dx-widget.dx-visibility-change-handler")[0];r=parseInt(document.defaultView.getComputedStyle(n).height,10)-parseInt(document.defaultView.getComputedStyle(i).height,10);i.style.height=h+(t.clientY-r)-s+"px";$(n).find(".current-height").text(i.style.height)}function a(){document.documentElement.removeEventListener("mousemove",c,!1);document.documentElement.removeEventListener("mouseup",a,!1);var i=u(n);$(n).removeClass("col-md-"+i);$(n).addClass("col-md-"+t).css("width","");f()}function v(){document.documentElement.removeEventListener("mousemove",l,!1);document.documentElement.removeEventListener("mouseup",v,!1);f()}function g(n){return n.type=="line"&&n.fillAlphas==0?"fa-line-chart":n.type=="line"&&n.fillAlphas>0?"fa-area-chart":"fa-bar-chart"}function nt(n){var t=Benner.AmChartsWidget.getChart(n.id),r,u,i,f;if(t!=null){if(t&&t.type!=="serial"&&t.type!=="radar"){$(n).find(".chart-definition").remove();return}for(r="",u=0;u<t.graphs.length;u++)i=t.graphs[u],n.querySelector("#"+i.id)==null&&(f="",t.type=="serial"?f=i.title:t.type=="radar"&&(f=i.valueField),r+='<li id="'+i.id+'"><a class="chart-serie" chart-type="'+t.type+'" rotate="'+t.rotate+'" widget-id="'+n.id+'" category-field="'+t.categoryField+'" serie-id="'+i.id+'"><i class="fa '+g(i)+'"><\/i> '+f+"<\/a><\/li>");(t.type=="serial"||t.type=="radar")&&n.querySelector(".new-serie")==null&&(r+='<li class="divider"><\/li>',r+='<li><a class="new-serie" chart-type="'+t.type+'" widget-id="'+n.id+'" rotate="'+t.rotate+'"><i class="fa fa-plus"><\/i> Adicionar série<\/a><\/li>');r!=""&&$(n).find(".chart-series").append(r);$(n).find(".new-serie").off("click").on("click",function(){var n=$(this).attr("widget-id"),t=$(this).closest(".widget").attr("entity-view-name"),i=$(this).attr("rotate")=="true",r=$(this).attr("chart-type"),u=Benner.Page.getApplicationPath()+"amchart/serie?widgetId="+n+"&viewName="+t+"&categoryField=&serieId=&rotate="+i+"&chartType="+r;Benner.ModalPage.show({url:u,id:"serieDefinition",height:590,displayFooter:!1,title:"Configurações da série"})});$(n).find(".chart-series .chart-serie").off("click").on("click",function(){var n=$(this).attr("widget-id"),t=$(this).attr("chart-type"),i=$(this).attr("category-field"),r=$(this).attr("serie-id"),u=$(this).closest(".widget").attr("entity-view-name"),f=$(this).attr("rotate")=="true",e=Benner.Page.getApplicationPath()+"amchart/serie?widgetId="+n+"&viewName="+u+"&categoryField="+i+"&serieId="+r+"&rotate="+f+"&chartType="+t;Benner.ModalPage.show({url:e,id:"serieDefinition",height:590,displayFooter:!1,title:"Configurações da série"})})}}function tt(){for(var t=$(".widget[widget-type='AmCharts']"),n=0;n<t.length;n++)nt(t[n]);$(".widget .remove-widget").not(".disabled").on("click",function(){$(this).closest(".widget").attr("removed","true").hide();f()})}function it(){$("#ContentPanel").sortable({connectWith:".widget",items:".widget",opacity:.8,handle:".drag-handle",coneHelperSize:!0,placeholder:"portlet-sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer",helper:"clone",tolerance:"pointer",forcePlaceholderSize:!0,helper:"clone",cancel:".portlet-sortable-empty",update:function(n,t){t.item.prev().hasClass("portlet-sortable-empty")&&t.item.prev().before(t.item);$(t.item).attr("moved","true");f()}})}function rt(){var n=parseInt($("#page-layer").val()),t=$("#page-generated").val()==="true";t===!0&&n.value!=0&&$("#ContentPanel").append('<div class="row"><div class="col-md-12"><div class="new-widget-helper" id="new-page-widget"><h3 class="text-center"><i class="fa fa-plus"><\/i> Adicionar Widget<\/h3><\/div><\/div><\/div>');$("#new-page-widget").on("click",function(){$("#float-action-buttons").length>0?confirm("Você possui alterações visuais que ainda não foram persistidas. Deseja sair da página e perder essas alterações?")&&$(".create-widget-link")[0].click():$(".create-widget-link")[0].click()})}function f(){if($("#float-action-buttons").length==0){$("body").append('<nav class="float-action-buttons" id="float-action-buttons"><a class="buttons" href="javascript:window.onbeforeunload=null;location.reload(true);" tooltip="Cancelar alterações visuais"><\/a><a class="buttons" id="save-page-design" tooltip="Salvar alterações visuais"><span><span class="rotate"><\/span><\/span><\/a><\/nav>');$("#save-page-design").on("click",function(){for(var t,r,n,f,e,h,o=[],s=document.querySelectorAll(".widget"),i=0;i<s.length;i++)(t=s[i],r=t.getAttribute("page-id"),r!=null)&&(n={},n.id=t.id,n.pageId=r,n.widgetType=t.getAttribute("widget-type"),n.columnSize=u(t),n.height=w(t),n.order=parseInt(t.getAttribute("widget-order")),f=t.getAttribute("removed"),n.removed=f==null?!1:f,e=t.getAttribute("moved"),n.moved=e==null?!1:e,o.push(n));h=Benner.Page.getApplicationPath()+"api/page/widgets";$.ajax({type:"PUT",url:h,contentType:"application/json",data:JSON.stringify(o)}).done(function(){location.hash="#uisuccess";window.onbeforeunload=null;location.reload(!0);$("#float-action-buttons").remove()}).fail(function(n){toastr.error(n.responseJSON.ExceptionMessage,"Erro ao persistir as alterações visuais")})});window.onbeforeunload=function(){return"Você possui alterações visuais que ainda não foram persistidas. Deseja sair da página e perder essas alterações?"}}}var t=0,i=[],n,e,s,o,h,r,k=function(i){$(i).find(".resize-width-container").hover(function(){var n=u(i);$(this).find(".current-column").text("col-md-"+n);$(this).find(".current-column").show()},function(){$(this).find(".current-column").hide()});$(i).find(".resize-height-container").hover(function(){var n=null;n=$(i).attr("widget-type")==="AmCharts"?$(i).find(".chart")[0]:$(i).find(".dx-widget.dx-visibility-change-handler")[0];$(i).find(".current-height").text(n.style.height);$(this).find(".current-height").show()},function(){$(this).find(".current-height").hide()});$(i).hover(function(){$(this).find(".resize-width-handle").show();$(this).find(".resize-height-handle").show()},function(){$(this).find(".resize-width-handle").hide();$(this).find(".resize-height-handle").hide()});$(i).find(".resize-width-handle").on("mousedown",function(f){n=i;lastSize=0;t=u(n);b($(n).closest(".row")[0]);e=f.clientX;o=r=parseInt(document.defaultView.getComputedStyle(n).width,10);document.documentElement.addEventListener("mousemove",c,!1);document.documentElement.addEventListener("mouseup",a,!1)});$(i).find(".resize-height-handle").on("mousedown",function(t){n=i;s=t.clientY;h=parseInt(document.defaultView.getComputedStyle(n).height,10);document.documentElement.addEventListener("mousemove",l,!1);document.documentElement.addEventListener("mouseup",v,!1)})},d=function(){for(var t=document.querySelectorAll(".widget"),n=0;n<t.length;n++)k(t[n])},ut=function(){d();tt();it();rt();location.hash=="#uisuccess"&&(toastr.success("Alterações visuais realizadas com sucesso!"),location.hash="")},y=function(){$("#menu-do-desenvolvedor").removeClass("open");$("#menu-do-desenvolvedor").children("ul").css("display","none")},p=function(){$("#menu-do-desenvolvedor").children("ul").css("display","")},ft=function(){Benner.ModalMessage.show("Limpando os caches");y();$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:Benner.Page.getApplicationPath()+"SiteSettings/cachecleaner.aspx/cleancaches"}).done(function(){Benner.ModalMessage.hide();p()})},et=function(){Benner.ModalMessage.show("Aguarde, gerando as páginas...");y();$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:Benner.Page.getApplicationPath()+"SiteSettings/pageGeneration.aspx/Generate"}).done(function(n){if(p(),n.d.Success==!1)Benner.ModalMessage.hide(),bootbox.alert({title:"Houve um erro durante a geração das paginas",message:n.d.ErrorMessage});else{Benner.ModalMessage.hide();var t=$get("instalationProcess");t!=null?bootbox.dialog({title:"Instalação concluída",message:"O sistema está pronto para ser utilizado",buttons:{main:{label:"Ok",className:"btn-primary",callback:function(){window.location="../"}}}}):bootbox.dialog({title:"As páginas foram geradas",message:"O sistema está pronto para ser utilizado",buttons:{main:{label:"Ok",className:"btn-primary"}}})}})};return{cleanCaches:function(){ft()},generatePages:function(){et()},pageWidgets:function(){return pageWidgets},init:function(){document.getElementById("development-environment")&&ut()}}}();Benner.WidgetCommandsBar=function(){var n=function(n){for(var t,r,f,e=$(".form-actions"),u=0;u<e.length;u++)t=$(e[u]),r=t.data("lastWidth"),r||(r=0),f=r-t.width(),(f<-15||f>15||r==0)&&(i(t,n),t.data("lastWidth",t.width()))},i=function(n,t){for(var i,u,o,f=r(n),s=n.find(".custom-action"),h=!0,e=0;e<s.length;e++)commandButton=$(s[e]),commandWidth=commandButton.outerWidth(!0),f>=commandWidth||commandWidth==0?(i=commandButton.attr("id"),u=i.replace("top-","nested-"),n.find("#"+u).hide(),t?n.find("#"+i).fadeIn("slow"):n.find("#"+i).show()):f<commandWidth&&(i=commandButton.attr("id"),u=i.replace("top-","nested-"),n.find("#"+i).hide(),o=n.find("#"+u),Benner.WidgetCommandsBar.adjustCommandsGroup(o),o.show(),h=!1),f-=commandWidth;h?n.find(".nested-menu").hide():t?n.find(".nested-menu").fadeIn("slow"):n.find(".nested-menu").show()},r=function(n){for(var r,t=n.find(".predef-action"),u=t.length*4,i=0;i<t.length;i++)u+=$(t[i]).outerWidth(!0);return r=n.width()-30,r-=u,r-(n.find(".nested-menu").outerWidth(!0)+4)},u=function(){for(var n,r,i=$(".btn-group.command-action"),t=0;t<i.length;t++)n=$(i[t]),r=n.children("ul").height()+(n.offset().top+34+10),r>=$(document).height()?n.addClass("dropup"):n.removeClass("dropup")},f=function(n,t){var i=n.children("ul").height()+(t.offset().top+34+10);Math.round(i)>=$(document).height()?n.addClass("dropup"):n.removeClass("dropup")},e=function(n,t){var i=n,r=t,u=function(){var n=$(r).find("#"+i).find(".form-actions.bottom.nobg.no-border.commands-bar.fluid.footer-commands-bar");$(r).find("#"+i).find(".command-action").each(function(t,i){var r=$(i).clone(!0);$(n).append(r).append(" ");r.hasClass("btn-group")&&(f(r,n),r.children("a").dropdownHover())})},e=function(){return $(r).find("#"+i).find(".grid-footer-row").length>0};this.getId=function(){return i};this.isShorterThenWindow=function(){var n=window.self===window.top?window:window.top,t=0;return t=window.self===window.top?$(n).height()-46:$(n).height()*.9,$(r).find("#"+i).find(".portlet-body").height()<t};this.hasFooterCommandsBar=function(){return $(r).find("#"+i).find(".footer-commands-bar").length>0&&$(r).find("#"+i).find(".footer-commands-bar").children().length>0};this.hideFooterCommandsBar=function(){$(r).find("#"+i).find(".footer-commands-bar").is(".footer-commands-bar.commands-bar-hide")||$(r).find("#"+i).find(".footer-commands-bar").addClass("hide")};this.createFooterCommandsBar=function(){return u()};this.footerCommandsBarIsHidden=function(){return $(r).find("#"+i).find(".footer-commands-bar").hasClass("hide")};this.displayFooterCommandsBar=function(){$(r).find("#"+i).find(".footer-commands-bar").removeClass("hide")}},o=function(n){var t=[];return $(n).find(".widget").each(function(i,r){t.push(new e($(r).attr("id"),n))}),t},t=function(n){for(var t,r=o(n),i=0;i<r.length;i++){if(t=r[i],t.isShorterThenWindow()){t.hideFooterCommandsBar();continue}else if(t.hasFooterCommandsBar()){t.displayFooterCommandsBar();continue}t.createFooterCommandsBar()}};return{init:function(){n(!1);u();$(window).resize(function(){n(!1)});$('a[data-toggle="tab"]').on("shown.bs.tab",function(){t(self.document);n(!1)});t(self.document)},displayFooterCommandsBar:function(n){t(n)}}}();Benner.WidgetCommandsBar.openModal=function(){$("iframe").contents().keydown(function(n){if(n.keyCode==27){if($(n.target).hasClass("select2-search__field")){n.stopPropagation();return}Benner.ModalPage.hide()}})};Benner.WidgetCommandsBar.prepareModal=function(n,t,i){if($("body").data("lazy-post-id",t),$("#float-action-buttons").length>0&&!confirm("Você possui alterações visuais que ainda não foram persistidas. Deseja sair da página e perder essas alterações?"))return!1;(i==undefined||i=="")&&(i="large");Benner.ModalPage.show({id:"ModalCommand",url:n,size:i.toLowerCase(),displayFooter:!1,displayTitle:!1,height:parseInt($(window).height()*.9)-70},Benner.WidgetCommandsBar.openModal,Benner.WidgetCommandsBar.disposeModal);window.onbeforeunload=null};Benner.WidgetCommandsBar.disposeModal=function(){Benner.ModalPage.hide();var n=$("body").data("lazy-post-id");return $("body").data("lazy-post-id",""),n!=undefined&&n!=""?__doPostBack(n,"refresh"):Benner.AsyncProcesses.initAjax(),!1};Benner.WidgetCommandsBar.adjustCommandsGroup=function(n){if(n.hasClass("dropdown-submenu")){let t=n.children("ul").children();t.each(function(){this.id=this.firstChild.id.replace("top-","nested-");Benner.WidgetCommandsBar.adjustCommandsGroup($(this))})}};Benner.Search=function(){var n=50,t=function(){$().select2&&$("select.benner-search.select2-hidden-accessible").each(function(){$(this).on("select2:opening",function(){var n=$("body");n.data("last-focus",this.id);n.data("focus-at","same")});$(this).on("select2:select",function(n){Benner.Search.valueChanged(this,n,0);var t=$(this)[0],i=$(t).attr("postback-url");i!=null&&eval(i);$(t).data("changeeventtype")!=="callpython"&&Benner.Control.restoreFocus()});$(this).on("select2:unselect",function(n){Benner.Search.valueChanged(this,n,1);setTimeout(function(){Benner.Control.restoreFocus()},1)});$(this).on("select2:unselecting",function(){$(this).data("unselecting",!0)}).on("select2:open",function(){$(this).data("unselecting")&&($(this).removeData("unselecting"),$(this).select2("close"))});var t={},f=$(this);t.placeHolder=$(this).data("placeholder");t.closeOnSelect=$(this).data("closeonselect");$(this).css("display","inline-block");t.formatAjaxError=u;t.id=r;t.allowClear=!$(this).prop("multiple");t.width="off";t.theme="bootstrap";t.language="pt-BR";t.ajax={url:Benner.Page.getApplicationPath()+"api/search",idSelect2:$(this).attr("id"),dataType:"json",quietMillis:200,data:function(t){try{return t.term===undefined&&(t.term=""),t.page=t.page||1,{query:t.term,targetEntity:$(this).data("targetentity"),targetView:$(this).data("lookupviewname")?$(this).data("lookupviewname"):"",resultFields:$(this).data("resultfields"),serverStateKey:$(this).attr("id"),dependValueList:Benner.Search.recoverDependValueList($(this)),sourceEntity:$(this).data("sourceentity")?$(this).data("sourceentity"):"",selectAnyStructuredLevel:$(this).data("selectanylevel")==="True",maxRows:n,startRow:n*(t.page-1)}}catch(i){$(this).select2("close");throw i;}},processResults:function(t){return{results:t,pagination:{more:t.length==n}}},error:function(n){(n.status===401||n.status===302)&&($(f).select2({data:[{id:-1,text:"A sua sessão expirou."}]}),$(f).select2("open"))}};$(this).prop("multiple")||(t.templateSelection=i);$(this).select2(t)})},i=function(n){if(!n.id)return n.text;return $('<span class="selected-item">'+n.text+"<\/span>")},r=function(n){return JSON.stringify(n)},u=function(n,t,i){return n.status===401?n.statusText:n.responseJSON===undefined?i:!n.responseJSON.ExceptionMessage||!n.responseJSON.ExceptionMessage.length?!n.responseJSON.Message||!n.responseJSON.Message.length?i:n.responseJSON.Message:n.responseJSON.ExceptionMessage};return{init:function(){t()}}}();Benner.Search.dependValueList="";Benner.Search.addDependValueList=function(n,t){if(t.params!==undefined){if(t.params===null)return Benner.Search.dependValueList="|"+n+Benner.Search.dependValueList,!0;t.params.data.id!==-1&&(Benner.Search.dependValueList=n+Benner.Search.dependValueList)}else Benner.Search.dependValueList=n;return!1};Benner.Search.callScriptPython=function(n,t){Benner.Control.storeCurrentFocus(n,"same");Benner.Control.callFieldEventScript(t,Benner.Search.dependValueList);Benner.Search.dependValueList=""};Benner.Search.getEventParam=function(){Benner.Search.dependValueList.charAt(0)=="|"&&(Benner.Search.dependValueList=Benner.Search.dependValueList.substring(1,Benner.Search.dependValueList.length));var n=Benner.Search.dependValueList.substring(0,Benner.Search.dependValueList.indexOf("|"));return $("[data-field='"+n+"']").data("changeeventparam")};Benner.Search.updateValueSelected=function(n,t){var e=n.substring(0,n.length-7),u,f,r,i;if($("#"+n).attr("multiple")==="multiple"){for(f=[],r=$("#"+n).select2("data"),i=0;i<r.length;i++)f.push({id:r[i].id,text:r[i].text});u=JSON.stringify(f)}else u=t===1?"":JSON.stringify({id:$("#"+n).val(),text:$("#"+n+" :selected").text()});$("#"+e).val(u)};Benner.Search.setValue=function(n,t){var i=JSON.parse(t);parent.$("#"+n).append("<option value="+i.ID+' selected="selected">'+i.Value+"<\/option>");parent.$("#"+n).trigger("select2:select");parent.Benner.ModalPage.hide();parent.$("#"+n).trigger("focus")};Benner.Search.triggerSelectByID=function(n){parent.$("#"+n).trigger("select2:select");parent.$("#"+n).trigger("focus")};Benner.Search.validationPermissionButtonRegister=function(n,t){return t===0&&$(n).data("canupdate")==="False"?!1:t===1&&$(n).data("caninsert")==="False"?!1:!0};Benner.Search.createButtonToRegister=function(n,t){if($(n).data("url")!==""&&$(n).data("canurl")==="True"){var i=$(n).parent().find(".input-group-btn.keep-record");Benner.Search.validationPermissionButtonRegister(n,t)?i.show():i.hide();t===0?(i.children().attr("class","btn blue"),i.children().children().attr("class","fa fa-pencil")):(i.children().attr("class","btn green"),i.children().children().attr("class","fa fa-plus"))}};Benner.Search.valueChanged=function(n,t,i){var u,e,f,r,o;if(n!=null&&(u=Benner.Search.getContainerControl($(n).attr("id")),e=$(n).data("field"),Benner.Search.updateValueSelected($(n).attr("id"),i),Benner.Search.createButtonToRegister(n,i),Benner.Search.clearDepends(e,u),f=$(n).data("changeeventtype"),f&&f.length||t.added===undefined||t.added.id!==-1)){r=$(n).data("changeeventparam");switch(f){case"callpython":if(Benner.Search.addDependValueList(e,t))return;Benner.Search.callScriptPython(n,r);o=Sys.WebForms.PageRequestManager.getInstance();o.add_endRequest(function s(){Benner.Search.updatePathFields(n,u);Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(s)});break;case"rowchanged":Benner.EditableGrid.rowChanged(r.lblchangerecord,r.grid+"_DataChangedCollecion",r.handle);Benner.Search.updatePathFields(n,u);Benner.Control.storeCurrentFocus(n,"same");break;default:(r==undefined||r==="")&&(r=Benner.Search.getEventParam());Benner.Search.updatePathFields(n,u);Benner.Search.callScriptPython(n,r)}}};Benner.Search.getContainerControl=function(n){var t="#"+n,f=$(t).closest("tr[handle!=''][handle]"),i,r,u;return f&&f.length?f:(i=$(t).closest("div.filter-form"),i&&i.length)?i:(r=$(t).closest("div.portlet-body.form"),r&&r.length)?r:(u=$(t).closest("div.portlet"),u&&u.length)?u:$(t).closest("form")};Benner.Search.clearDepends=function(n,t){n&&n.length&&$(t).find("select[data-dependlist*='$"+n+"$']").each(function(){switch($(this).data("type")){case"association":if($(this).val()!==null){var n=$.Event("select2:unselect",{params:null});$(this).val(null).change();$(this).trigger(n)}break;case"aggregation":$(this).val(null).trigger("select2:unselect")}})};Benner.Search.updatePathFields=function(n,t){var r,i,u,f;n!=null&&(r=$(n).data("field"),r&&r.length)&&(i=[],$(t).find("input[type='text'][data-type='path'][data-dependlist*='$"+r+"$']").each(function(){$(this).val("");i.push($(this).data("field"));u&&u.length||(u=$(this).data("entityview"))}),i&&i.length)&&(f=Benner.Search.getAssociationFieldValue(n),f&&f.length)&&Benner.Services.getPathFieldResultValues(u,r,f,i,Benner.Search.changePathValuesOnSucess(i,t))};Benner.Search.changePathValuesOnSucess=function(n,t){return function(i){for(var u,r=0;r<n.length;r++)u=Benner.Search.getControlByDataField(n[r],t),u!=null&&(u.value=i[n[r]])}};Benner.Search.TryRecoverDependValueList=function(n){try{return Benner.Search.recoverDependValueList($("#"+n)),!0}catch(t){return!1}};Benner.Search.recoverDependValueList=function(n){var s=$(n).data("dependlist"),h=Benner.Search.getContainerControl($(n).attr("id")),u="",f,i,r;if(!s||!s.length)return u;for(f=$.unique(s.split(",")),i=0;i<f.length;i++){var e=f[i].replace("~",""),e=e.replace(/\$/g,""),t="",o=Benner.Search.getControlByDataField(e,h);if(t=Benner.Search.getFieldValue(o),fieldTitle=Benner.Search.getFieldLabel(o),!t||!t.length)if(f[i].indexOf("~")===-1){r="Falta preencher campo '"+(typeof fieldTitle=="undefined"?e:fieldTitle)+"'.";alert(r);throw r;}else t=o==null?-1:Benner.Search.getDefaultValue(o);if((!t||!t.length)&&f[i].indexOf("~")===-1){r="Falta preencher campo '"+fieldTitle+"'.";alert(r);throw r;}u.length>0&&(u+="|");u+=e+"="+t}return u};Benner.Search.getControlByDataField=function(n,t){return Benner.Search.getControlByAttribNameAndValue("data-field",n,t)};Benner.Search.getControlByAttribNameAndValue=function(n,t,i){var r=$(i).find("["+n+"='"+t+"']");return r.length>0?r[0]:null};Benner.Search.getDefaultValue=function(n){switch($(n).data("type")){case"date":case"time":return"@DATA(30/12/1899)";case"aggregation":case"association":case"currency":case"number":case"integer":return"-1";case"list":case"boolean":case"tab":case"radio":case"string":default:return""}};Benner.Search.getFieldValue=function(n){switch($(n).data("type")){case"association":return Benner.Search.getAssociationFieldValue(n);case"aggregation":return Benner.Search.getAggregationFieldValue(n);case"list":return Benner.Search.getListFieldValue(n);case"date":return Benner.Search.getDateTimeFieldValue(n);case"time":return Benner.Search.getTimeFieldValue(n);case"boolean":return Benner.Search.getBooleanFieldValue(n);case"tab":return Benner.Search.getTabFieldValue(n);case"radio":return Benner.Search.getRadioFieldValue(n);case"string":return Benner.Search.getStringFieldValue(n);case"currency":return Benner.Search.getCurrencyFieldValue(n);case"number":return Benner.Search.getNumberFieldValue(n);case"integer":return Benner.Search.getIntegerFieldValue(n);case"hidden":return Benner.Search.getHiddenFieldValue(n);default:return""}};Benner.Search.getFieldLabel=function(n){return $(n).data("label")};Benner.Search.getAssociationFieldValue=function(n){var r=$(n).prop("tagName"),t=$(n).val(),i;return(r==="SELECT"&&t!==null&&t!==""&&(t={id:t}),t===null||t==="")?"":(i=t,r!=="SELECT"&&(i=JSON.parse(t)),i.id.toString()==="-1")?"":i.id.toString()};Benner.Search.getAggregationFieldValue=function(n){var u=$(n).prop("tagName"),t=$(n).val(),r,i;return(u==="SELECT"&&(t=$(n).select2("data")),!t||!t.length)?"":(r=t,u!=="SELECT"&&(t.indexOf("[")!==0&&(t="["+t+"]"),r=JSON.parse(t)),i=[],$(r).each(function(){i.push(this.id)}),i.length===0)?"":i.join(", ")};Benner.Search.getListFieldValue=function(n){var t;return(t=$(n).is("[readonly]")?$(n).attr("key").toString():$(n).val().toString(),t==="-1")?"":t};Benner.Search.getDateTimeFieldValue=function(n){var i=$(n).val().toString(),u=Benner.Search.getContainerControl($(n).attr("id")),r=Benner.Search.getControlByAttribNameAndValue("data-field-time",$(n).data("field"),u),t=r!=null?$(r).val().toString():undefined;return t&&t.length?i+" "+t:i};Benner.Search.getTimeFieldValue=function(n){return $(n).val().toString()};Benner.Search.getBooleanFieldValue=function(n){return $(n).attr("checked")==="checked"?"S":"N"};Benner.Search.getTabFieldValue=function(n){var t=$(n).find("input[type='radio'][checked='checked']");return t&&t.length?$(t).val():""};Benner.Search.getRadioFieldValue=function(n){var t=n.querySelector("input:checked");return t!==null?t.value:""};Benner.Search.getStringFieldValue=function(n){return $(n).val().toString()};Benner.Search.getCurrencyFieldValue=function(n){var t=$(n).val().toString();return t&&t.length&&(t=t.replace("R$ ","").replace(".","").replace(",",".")),t};Benner.Search.getNumberFieldValue=function(n){var t=$(n).val().toString();return t&&t.length&&(t=t.replace(".","").replace(",",".")),t};Benner.Search.getIntegerFieldValue=function(n){var t=$(n).val().toString();return t&&t.length&&(t=t.replace(".","")),t};Benner.Search.getHiddenFieldValue=function(n){return $(n).val().toString()};Benner.Search.close=function(){$("select.select2-hidden-accessible").each(function(){$(this).select2("close")})};Benner.Search.fixFirefox=function(){window.event||(window.event={})};Benner.Search.triggerSelectByID=function(n){$(document).ready(function(){$("#"+n).trigger("select2:select");$("#"+n).select2("focus")})};Benner.Search.getFocusedSelect2=function(){var n=null;return $("select.select2-hidden-accessible").each(function(){$(this).select2("hasFocus")&&(n=$(this))}),n};Benner.Sidebar=function(){};Benner.Sidebar.init=function(){var n,t,i;sidebarItens=$(".sidebar > li > a");n=$(".sidebar");$(sidebarItens).on("click",function(){for(var n,i=$(this).attr("id"),t=0;t<sidebarItens.length;t++)n=$(sidebarItens[t]).attr("id"),n!=null&&n!=i&&localStorage.setItem(n,"closed");localStorage.setItem(i,$(this).parent().hasClass("closed")||!$(this).parent().hasClass("open")?"open":"closed")});$("#sidebar-menu-toggler").on("click",function(){var t=$(n).hasClass("page-sidebar-menu-closed");t?localStorage.setItem("sidebar-state","open"):localStorage.setItem("sidebar-state","closed");document.cookie="sidebar-state="+(t?"open":"closed")+"; expires=Sat, 01 Jan 2050 12:00:00 GMT; path=/"});t=$(n).attr("data-slide-speed");$(n).data("slide-speed","0");_.each(sidebarItens,function(n){var t=localStorage.getItem($(n).attr("id"))});i=localStorage.getItem("sidebar-state");$(n).data("slide-speed",t)},function(n){"use strict";n.fn.focusOnNextField=function(){return this.each(function(){for(var u=n(this).closest(".portlet").closest("[id][id!='']"),r=n(u).find("input,textarea,select"),t=r.index(this),i;t>-1&&t+1<r.length;)if(i=r.eq(t+1),n(i).is(":hidden,[readonly]"))++t;else return n(i).focus(),n(i).select(),!0;return!1})};n.fn.focusOnFirstField=function(){return this.each(function(){var i=n(this).find(".allow-focus"),t;return i?(t=n(i).find("input,textarea,select").not(".searcher-criteria").not(".ignore-focus").not("[type=hidden]").not("[type=button]").not("[type=submit]").not("[type=radio]").not("[readonly]").not("[disabled]").first(),n(t).focus(),n(t).select(),!0):!1})}}(jQuery);String.prototype.removeAccents=function(){return this.replace(/[áàãâä]/gi,"a").replace(/[éè¨ê]/gi,"e").replace(/[íìïî]/gi,"i").replace(/[óòöôõ]/gi,"o").replace(/[úùüû]/gi,"u").replace(/[ç]/gi,"c").replace(/[ñ]/gi,"n").replace(/[^a-zA-Z0-9]/g," ")};String.prototype.hashCode=function(){var n=5381;for(i=0;i<this.length;i++)char=this.charCodeAt(i),n=(n<<5)+n+char;return n};String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};BennerSearcher=function(){function e(n){var r=document.createElement("i"),i,t;return $(r).addClass(n.Fonticon),i=document.createElement("span"),t=document.createElement("a"),n.Url&&$(t).attr("href",n.Url),$(t).addClass("list-group-item searcher-list-group-item").append(r).append(i),n.Text=="zzz_there_are_more_items"&&(n.Text="Existem mais itens, refine sua pesquisa",$(t).addClass("searcher-more-itens")),$(i).addClass("searcher-caption").text(" "+n.Text),n.Commands!=null&&n.Commands.length>0&&$(t).append(BennerSearcher.getCommandsHtml(n.Commands)),t}function o(n,t){var u,r,i,o,f;for(n.sort(function(n,t){return n.Group+n.Text<t.Group+t.Text?-1:n.Group+n.Text>t.Group+t.Text?1:0}),u="",r=0;r<n.length;r++)i=n[r],i.Group!==undefined&&u!==i.Group&&(o=i.Group,f=document.createElement("li"),$(f).text(o.toUpperCase()).addClass("list-group-item searcher-list-header bold"),$(t).append(f),u=i.Group),$(t).append(e(i))}var r="",u,n=0,t=!1,f=!1;return{init:function(){$(".searcher-icon").on("click","",function(){var n=$("#searcher-modal");n.is(":visible")?n.modal("hide"):(BennerSearcher.install(),n.modal("show"))});$("#searcher").tooltip({placement:"bottom"})},install:function(){if(!f){$(document).ready(function(){$("body").on("keyup",".searcher-criteria",BennerSearcher.processKey)});var n=$("#searcher-modal");n.on("shown.bs.modal",function(){$(".searcher-criteria").focus()});n.find(".dropdown-menu li a").click(function(){var t=n.find(".btn:first-child");t.contents().first()[0].textContent=$(this).text();t.data("group",$(this).text().trim());n.find(".input-group-btn:first-child").removeClass("open");$(".searcher-criteria").focus();$(".searcher-criteria").select();BennerSearcher.search()});f=!0}},processResponse:function(t,i){n++;$(".searcher-result-caption").hide();var u=$(".searcher-criteria").val(),r=document.createElement("div");$(r).addClass("list-group");t&&t.length>0&&(o(t,r),$("#"+i).empty().append(r),$("#"+i).slideDown(200));u.trim()!=""&&n==2&&$(".searcher-results-panel .list-group").length==0&&($(".searcher-result-caption").show(),$(".searcher-result-caption").html("Nenhum registro encontrado"));n==2&&BennerSearcher.unBlockUI()},processError:function(n,i){if(BennerSearcher.unBlockUI(),t=!1,n.status==401||n.responseText.indexOf("wesLogin_titlePage")>0&&n.responseText.indexOf('"login"')>0)BennerSearcher.processResponse([{Url:"javascript:location.reload();",Group:"Informação",Text:"Sua sessão expirou. Efetue o login novamente."}],i);else{for(var r="",u=n.responseJSON;u!=null;)r==""||r.endsWith(".")||(r+="."),r+=" "+u.ExceptionMessage,u=u.InnerException;BennerSearcher.processResponse([{Url:"",Group:"Erro",Text:r}],i)}},blockUI:function(){$(".searcher-btn-search").removeClass("fa-search");$(".searcher-btn-search").addClass("fa-spin fa-refresh")},unBlockUI:function(){$(".searcher-btn-search").removeClass("fa-spin");$(".searcher-btn-search").removeClass("fa-refresh");$(".searcher-btn-search").addClass("fa-search")},search:function(){n=0;var i=$(".searcher-criteria").val(),u=$("#searcher-btn-group").data("group");if(u.toUpperCase()==="TODOS"&&(u=""),!(i==r||i.length>0&&i.length<3)||t)try{BennerSearcher.blockUI();BennerSearcher.searchItems(i,u);setTimeout(function(){BennerSearcher.searchEntities(i,u)},1);r=i}catch(f){BennerSearcher.unBlockUI()}},searchItems:function(n,t){$("#searcher-results-items").empty().hide();$.ajax({url:Benner.Page.getApplicationPath()+"api/searcher",data:{text:n,group:t,category:"items"},dataType:"json",success:function(n){BennerSearcher.processResponse(n,"searcher-results-items")},error:function(n){BennerSearcher.processError(n,"searcher-results-items")}})},searchEntities:function(n,t){$("#searcher-results-entities").empty().hide();$.ajax({url:Benner.Page.getApplicationPath()+"api/searcher",data:{text:n,group:t,category:"entities"},dataType:"json",success:function(n){BennerSearcher.processResponse(n,"searcher-results-entities")},error:function(n){BennerSearcher.processError(n,"searcher-results-entities")}})},clear:function(){r="";$(".searcher-criteria").val("");$(".searcher-results").empty();$(".searcher-result-caption").hide();$(".searcher-criteria").focus()},processKey:function(n){t=!1;var i=n.keyCode?n.keyCode:n.which;i==13?(BennerSearcher.clearSchedule(),t=!0,BennerSearcher.search()):(BennerSearcher.clearSchedule(),u=setTimeout(BennerSearcher.search,800))},clearSchedule:function(){u&&clearTimeout(u)},getCommandsHtml:function(n){var u,r,t,f;if(n&&n.length!=0){for(u=document.createElement("span"),$(u).addClass("searcher-commads-list"),i=0;i<n.length;i++)r=n[i],t=document.createElement("a"),$(t).attr("href",r.Url),$(t).addClass("btn btn-xs"),r.Color!=null?$(t).addClass(r.Color):$(t).addClass("default"),r.Fonticon!=null&&(f=document.createElement("i"),$(f).addClass(r.Fonticon),$(t).append(f)),$(t).append(" "+r.Text),$(u).append(t);return u}}}}();$(document).ready(function(){BennerSearcher.init()}),function(n){"use strict";n.fn.focusOnNextField=function(){return this.each(function(){for(var u=n(this).closest(".portlet").closest("[id][id!='']"),r=n(u).find("input,textarea,select"),t=r.index(this),i;t>-1&&t+1<r.length;)if(i=r.eq(t+1),n(i).is(":hidden,[readonly]"))++t;else return n(i).focus(),n(i).select(),!0;return!1})};n.fn.focusOnFirstField=function(){return this.each(function(){var i=n(this).find(".allow-focus"),t;return i?(t=n(i).find("input,textarea,select").not(".searcher-criteria").not(".ignore-focus").not("[type=hidden]").not("[type=button]").not("[type=submit]").not("[type=radio]").not("[readonly]").not("[disabled]").first(),n(t).focus(),n(t).select(),!0):!1})}}(jQuery);String.prototype.removeAccents=function(){return this.replace(/[áàãâä]/gi,"a").replace(/[éè¨ê]/gi,"e").replace(/[íìïî]/gi,"i").replace(/[óòöôõ]/gi,"o").replace(/[úùüû]/gi,"u").replace(/[ç]/gi,"c").replace(/[ñ]/gi,"n").replace(/[^a-zA-Z0-9]/g," ")};String.prototype.hashCode=function(){var n=5381;for(i=0;i<this.length;i++)char=this.charCodeAt(i),n=(n<<5)+n+char;return n};String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};isIE11=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/));isIE11&&(typeof attachEvent!="undefined"&&window.attachEvent||(window.attachEvent=window.addEventListener));Benner.AmChartsWidget=function(){function i(n,i,u){$.getJSON({dataType:"json",url:n}).done(function(n){n==null||Object.keys(n).length==0?t(i,u,"O gráfico não contém dados a serem exibidos"):n.error!=undefined?t(i,u,n.error):r(i,n);i.path=Benner.Page.getApplicationPath()+"content/assets/amcharts"}).fail(function(n){t(i,u,n.responseJSON)});i.validateNow()}function t(n,t,i){n.addLabel(0,"50%",i,"center",12);n.chartDiv.style.opacity=.7;n.legend.enabled=!1}function r(n,t){n.dataProvider=t;n.validateData()}var n=[];return{init:function(t,r,u,f){var h,e,o,s;_.find(n,function(n){return n.id==t})==undefined&&(h=$("#"+t).closest(".widget").attr("id"),n.push({id:h,definition:JSON.stringify(r,null,"\t")}));e="#FFF";r.theme&&(r.theme=="chalk"||r.theme=="dark"?e="#282828":r.theme=="black"&&(e="#222222"));$("#"+t).css("background-color",e);r.startDuration=.2;o=AmCharts.makeChart(t,r);i(u,o,t);s=function(n){var t=null,i;t=n.item?n.item.dataContext:n.dataItem.dataContext;i=t.fill_alpha_field;_.forEach(n.chart.dataProvider,function(n){delete n.fill_alpha_field});i&&i!=1?(t.fill_alpha_field=1,t=null):t.fill_alpha_field=.5;n.chart.type!="pie"&&n.chart.validateData();__doPostBack(f,JSON.stringify(t))};o.addListener("clickGraphItem",s);o.addListener("clickSlice",s)},getChart:function(t){var i=_.find(n,function(n){return n.id==t});return i!=null?JSON.parse(i.definition):null}}}();Benner.AmChartsAttributes=function(){function i(){var n=parseInt(f("TIPOGRAFICOSIMPLES"));$(".show-when-pie").hide();$(".show-when-serial").hide();n==2||n==3||n==4||n==5?$(".show-when-serial").show():(n==6||n==7)&&$(".show-when-pie").show()}function r(n,i){var u=$("#category").val(),r=$("#value").val();u&&(u=u.toLowerCase());r&&(r=r.toLowerCase());i=parseInt(i);i==2||i==3||i==4||i==5||i==9?(n.type!="serial"&&n.type!="radar"&&(n=o,n.categoryField=u,n.graphs[0].valueField=r,n.graphs[0].title=r),n.type=i==9?"radar":"serial"):(i==6||i==7)&&(n.type!="pie"&&(n=e),n.titleField=u,n.valueField=r);switch(i){case 2:n.graphs[0].type="line";n.graphs[0].fillAlphas=0;n.graphs[0].bullet="round";delete n.rotate;break;case 3:n.graphs[0].type="column";n.graphs[0].fillAlphas=1;n.rotate=!0;break;case 4:n.graphs[0].type="column";n.graphs[0].fillAlphas=1;delete n.rotate;break;case 5:n.graphs[0].type="line";n.graphs[0].fillAlphas=.7;n.graphs[0].bullet="round";delete n.rotate;break;case 6:n.innerRadius="0%";break;case 7:n.innerRadius="40%"}t(n)}function u(){var t=n(),i;t!=null&&(i=f("TIPOGRAFICOSIMPLES"),$('div[chart-value="'+i+'"]').addClass("selected"),t.categoryField&&$("#category").val(t.categoryField.toUpperCase()),t.titleField&&$("#category").val(t.titleField.toUpperCase()),t.legend&&$("#legendText").val('{ "labelText": "'+t.legend.labelText+'", "valueText": "'+t.legend.valueText+'" }'),t.labelText&&(t.labelsEnabled===!1?$("#labelText").val(""):$("#labelText").val(t.labelText)),t.valueField&&$("#value").val(t.valueField.toUpperCase()),t.graphs&&t.graphs[0].valueField&&$("#value").val(t.graphs[0].valueField.toUpperCase()),t.legend&&(t.legend.enabled?$("#legend").val(t.legend.position):$("#legend").val("none")),t.theme?$("a."+t.theme).closest("li").addClass("active"):$("a.default").closest("li").addClass("active"),t.depth3D>0&&(document.getElementById("grafico3D").checked=!0),t.categoryAxis&&t.categoryAxis.labelRotation>0&&(document.getElementById("rotateLabel").checked=!0),t.valueAxes&&t.valueAxes.length>0&&(t.valueAxes[0].stackType&&(document.getElementById("empilharSeries").checked=!0),t.valueAxes[0].title&&(document.getElementById("legendaEixo").value=t.valueAxes[0].title)))}function n(){var n=$('input[data-field="CHARTDEFINITION"]').val();return n.trim()==""?null:JSON.parse(n)}function t(n){$('input[data-field="CHARTDEFINITION"]').val(JSON.stringify(n))}function s(n,t){$('input[data-field="'+n+'"]').val(t)}function f(n){return $('input[data-field="'+n+'"]').val()}var e={type:"pie",language:"pt",theme:"light",pullOutOnlyOne:!0,"export":{enabled:!0},titleField:"",valueField:"",alphaField:"fill_alpha_field",balloonText:"[[title]]<br><span style='font-size:14px'><b>[[value]]<\/b> ([[percents]]%)<\/span>",labelText:"[[title]]: [[percents]]%",labelsEnabled:!0,legend:{enabled:!1,align:"center",markerType:"circle"},innerRadius:""},o={type:"serial",language:"pt",theme:"light","export":{enabled:!0},categoryField:"",startDuration:1,categoryAxis:{gridPosition:"start"},graphs:[{labelText:"",balloonText:"[[category]] : [[value]]",id:"AmGraph-1",title:"",alphaField:"fill_alpha_field",valueField:""}],valueAxes:[{id:"ValueAxis-1",title:""}],legend:{enabled:!0,position:"bottom",useGraphSettings:!0}};return{init:function(){var e=n(),f;e==null&&r({type:"none"},4);f=ace.edit("editor");f.$blockScrolling=Infinity;f.getSession().setMode("ace/mode/javascript");f.getSession().setValue(JSON.stringify(e,null,"\t"));u();i();$(document).on("click",".chart-type",function(){$(".chart-type").removeClass("selected");$(this).addClass("selected");var t=$(this).attr("chart-value"),u=n();s("TIPOGRAFICOSIMPLES",t);r(u,t);i()});$("#category").on("change",function(){var i=n();i.type=="pie"?i.titleField=$(this).val().toLowerCase():i.categoryField=$(this).val().toLowerCase();t(i)});$("#value").on("change",function(){var i=n();i.valueField&&(i.valueField=$(this).val().toLowerCase());i.graphs&&i.graphs[0]&&(i.graphs[0].valueField=$(this).val().toLowerCase(),i.graphs[0].title=i.graphs[0].valueField);t(i)});$("#legendText").on("change",function(){var i=n(),r=JSON.parse($(this).val());i.legend.labelText=r.labelText;i.legend.valueText=r.valueText;t(i)});$("#labelText").on("change",function(){var i=n(),r=$(this).val();r.trim()===""?i.labelsEnabled=!1:(i.labelsEnabled=!0,i.labelText=r);t(i)});$("#legend").on("change",function(){var i=n(),r=$(this).val().toLowerCase();r==="none"?i.legend.enabled=!1:(i.legend.enabled=!0,i.legend.position=r);t(i)});$("#empilharSeries").on("change",function(){var i=n();document.getElementById("empilharSeries").checked==!0?i.valueAxes[0].stackType="regular":delete i.valueAxes[0].stackType;t(i)});$("#rotateLabel").on("change",function(){var i=n();document.getElementById("rotateLabel").checked==!0?i.categoryAxis.labelRotation=15:delete i.categoryAxis.labelRotation;t(i)});$(".chart-themes a").on("click",function(){var i=n();$(".chart-themes li").removeClass("active");$(this).closest("li").addClass("active");i.theme=$(this).attr("class");t(i)});$("#grafico3D").on("change",function(){var i=n();document.getElementById("grafico3D").checked==!0?(i.angle=30,i.depth3D=30):(i.angle=0,i.depth3D=0);t(i)});$("#legendaEixo").on("blur",function(){var i=n();i.valueAxes[0].title=$(this).val();t(i)});f.on("blur",function(){var n=JSON.parse(f.getSession().getValue());t(n)});$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var i=$(t.target).attr("href"),r;i=="#tabDefinicao"?(r=n(),f.getSession().setValue(JSON.stringify(r,null,"\t"),1),f.resize()):i=="#tabSerie"&&u()})}}}();var Repository=function(){this.getDataSource=function(n){var t,i=Benner.Page.getApplicationPath()+"api/datasource/"+n;return $.ajax({async:!1,url:i}).done(function(n){t=n}),t};this.getTables=function(){var n=Benner.Page.getApplicationPath()+"api/datasource/tables";return $.ajax({async:!1,url:n}).done(function(n){tables=n}),tables};this.getFieldsFromTable=function(n){var t,i=Benner.Page.getApplicationPath()+"api/datasource/tables/"+n+"/fields";return $.ajax({async:!1,url:i}).done(function(n){t=n}),t};this.create=function(n){let i=Benner.Page.getApplicationPath()+"api/datasource",t;return $.ajax({async:!1,url:i,type:"POST",dataType:"json",data:n,success:function(n){t=n},error:function(n){t=n}}),t};this.save=function(n){let i=Benner.Page.getApplicationPath()+"api/datasource",t={DataSource:null,ReturnUrl:"",Error:""};return $.ajax({async:!1,url:i,type:"PUT",dataType:"json",data:n,success:function(n){t.ReturnUrl=n.ReturnUrl},error:function(n){t.Error=n.responseJSON}}),t.ReturnUrl!==""&&(t.DataSource=this.getDataSource(n.DataSource.Identifier)),t};this.preview=function(n){var t;return $.ajax({async:!1,url:Benner.Page.getApplicationPath()+"api/datasource/preview",type:"PUT",dataType:"json",data:n,success:function(n){t=n}}),t};this.getFieldsFromQuery=function(n){var t=Benner.Page.getApplicationPath()+"api/datasource/fields/query/";return $.ajax({async:!1,url:t,dataType:"json",type:"POST",data:{selectCommand:n},success:function(n){fields=n},error:function(n){fields=n}}),fields}},Lookup=6,textoPadraoSelecao="Selecione...",tables=[],fields=[],temporarySelectedFields=[],lookupFieldLevel=0,aceEditor,success="success",error="danger",dataSource={Handle:0,Identifier:"",Name:"",Descritpion:"",FromTable:{Alias:"A",Name:""},FromSql:{Alias:"A",SelectCommand:""},Fields:[],Filter:""},repository=new Repository;$(function(){$("input[type=radio][name=dataSourceType]").on("change",function(){dataSource.Handle==0&&clearFields("all")});$("#tabelas").on("change",function(){let n=$("option:selected",this);if(dataSource.FromTable.Name!=n.text()&&dataSource.Fields.length>0){dialog=Benner.ModalMessage.confirm("Aten&ccedil;&atilde;o!","Trocar a tabela resulta na exclus&atilde;o dos campos previamente adicionados. Deseja prosseguir?",function(){changeSelectedTable(n)},function(){keepPreviousTableSelected()});dialog.on("shown.bs.modal",function(){dialog.find(".default:first").focus()})}else dataSource.Handle==0&&(loadFieldsFromTable($(n).val(),$("#campos")),dataSource.FromTable.Name=n.text())});$("#campos").on("change",function(){selectedFieldFromSelect($(this))});$("#obter-colunas").on("click",function(){clearFields();dataSource.FromSql.SelectCommand=aceEditor.getValue();var n=repository.getFieldsFromQuery(dataSource.FromSql.SelectCommand);if(n.status!=null&&n.status>=400&&n.responseJSON.ExceptionMessage){showMessage("warning",n.responseJSON.ExceptionMessage);return}$.each(fields,function(){dataSource.Fields.push(this);addSelectedField(this,!1)})});$("#Identificacao").on("focusout",function(){dataSource.Identifier=$("#Identificacao").val()});$("#Nome").on("focusout",function(){dataSource.Name=$("#Nome").val()});$("#salvar").on("click",function(){dataSource.Identifier=$("#Identificacao").val();dataSource.Name=$("#Nome").val();dataSource.Filter=$("#filter").val();dataSource.FromSql!=null&&(dataSource.FromSql.SelectCommand=aceEditor.getValue());let n={DataSource:dataSource,PageWidget:$("#PageWidget").val()};if(dataSource.Handle==0){let t=repository.create(n);t.status!=null&&t.status>=400&&t.responseJSON?showMessage("danger",t.responseJSON):t!=null&&t.DataSource!=null?(updateDataSourceDefinition(t.DataSource),showMessage("success","Cria&ccedil;&atilde;o da consulta realizada com sucesso!"),$("#Identificacao").disabled=!0):showMessage("danger","Erro na cria&ccedil;&atilde;o da consulta.")}else{let t=repository.save(n);t!=null&&t.DataSource!=null?(updateDataSourceDefinition(t.DataSource),showMessage("success","Atualiza&ccedil;&atilde;o da consulta realizada com sucesso!")):showMessage("danger","Erro na atualiza&ccedil;&atilde;o da consulta: <br>"+t.Error)}});$(".dd-item").live("click",function(){let n=this.dataset.id,t=_.find(dataSource.Fields,function(t){return t.Handle==n});$("#path").val(t.Path);$("#alias").val(t.Alias);$("#alias")[0].dataset.fieldid=n});$("#alias").on("change",function(){let n=this.dataset.fieldid,t=_.find(dataSource.Fields,function(t){return t.Handle==n});t.Alias=this.value});$("#alias").on({keydown:function(n){if(n.which===32)return!1},change:function(){this.value=this.value.replace(/\s/g,"")}});$(".delete-field").live("click",function(){var n=parseInt($(this).closest("li.dd-item").attr("data-id")),t=_.findIndex(dataSource.Fields,{Handle:n});return $(this).closest("li.dd-item").remove(),dataSource.Fields.splice(t,1),!1})});Benner.MessagePanel=function(){return show=function(n,t,i,r){$("#"+i).length>0&&clear(i);i===undefined&&(i="notification");var u="<div id='"+i+"' class='alert alert-dismissable";(n=="success"||n=="info"||n=="warning"||n=="danger")&&(u+=" alert-"+n);r&&(u+="' style='white-space: pre-wrap;'");u+="'><button type='button' class='close' data-dismiss='alert'><\/button>"+t+"<\/div>";$(".page-bar").after(u)},clear=function(n){$(".close","#"+n).click()},{show:show,clear:clear}}();!function(n,t){return"function"==typeof define&&define.amd?define(["jquery"],function(i){return n.Tour=t(i)}):"object"==typeof exports?module.exports=t(require("jQuery")):n.Tour=t(n.jQuery)}(window,function(n){var i,t;return t=window.document,i=function(){function i(t){var i;try{i=window.localStorage}catch(r){i=!1}this._options=n.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:i,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"><\/div> <h3 class="popover-title"><\/h3> <div class="popover-content"><\/div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev<\/button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;<\/button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause<\/button> <\/div> <button class="btn btn-sm btn-default" data-role="end">End tour<\/button> <\/div> <\/div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){},onRedirectError:function(){}},t);this._force=!1;this._inited=!1;this._current=null;this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return i.prototype.addSteps=function(n){for(var i,t=0,r=n.length;r>t;t++)i=n[t],this.addStep(i);return this},i.prototype.addStep=function(n){return this._options.steps.push(n),this},i.prototype.getStep=function(t){if(null!=this._options.steps[t])return n.extend({id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p><\/p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,backdropElement:this._options.steps[t].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[t])},i.prototype.init=function(n){return this._force=n,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(n){return function(){return n.showStep(n._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},i.prototype.start=function(n){var t;return null==n&&(n=!1),this._inited||this.init(n),null===this._current&&(t=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(t,this.showStep,0)),this},i.prototype.next=function(){var n;return n=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(n,this._showNextStep)},i.prototype.prev=function(){var n;return n=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(n,this._showPrevStep)},i.prototype.goTo=function(n){var t;return t=this.hideStep(this._current,n),this._callOnPromiseDone(t,this.showStep,n)},i.prototype.end=function(){var i,r;return i=function(i){return function(){return n(t).off("click.tour-"+i._options.name),n(t).off("keyup.tour-"+i._options.name),n(window).off("resize.tour-"+i._options.name),i._setState("end","yes"),i._inited=!1,i._force=!1,i._clearTimer(),null!=i._options.onEnd?i._options.onEnd(i):void 0}}(this),r=this.hideStep(this._current),this._callOnPromiseDone(r,i)},i.prototype.ended=function(){return!this._force&&!!this._getState("end")},i.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},i.prototype.pause=function(){var n;return n=this.getStep(this._current),n&&n.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=n.onPause?n.onPause(this,this._duration):void 0):this},i.prototype.resume=function(){var n;return n=this.getStep(this._current),n&&n.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||n.duration,this._timer=window.setTimeout(function(n){return function(){return n._isLast()?n.next():n.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=n.onResume&&this._duration!==n.duration?n.onResume(this,this._duration):void 0):this},i.prototype.hideStep=function(t,i){var u,e,f,r;if((r=this.getStep(t)))return(this._clearTimer(),f=this._makePromise(null!=r.onHide?r.onHide(this,t):void 0),e=function(u){return function(){var f,e;return f=n(r.element),f.data("bs.popover")||f.data("popover")||(f=n("body")),f.popover("destroy").removeClass("tour-"+u._options.name+"-element tour-"+u._options.name+"-"+t+"-element").removeData("bs.popover").focus(),r.reflex&&n(r.reflexElement).removeClass("tour-step-element-reflex").off(""+u._reflexEvent(r.reflex)+".tour-"+u._options.name),r.backdrop&&(e=null!=i&&u.getStep(i),e&&e.backdrop&&e.backdropElement===r.backdropElement||u._hideBackdrop()),null!=r.onHidden?r.onHidden(u):void 0}}(this),u=r.delay.hide||r.delay,"[object Number]"==={}.toString.call(u)&&u>0?(this._debug("Wait "+u+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(n){return function(){return n._callOnPromiseDone(f,e)}}(this),u)):this._callOnPromiseDone(f,e),f)},i.prototype.showStep=function(n){var u,f,r,e,o,i;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(i=this.getStep(n),i&&(o=n<this._current,f=this._makePromise(null!=i.onShow?i.onShow(this,n):void 0),this.setCurrentStep(n),u=function(){switch({}.toString.call(i.path)){case"[object Function]":return i.path();case"[object String]":return this._options.basePath+i.path;default:return i.path}}.call(this),!i.redirect||!this._isRedirect(i.host,u,t.location)||(this._redirect(i,n,u),this._isJustPathHashDifferent(i.host,u,t.location)))?(e=function(t){return function(){var r;if(t._isOrphan(i)){if(i.orphan===!1)return t._debug("Skip the orphan step "+(t._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),o?t._showPrevStep():t._showNextStep(),void 0;t._debug("Show the orphan step "+(t._current+1)+". Orphans option is true.")}return i.backdrop&&t._showBackdrop(i),r=function(){if(t.getCurrentStep()===n&&!t.ended())return(null!=i.element&&i.backdrop&&t._showOverlayElement(i,!0),t._showPopover(i,n),null!=i.onShown&&i.onShown(t),t._debug("Step "+(t._current+1)+" of "+t._options.steps.length))},i.autoscroll?t._scrollIntoView(i,r):r(),i.duration?t.resume():void 0}}(this),r=i.delay.show||i.delay,"[object Number]"==={}.toString.call(r)&&r>0?(this._debug("Wait "+r+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(n){return function(){return n._callOnPromiseDone(f,e)}}(this),r)):this._callOnPromiseDone(f,e),f):void 0)},i.prototype.getCurrentStep=function(){return this._current},i.prototype.setCurrentStep=function(n){return null!=n?(this._current=n,this._setState("current_step",n)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},i.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()).element,!0)},i.prototype._setState=function(n,t){var r,i;if(this._options.storage){i=""+this._options.name+"_"+n;try{this._options.storage.setItem(i,t)}catch(u){r=u;r.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(i,t)}return null==this._state&&(this._state={}),this._state[n]=t},i.prototype._removeState=function(n){var t;return this._options.storage?(t=""+this._options.name+"_"+n,this._options.storage.removeItem(t),this._options.afterRemoveState(t)):null!=this._state?delete this._state[n]:void 0},i.prototype._getState=function(n){var i,t;return this._options.storage?(i=""+this._options.name+"_"+n,t=this._options.storage.getItem(i)):null!=this._state&&(t=this._state[n]),(void 0===t||"null"===t)&&(t=null),this._options.afterGetState(n,t),t},i.prototype._showNextStep=function(){var t,i,n;return n=this.getStep(this._current),i=function(t){return function(){return t.showStep(n.next)}}(this),t=this._makePromise(null!=n.onNext?n.onNext(this):void 0),this._callOnPromiseDone(t,i)},i.prototype._showPrevStep=function(){var t,i,n;return n=this.getStep(this._current),i=function(t){return function(){return t.showStep(n.prev)}}(this),t=this._makePromise(null!=n.onPrev?n.onPrev(this):void 0),this._callOnPromiseDone(t,i)},i.prototype._debug=function(n){if(this._options.debug)return window.console.log("Bootstrap Tour '"+this._options.name+"' | "+n)},i.prototype._isRedirect=function(n,t,i){var r;return null!=n&&""!==n&&("[object RegExp]"==={}.toString.call(n)&&!n.test(i.origin)||"[object String]"==={}.toString.call(n)&&this._isHostDifferent(n,i))?!0:(r=[i.pathname,i.search,i.hash].join(""),null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(r)||"[object String]"==={}.toString.call(t)&&this._isPathDifferent(t,r)))},i.prototype._isHostDifferent=function(n,t){switch({}.toString.call(n)){case"[object RegExp]":return!n.test(t.origin);case"[object String]":return this._getProtocol(n)!==this._getProtocol(t.href)||this._getHost(n)!==this._getHost(t.href);default:return!0}},i.prototype._isPathDifferent=function(n,t){return this._getPath(n)!==this._getPath(t)||!this._equal(this._getQuery(n),this._getQuery(t))||!this._equal(this._getHash(n),this._getHash(t))},i.prototype._isJustPathHashDifferent=function(n,t,i){var r;return null!=n&&""!==n&&this._isHostDifferent(n,i)?!1:(r=[i.pathname,i.search,i.hash].join(""),"[object String]"==={}.toString.call(t)?this._getPath(t)===this._getPath(r)&&this._equal(this._getQuery(t),this._getQuery(r))&&!this._equal(this._getHash(t),this._getHash(r)):!1)},i.prototype._redirect=function(i,r,u){var f;return n.isFunction(i.redirect)?i.redirect.call(this,u):(f="[object String]"==={}.toString.call(i.host)?""+i.host+u:u,this._debug("Redirect to "+f),this._getState("redirect_to")!==""+r?(this._setState("redirect_to",""+r),t.location.href=f):(this._debug("Error redirection loop to "+u),this._removeState("redirect_to"),null!=i.onRedirectError?i.onRedirectError(this):void 0))},i.prototype._isOrphan=function(t){return null==t.element||!n(t.element).length||n(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==n(t.element)[0].namespaceURI},i.prototype._isLast=function(){return this._current<this._options.steps.length-1},i.prototype._showPopover=function(t,i){var r,u,f,e,o;return n(".tour-"+this._options.name).remove(),e=n.extend({},this._options),f=this._isOrphan(t),t.template=this._template(t,i),f&&(t.element="body",t.placement="top"),r=n(t.element),r.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),t.options&&n.extend(e,t.options),t.reflex&&!f&&n(t.reflexElement).addClass("tour-step-element-reflex").off(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(n){return function(){return n._isLast()?n.next():n.end()}}(this)),o=t.smartPlacement===!0&&-1===t.placement.search(/auto/i),r.popover({placement:o?"auto "+t.placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),u=r.data("bs.popover")?r.data("bs.popover").tip():r.data("popover").tip(),u.attr("id",t.id),this._focus(u,r,t.next<0),this._reposition(u,t),f?this._center(u):void 0},i.prototype._template=function(t,i){var f,e,o,s,r,u;return u=t.template,this._isOrphan(t)&&"[object Boolean]"!=={}.toString.call(t.orphan)&&(u=t.orphan),r=n.isFunction(u)?n(u(i,t)):n(u),f=r.find(".popover-navigation"),o=f.find('[data-role="prev"]'),e=f.find('[data-role="next"]'),s=f.find('[data-role="pause-resume"]'),this._isOrphan(t)&&r.addClass("orphan"),r.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),t.reflex&&r.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&o.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.next<0&&e.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.duration||s.remove(),r.clone().wrap("<div>").parent().html()},i.prototype._reflexEvent=function(n){return"[object Boolean]"==={}.toString.call(n)?"click":n},i.prototype._focus=function(n,t,i){var r,u;return u=i?"end":"next",r=n.find("[data-role='"+u+"']"),t.on("shown.bs.popover",function(){return r.focus()})},i.prototype._reposition=function(i,r){var f,h,e,c,o,s,u;if(c=i[0].offsetWidth,h=i[0].offsetHeight,u=i.offset(),o=u.left,s=u.top,f=n(t).outerHeight()-u.top-i.outerHeight(),0>f&&(u.top=u.top+f),e=n("html").outerWidth()-u.left-i.outerWidth(),0>e&&(u.left=u.left+e),u.top<0&&(u.top=0),u.left<0&&(u.left=0),i.offset(u),"bottom"===r.placement||"top"===r.placement){if(o!==u.left)return this._replaceArrow(i,2*(u.left-o),c,"left")}else if(s!==u.top)return this._replaceArrow(i,2*(u.top-s),h,"top")},i.prototype._center=function(t){return t.css("top",n(window).outerHeight()/2-t.outerHeight()/2)},i.prototype._replaceArrow=function(n,t,i,r){return n.find(".arrow").css(r,t?50*(1-t/i)+"%":"")},i.prototype._scrollIntoView=function(t,i){var u,o,h,s,f,r,e;if(u=n(t.element),!u.length)return i();switch(o=n(window),f=u.offset().top,s=u.outerHeight(),e=o.height(),r=0,t.placement){case"top":r=Math.max(0,f-e/2);break;case"left":case"right":r=Math.max(0,f+s/2-e/2);break;case"bottom":r=Math.max(0,f+s-e/2)}return this._debug("Scroll into view. ScrollTop: "+r+". Element offset: "+f+". Window height: "+e+"."),h=0,n("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(r)},function(n){return function(){if(2==++h)return(i(),n._debug("Scroll into view.\nAnimation end element offset: "+u.offset().top+".\nWindow height: "+o.height()+"."))}}(this))},i.prototype._onResize=function(t,i){return n(window).on("resize.tour-"+this._options.name,function(){return clearTimeout(i),i=setTimeout(t,100)})},i.prototype._initMouseNavigation=function(){var i;return i=this,n(t).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(n){return function(t){return t.preventDefault(),n.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(n){return function(t){return t.preventDefault(),n._current>0?n.prev():void 0}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(n){return function(t){return t.preventDefault(),n.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(t){var r;return t.preventDefault(),r=n(this),r.text(i._paused?r.data("pause-text"):r.data("resume-text")),i._paused?i.resume():i.pause()})},i.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return n(t).on("keyup.tour-"+this._options.name,function(n){return function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),n._isLast()?n.next():n.end();case 37:if(t.preventDefault(),n._current>0)return n.prev()}}}(this))},i.prototype._makePromise=function(t){return t&&n.isFunction(t.then)?t:null},i.prototype._callOnPromiseDone=function(n,t,i){return n?n.then(function(n){return function(){return t.call(n,i)}}(this)):t.call(this,i)},i.prototype._showBackdrop=function(t){if(!this.backdrop.backgroundShown)return(this.backdrop=n("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,n(t.backdropContainer).append(this.backdrop))},i.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},i.prototype._hideBackground=function(){if(this.backdrop&&this.backdrop.remove)return(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1)},i.prototype._showOverlayElement=function(t,i){var u,f,r;return f=n(t.element),u=n(t.backdropElement),!f||0===f.length||this.backdrop.overlayElementShown&&!i?void 0:(this.backdrop.overlayElementShown||(this.backdrop.$element=u.addClass("tour-step-backdrop"),this.backdrop.$background=n("<div>",{"class":"tour-step-background"}),this.backdrop.$background.appendTo(t.backdropContainer),this.backdrop.overlayElementShown=!0),r={width:u.innerWidth(),height:u.innerHeight(),offset:u.offset()},t.backdropPadding&&(r=this._applyBackdropPadding(t.backdropPadding,r)),this.backdrop.$background.width(r.width).height(r.height).offset(r.offset))},i.prototype._hideOverlayElement=function(){if(this.backdrop.overlayElementShown)return(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1)},i.prototype._applyBackdropPadding=function(n,t){return"object"==typeof n?(null==n.top&&(n.top=0),null==n.right&&(n.right=0),null==n.bottom&&(n.bottom=0),null==n.left&&(n.left=0),t.offset.top=t.offset.top-n.top,t.offset.left=t.offset.left-n.left,t.width=t.width+n.left+n.right,t.height=t.height+n.top+n.bottom):(t.offset.top=t.offset.top-n,t.offset.left=t.offset.left-n,t.width=t.width+2*n,t.height=t.height+2*n),t},i.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},i.prototype._getProtocol=function(n){return n=n.split("://"),n.length>1?n[0]:"http"},i.prototype._getHost=function(n){return n=n.split("//"),n=n.length>1?n[1]:n[0],n.split("/")[0]},i.prototype._getPath=function(n){return n.replace(/\/?$/,"").split("?")[0].split("#")[0]},i.prototype._getQuery=function(n){return this._getParams(n,"?")},i.prototype._getHash=function(n){return this._getParams(n,"#")},i.prototype._getParams=function(n,t){var r,i,f,u,e;if(i=n.split(t),1===i.length)return{};for(i=i[1].split("&"),f={},u=0,e=i.length;e>u;u++)r=i[u],r=r.split("="),f[r[0]]=r[1]||"";return f},i.prototype._equal=function(n,t){var i,f,e,r,u,o;if("[object Object]"==={}.toString.call(n)&&"[object Object]"==={}.toString.call(t)){if(f=Object.keys(n),e=Object.keys(t),f.length!==e.length)return!1;for(i in n)if(r=n[i],!this._equal(t[i],r))return!1;return!0}if("[object Array]"==={}.toString.call(n)&&"[object Array]"==={}.toString.call(t)){if(n.length!==t.length)return!1;for(i=u=0,o=n.length;o>u;i=++u)if(r=n[i],!this._equal(r,t[i]))return!1;return!0}return n===t},i}()});WebTour=function(){var n,t={name:document.location.pathname.replaceAll("/","").replaceAll(".",""),keyboard:!0,storage:!1};this.end=function(){n&&(n.end(),n=null)};this.addSteps=function(n){return t.steps=n,this};this.start=function(i){var r,u;if(WebTour.currentSteps=0,i==null||i==!1){if(r=localStorage.getItem(WebTour.getStorageKey()),r&&(u=JSON.stringify(t.steps).hashCode(),u==r))return;t.onEnd=function(){var n=JSON.stringify(t.steps).hashCode();localStorage.setItem(WebTour.getStorageKey(),n)}}t.template=this.getWebTourTemplate();n=new Tour(t);n.init();n.start()}};WebTour.prototype.getWebTourTemplate=function(){return'<div class="popover tour"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><div class="popover-navigation"><div class="btn-group"><button class="btn default" data-role="prev">Voltar<\/button><button class="btn blue" data-role="next">Avançar<\/button><\/div><button class="btn default" data-role="end">Finalizar<\/button><\/div><\/div>'};WebTour.getStorageKey=function(){return"webtour"+($("#username").val()+document.location.pathname).hashCode()};WebTour.currentSteps=0;WebTour.displayCommandContainer=function(n){let t=n._options.steps[WebTour.currentSteps].element;$(t).hasClass("command-action")||(WebTour.displayGroupMore(t,"block"),WebTour.displayGroupCommand(t,"block"))};WebTour.hideCommandContainer=function(n){let t=n._options.steps[WebTour.currentSteps].element;$(t).hasClass("command-action")||(WebTour.displayGroupMore(t,""),WebTour.displayGroupCommand(t,""))};WebTour.nextSteps=function(){WebTour.currentSteps++};WebTour.prevSteps=function(){WebTour.currentSteps--};WebTour.getCommandSelector=function(n){var t,i,r,u;return document.querySelector(".more-menu-item").style.display!=="none"&&(t=document.querySelector(".more-menu-item #nested-"+n),t!==null&&t.style.display!=="none")?"#nested-"+n:(i=document.querySelector(".commands-bar #top-"+n),i!==null&&i.style.display!=="none")?"#top-"+n:(r=document.querySelector("#"+n+"_record"),r!==null)?r:(u=document.querySelector(".dropdown-menu-command-record #"+n),u!==null?u:void 0)};WebTour.displayGroupCommand=function(n,t){let i=$(n).parents(".dropdown-menu");if(i.length>0)for(let n=i.length-1;n>=0;n--){let r=i[n];$(r).parent().hasClass("dropdown-submenu")&&Benner.HorizontalMenu.positionSubMenu($(r).parent());$(r).css("display",t)}};WebTour.displayGroupMore=function(n,t){let i=$(n).parents(".more-menu-item");i.length>0&&i.children("ul").css("display",t)};Benner.Tile=function(){var t=function(t){App.blockUI({target:$("#"+t.Id+" .widget-body"),animate:!0});$.ajax({type:"POST",contentType:"application/json",url:Benner.Page.getApplicationPath()+"api/tile",data:JSON.stringify(t),async:!0}).success(function(t){n(t)}).fail(function(n){var i=$("#"+t.Id);i.find(".tilevalue").text("ERRO");i.find(".tiledescription").text("mais detalhes no console");console.log(n.responseJSON.ExceptionMessage)}).complete(function(){App.unblockUI($("#"+t.Id+" .widget-body"))})},n=function(n){var t=$("#"+n.Id),i,u,r;t.find(".tilevalue").text(n.Value);t.find(".tiledescription").text(n.Description);n.TileType==1?(i=t.find(".tilecolor[data-tilecolor]"),r=i.data("tilecolor"),i.removeClass(r).addClass(n.Color),t.find(".tileicon").removeClass().addClass(n.Icon)):n.TileType==2?(i=t.find(".tilecolor[data-tilecolor]"),r=i.data("tilecolor"),i.removeClass("font-"+r).addClass("font-"+n.Color),t.find(".tileicon").removeClass().addClass(n.Icon),n.Progress=n.Progress==null?"":n.Progress+"%",t.find(".tileprogress.tilecolor").width(n.Progress).removeClass(r).addClass(n.Color),t.find(".tileprogress:not(.tilecolor)").text(n.Progress),n.Status==null&&(n.Status=" "),t.find(".tilestatus").text(n.Status)):n.TileType==3&&(u=t.find(".tilecolor.tileicon"),r=u.data("tilecolor"),u.removeClass("bg-"+u.data("tilecolor")).removeClass(u.data("tileicon")).addClass("bg-"+n.Color).addClass(n.Icon),t.find(".tileprefix").text(n.Prefix))};return{init:function(n){t(n)},render:function(t){n(t)}}}();Benner.AutoComplete=function(){function n(){var r="",t=document.querySelectorAll(".autocomplete-source-view"),n,i;if(n!==null){if(n=null,t.length>1){for(i=0;i<t.length;i++)if(t[i].className.indexOf("tt-input")!==-1){n=t[i];break}}else n=t[0];n!==null&&(n.nodeName==="SELECT"&&n.selectedIndex!==-1?r=n.options[0].text:n.nodeName==="INPUT"&&n.value!==""?r=n.value:console.log("Problema ao recuperar valor do provedor"))}return r}var t=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/views",remote:{url:Benner.Page.getApplicationPath()+"api/views?filter%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"views",source:t}},i=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/views/lookup",remote:{url:Benner.Page.getApplicationPath()+"api/views/lookup?filter=%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"viewsLookup",source:t}},r=function(){var i=n(),t,r;if(i!==""){t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.Name},prefetch:Benner.Page.getApplicationPath()+"api/views/"+i+"/fields",remote:{url:Benner.Page.getApplicationPath()+"api/views/"+i+"/fields/%FILTER",wildcard:"%FILTER"}});t.initialize();function n(n,i,r){n===""?i(t.all()):t.search(n,i,r)}return r={name:"fieldsView",displayKey:"Name",source:n,templates:{header:"<h5>Campos da visão<\/h5>"}}}return console.log("Não encontrado 'autocomplete-field-origin' no HTML"),null},u=function(){var i=n(),t,r;if(i!==""){t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.Name},prefetch:Benner.Page.getApplicationPath()+"api/views/"+i+"/commands",remote:{url:Benner.Page.getApplicationPath()+"api/views/"+i+"/commands/%FILTER",wildcard:"%FILTER"}});t.initialize();function n(n,i,r){n===""?i(t.all()):t.search(n,i,r)}return r={name:"commandsView",displayKey:"Name",source:n,templates:{header:"<h5>Comandos da visão<\/h5>"}}}return console.log("Não encontrado 'autocomplete-field-origin' no HTML"),null},f=function(){var i=n(),t,r;if(i!==""){t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(n){return n.Name},prefetch:Benner.Page.getApplicationPath()+"api/views/"+i+"/customcommands",remote:{url:Benner.Page.getApplicationPath()+"api/views/"+i+"/customcommands/%FILTER",wildcard:"%FILTER"}});t.initialize();function n(n,i,r){n===""?i(t.all()):t.search(n,i,r)}return r={name:"commandsView",displayKey:"Name",source:n,templates:{header:"<h5>Comandos da visão<\/h5>"}}}return console.log("Não encontrado 'autocomplete-field-origin' no HTML"),null},e=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/pages",remote:{url:Benner.Page.getApplicationPath()+"api/pages?filter=%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"pages",source:t}},o=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/pages/specialized",remote:{url:Benner.Page.getApplicationPath()+"api/pages/specialized?filter=%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"pageSpecialized",source:t}},s=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/Color/prefetch",remote:{url:Benner.Page.getApplicationPath()+"api/Color?filter=%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"colors",source:t,templates:{suggestion:function(n){return'<div><span class="bg-'+n+' autocomplete-color">&nbsp;<\/span><span>'+n+"<\/span><\/div>"}}}},h=function(){function t(t,i,r){t===""?i(n.all()):n.search(t,i,r)}var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:Benner.Page.getApplicationPath()+"api/FontIcons/prefetch",remote:{url:Benner.Page.getApplicationPath()+"api/FontIcons?filter=%FILTER",wildcard:"%FILTER"}});return n.initialize(),{name:"fontIcons",source:t,templates:{suggestion:function(n){return"<div><i class='"+n+"' /> "+n+"<\/div>"}}}};return{init:function(){var y=document.querySelectorAll(".autocomplete"),a,w,b,k,d,v,l,g,nt;if(y.length!==0)for(a=0;a<y.length;a++){var p=y[a],c=p.className,n=[];c.indexOf("autocomplete-color")!==-1&&(w=s(),n.push(w));c.indexOf("autocomplete-fonticon")!==-1&&(b=h(),n.push(b));c.indexOf("autocomplete-views")!==-1&&(k=t(),n.push(k));c.indexOf("autocomplete-lookup-views")!==-1&&(d=i(),n.push(d));c.indexOf("autocomplete-fields")!==-1&&(v=r(),v!==null&&(n.length===0&&(v.templates.header=""),n.push(v)));c.indexOf("autocomplete-commands")!==-1&&(l=u(),l!==null&&(n.length===0&&(l.templates.header=""),n.push(l)));c.indexOf("autocomplete-customcommands")!==-1&&(l=f(),l!==null&&(n.length===0&&(l.templates.header=""),n.push(l)));c.indexOf("autocomplete-pages")!==-1&&(g=e(),n.push(g));c.indexOf("autocomplete-specialized-pages")!==-1&&(nt=o(),n.push(nt));$(p).typeahead("destroy");$(p).typeahead({hint:!1,highlight:!0,minLength:0},n).bind("typeahead:change",function(n){n.currentTarget.onchange!=null&&($(this).unbind("typeahead:change"),n.currentTarget.onchange())})}}}}();Benner.PivotTable=function(){function n(n){var t=n.toString().match(/function\s.*?\(([^)]*)\)/)[1];return t.split(",").map(function(n){return n.replace(/\/\*.*\*\//,"").trim()}).filter(function(n){return n})}return init=function(n,t,i,r,u,f){head.js(Benner.Page.versionedResource("content/assets/jquery.initialize/jquery.initialize.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/libs/jszip/3.1.2/jszip.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/event.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/globalize.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/globalize/message.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/globalize/number.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/globalize/currency.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/globalize/date.min.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/dx.all.js"),Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/localization/dx.all.br.js"),function(){$.when($.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/ca-gregorian.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/numbers.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/currencies.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/en/ca-gregorian.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/en/currencies.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/main/en/numbers.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental/likelySubtags.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental/timeData.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental/weekData.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental/currencyData.json")),$.get(Benner.Page.versionedResource("content/assets/dx-pivotgrid/js/cldr/supplemental/numberingSystems.json"))).then(function(){return[].slice.apply(arguments,[0]).map(function(n){return n[0]})}).then(Globalize.load).then(function(){Globalize.locale(navigator.language||navigator.browserLanguage);var e=$("#"+t).parents("div[widget-type='PivotTable']");if(e.hasClass("minimized")){$("#"+t).removeAttr("style");return}beforeDataLoad(t);$.when($.getJSON(Benner.Page.getApplicationPath()+"api/pivottables/"+n+"/")).then(function(e){initPivotGrid(e,n,t,i,r,u=="True",f);afterDataLoad(t)},function(n){var i,r;n.status==500||n.status==400?(i=n.statusText,r=n.responseText):i=r=n.responseText;handleError(t,i,r)})})});App.handleThirdPartyFullscreen=resizePivotGrid},resizePivotGrid=function(n,t){var i,r,u;t!==undefined?(i=t-50,n.parent("div[widget-type='PivotTable']").hasClass("minimized")&&n.find(".caption.collapsible").click(),n.find(".collapse").hide(),n.parent("div[widget-type='PivotTable']").width("70%")):(n.find(".collapse").show(),r=n.attr("ID").replace("portlet_",""),u=$("#"+r+"_heigth").val(),i=u-40,n.parent("div[widget-type='PivotTable']").width(""));$($(".dx-pivotgrid",n)[0]).dxPivotGrid({height:i});$.initialize(".dx-overlay-wrapper.dx-fieldchooser-popup.dx-popup-wrapper",function(){$(this).css("z-index",10070)})},handleError=function(n,t,i){afterDataLoad(n);i!==undefined&&console.log(i);$("#"+n+"").html($.trim(t).replace(/"/g,""));$("#"+n+"").css("height","50px")},initPivotGrid=function(n,t,i,r,u,f,e){if(n.error!=undefined){handleError(i,n.error);return}handleSpecialFields(n.fields);n.onFieldsPrepared=prepareFields;$("#"+i+"").dxPivotGrid({allowSortingBySummary:!0,allowSorting:!0,allowFiltering:!0,allowExpandAll:!0,rowHeaderLayout:"tree",height:r,stateStoring:{enabled:!0,type:"localStorage",storageKey:u},showBorders:!0,scrolling:{mode:"virtual"},fieldPanel:{showColumnFields:f,showDataFields:f,showRowFields:f,showFilterFields:!0,allowFieldDragging:!0,visible:!0},fieldChooser:{enabled:!0,height:Math.round(document.documentElement.clientHeight*.7),width:Math.round(document.documentElement.clientWidth*.7)},"export":{enabled:!0,fileName:e},onContextMenuPreparing:contextMenuPreparing,dataSource:n});(navigator.language||navigator.browserLanguage)==="pt-BR"&&DevExpress.config({defaultCurrency:"BRL"})},beforeDataLoad=function(n){var t=$("#"+n);t.parents("div[widget-type='PivotTable'] .portlet-body").height(t.height());t.parent().hide();App.blockUI({target:t.parents("div[widget-type='PivotTable']"),animate:!0})},afterDataLoad=function(n){var t=$("#"+n);App.unblockUI(t.parents("div[widget-type='PivotTable']"));t.parent().show();t.parents("div[widget-type='PivotTable'] .portlet-body").removeAttr("style")},prepareFields=function(n){$.each(n,function(n,t){t.summaryDisplayMode!==undefined&&t.summaryDisplayMode.indexOf("percent")!==-1&&(t.format.formatter=formatPercentual);t.headerFilter={width:280,height:400}})},handleSpecialFields=function(n){setSelectorFunctions(n);setNumberFormatter(n)},setSelectorFunctions=function(t){for(var u,r=$.grep(t,function(n){return n.selector!==undefined}),i=0;i<r.length;i++)u=r[i].selector,r[i].selector=function(t){var r=n(this.selector),i;u.replace(new RegExp("data.","g"),r+".");try{return i=new Function("data","return eval("+u+")"),i(t)}catch(f){return null}}},setNumberFormatter=function(n){for(var i=$.grep(n,function(n){return n.dataType==="number"}),t=0;t<i.length;t++)if(i[t].format!==undefined){if(i[t].format.precision!==undefined){let n={minimumIntegerDigits:1,minimumFractionDigits:Number(i[t].format.precision),maximumFractionDigits:Number(i[t].format.precision)};i[t].format.formatter=function(t){return Globalize.formatNumber(t,n)}}else i[t].format.formatter=formatDecimal;(i[t].format.type==="undefined"||i[t].format.type!=="undefined"&&i[t].format.type!=="currency")&&(i[t].format.type="fixedPoint")}else i[t].format={formatter:formatDecimal}},formatDecimal=function(n){return Globalize.formatNumber(n)},formatPercentual=function(n){return Globalize.formatNumber(n,{style:"percent",minimumFractionDigits:1,maximumFractionDigits:2})},contextMenuPreparing=function(n){var i=n.component.getDataSource(),t=n.field,r;t&&t.dataType==="number"&&(r=function(n){var r={};n.itemData.context==="percent"?r={summaryType:"sum",summaryDisplayMode:n.itemData.value,format:{formatter:formatPercentual}}:n.itemData.context==="regular"&&(r={summaryType:n.itemData.value,summaryDisplayMode:undefined,format:{formatter:formatDecimal}});i.field(t.index,r);i.load()},summaryItems=[],n.items.push({text:"Tipo agregação",items:summaryItems}),$.each([{text:"Soma",context:"regular",type:"sum"},{text:"Média",context:"regular",type:"avg"},{text:"Mínimo",context:"regular",type:"min"},{text:"Máximo",context:"regular",type:"max"},{text:"Quantidade",context:"regular",type:"count"},{text:"Percentual da linha (total geral)",context:"percent",type:"percentOfRowTotal"},{text:"Percentual da coluna (total geral)",context:"percent",type:"percentOfColumnTotal"}],function(n,i){var u=i.type,f=!1;f=i.context==="regular"?t.summaryType===u&&t.summaryDisplayMode===undefined:t.summaryDisplayMode===u&&t.summaryType==="sum";summaryItems.push({text:i.text,context:i.context,value:i.type,onItemClick:r,selected:f})}))},{init:init}}();
//# sourceMappingURL=Benner.min.js.map